var $jscomp={scope:{},findInternal:function(u,b,l){u instanceof String&&(u=String(u));for(var f=u.length,k=0;k<f;k++){var g=u[k];if(b.call(l,g,k,u))return{i:k,v:g}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(u,b,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");u!=Array.prototype&&u!=Object.prototype&&(u[b]=l.value)};
$jscomp.getGlobal=function(u){return"undefined"!=typeof window&&window===u?u:"undefined"!=typeof global&&null!=global?global:u};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(u,b,l,f){if(b){l=$jscomp.global;u=u.split(".");for(f=0;f<u.length-1;f++){var k=u[f];k in l||(l[k]={});l=l[k]}u=u[u.length-1];f=l[u];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(l,u,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(u){return u?u:function(b,l){return $jscomp.findInternal(this,b,l).v}},"es6-impl","es3");$jscomp.checkStringArgs=function(u,b,l){if(null==u)throw new TypeError("The 'this' value for String.prototype."+l+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+l+" must not be a regular expression");return u+""};
$jscomp.polyfill("String.prototype.includes",function(u){return u?u:function(b,l){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,l||0)}},"es6-impl","es3");$jscomp.polyfill("String.prototype.startsWith",function(u){return u?u:function(b,l){var f=$jscomp.checkStringArgs(this,b,"startsWith");b+="";for(var k=f.length,g=b.length,e=Math.max(0,Math.min(l|0,f.length)),d=0;d<g&&e<k;)if(f[e++]!=b[d++])return!1;return d>=g}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(u){return $jscomp.SYMBOL_PREFIX+(u||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var u=$jscomp.global.Symbol.iterator;u||(u=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[u]&&$jscomp.defineProperty(Array.prototype,u,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(u){var b=0;return $jscomp.iteratorPrototype(function(){return b<u.length?{done:!1,value:u[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(u){$jscomp.initSymbolIterator();u={next:u};u[$jscomp.global.Symbol.iterator]=function(){return this};return u};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(u,b){$jscomp.initSymbolIterator();u instanceof String&&(u+="");var l=0,f={next:function(){if(l<u.length){var k=l++;return{value:b(k,u[k]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.keys",function(u){return u?u:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(u){return u?u:function(){return[]}},"es6-impl","es5");$jscomp.owns=function(u,b){return Object.prototype.hasOwnProperty.call(u,b)};
$jscomp.polyfill("Object.assign",function(u){return u?u:function(b,l){for(var f=1;f<arguments.length;f++){var k=arguments[f];if(k)for(var g in k)$jscomp.owns(k,g)&&(b[g]=k[g])}return b}},"es6-impl","es3");$jscomp.polyfill("Object.setPrototypeOf",function(u){return u?u:"object"!=typeof"".__proto__?null:function(b,l){b.__proto__=l;if(b.__proto__!==l)throw new TypeError(b+" is not extensible");return b}},"es6","es5");
$jscomp.polyfill("Array.prototype.fill",function(u){return u?u:function(b,l,f){var k=this.length||0;0>l&&(l=Math.max(0,k+l));if(null==f||f>k)f=k;f=Number(f);0>f&&(f=Math.max(0,k+f));for(l=Number(l||0);l<f;l++)this[l]=b;return this}},"es6-impl","es3");$jscomp.polyfill("Math.sign",function(u){return u?u:function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1}},"es6-impl","es3");
(function(u){var b=function(b,f){this.init("simplecolorpicker",b,f)};b.prototype={constructor:b,init:function(b,f,k){var g=this;g.type=b;g.$select=u(f);g.$select.hide();g.options=u.extend({},u.fn.simplecolorpicker.defaults,k);g.$colorList=null;!0===g.options.picker?(b=g.$select.find("> option:selected").text(),g.$icon=u('<span class="simplecolorpicker icon" title="'+b+'" style="background-color: '+g.$select.val()+';" role="button" tabindex="0"></span>').insertAfter(g.$select),g.$icon.on("click."+
g.type,u.proxy(g.showPicker,g)),g.$picker=u('<span class="simplecolorpicker picker '+g.options.theme+'"></span>').appendTo(document.body),g.$colorList=g.$picker,u(document).on("mousedown."+g.type,u.proxy(g.hidePicker,g)),g.$picker.on("mousedown."+g.type,u.proxy(g.mousedown,g))):(g.$inline=u('<span class="simplecolorpicker inline '+g.options.theme+'"></span>').insertAfter(g.$select),g.$colorList=g.$inline);g.$select.find("> option").each(function(){var e=u(this),d=e.val(),c=e.is(":selected"),a=e.is(":disabled"),
h="";!0===c&&(h=" data-selected");c="";!0===a&&(c=" data-disabled");var m="";!1===a&&(m=' title="'+e.text()+'"');var b="";!1===a&&(b=' role="button" tabindex="0"');d=u('<span class="color"'+m+' style="background-color: '+d+';" data-color="'+d+'"'+h+c+b+"></span>");g.$colorList.append(d);d.on("click."+g.type,u.proxy(g.colorSpanClicked,g));!0===e.next().is("optgroup")&&g.$colorList.append('<span class="vr"></span>')})},selectColor:function(b){var f=this.$colorList.find("> span.color").filter(function(){return u(this).data("color").toLowerCase()===
b.toLowerCase()});0<f.length?this.selectColorSpan(f):console.error("The given color '"+b+"' could not be found")},showPicker:function(){var b=this.$icon.offset();this.$picker.css({left:b.left-6,top:b.top+this.$icon.outerHeight()});this.$picker.show(this.options.pickerDelay)},hidePicker:function(){this.$picker.hide(this.options.pickerDelay)},selectColorSpan:function(b){var f=b.data("color"),k=b.prop("title");b.siblings().removeAttr("data-selected");b.attr("data-selected","");!0===this.options.picker&&
(this.$icon.css("background-color",f),this.$icon.prop("title",k),this.hidePicker());this.$select.val(f)},colorSpanClicked:function(b){!1===u(b.target).is("[data-disabled]")&&(this.selectColorSpan(u(b.target)),this.$select.trigger("change"))},mousedown:function(b){b.stopPropagation();b.preventDefault()},destroy:function(){!0===this.options.picker&&(this.$icon.off("."+this.type),this.$icon.remove(),u(document).off("."+this.type));this.$colorList.off("."+this.type);this.$colorList.remove();this.$select.removeData(this.type);
this.$select.show()}};u.fn.simplecolorpicker=function(l){var f=u.makeArray(arguments);f.shift();return this.each(function(){var k=u(this),g=k.data("simplecolorpicker"),e="object"===typeof l&&l;void 0===g&&k.data("simplecolorpicker",g=new b(this,e));"string"===typeof l&&g[l].apply(g,f)})};u.fn.simplecolorpicker.defaults={theme:"",picker:!1,pickerDelay:0}})(jQuery);/*
 Bootstrap-select v1.10.0 (http://silviomoreto.github.io/bootstrap-select)

 Copyright 2013-2016 bootstrap-select
 Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
*/
(function(u,b){"function"===typeof define&&define.amd?define(["jquery"],function(l){return b(l)}):"object"===typeof exports?module.exports=b(require("jquery")):b(jQuery)})(this,function(u){(function(b){function l(d){b.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,
ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){d=d.replace(this.re,this.ch)});return d}function f(d){var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a="(?:"+Object.keys(c).join("|")+")",h=new RegExp(a,"g");d=null==d?"":""+d;return(new RegExp(a)).test(d)?d.replace(h,function(a){return c[a]}):d}function k(d,c){var a=arguments,h=d,e=c;[].shift.apply(a);var p,n=this.each(function(){var c=b(this);if(c.is("select")){var d=c.data("selectpicker"),m="object"==
typeof h&&h;if(!d)d=b.extend({},g.DEFAULTS,b.fn.selectpicker.defaults||{},c.data(),m),d.template=b.extend({},g.DEFAULTS.template,b.fn.selectpicker.defaults?b.fn.selectpicker.defaults.template:{},c.data().template,m.template),c.data("selectpicker",d=new g(this,d,e));else if(m)for(var n in m)m.hasOwnProperty(n)&&(d.options[n]=m[n]);"string"==typeof h&&(p=d[h]instanceof Function?d[h].apply(d,a):d.options[h])}});return"undefined"!==typeof p?p:n}String.prototype.includes||function(){var d={}.toString,
c=function(){try{var a={},c=Object.defineProperty,d=c(a,a,a)&&c}catch(q){}return d}(),a="".indexOf,h=function(c){if(null==this)throw new TypeError;var h=String(this);if(c&&"[object RegExp]"==d.call(c))throw new TypeError;var e=h.length,m=String(c),b=m.length,g=1<arguments.length?arguments[1]:void 0,g=g?Number(g):0;g!=g&&(g=0);return b+Math.min(Math.max(g,0),e)>e?!1:-1!=a.call(h,m,g)};c?c(String.prototype,"includes",{value:h,configurable:!0,writable:!0}):String.prototype.includes=h}();String.prototype.startsWith||
function(){var d=function(){try{var a={},c=Object.defineProperty,d=c(a,a,a)&&c}catch(n){}return d}(),c={}.toString,a=function(a){if(null==this)throw new TypeError;var d=String(this);if(a&&"[object RegExp]"==c.call(a))throw new TypeError;var h=d.length,e=String(a),b=e.length,w=1<arguments.length?arguments[1]:void 0,w=w?Number(w):0;w!=w&&(w=0);w=Math.min(Math.max(w,0),h);if(b+w>h)return!1;for(h=-1;++h<b;)if(d.charCodeAt(w+h)!=e.charCodeAt(h))return!1;return!0};d?d(String.prototype,"startsWith",{value:a,
configurable:!0,writable:!0}):String.prototype.startsWith=a}();Object.keys||(Object.keys=function(d,c,a){a=[];for(c in d)a.hasOwnProperty.call(d,c)&&a.push(c);return a});b.fn.triggerNative=function(d){var c=this[0],a;c.dispatchEvent?("function"===typeof Event?a=new Event(d,{bubbles:!0}):(a=document.createEvent("Event"),a.initEvent(d,!0,!1)),c.dispatchEvent(a)):(c.fireEvent&&(a=document.createEventObject(),a.eventType=d,c.fireEvent("on"+d,a)),this.trigger(d))};b.expr[":"].icontains=function(d,c,a){d=
b(d);return(d.data("tokens")||d.text()).toUpperCase().includes(a[3].toUpperCase())};b.expr[":"].ibegins=function(d,c,a){d=b(d);return(d.data("tokens")||d.text()).toUpperCase().startsWith(a[3].toUpperCase())};b.expr[":"].aicontains=function(d,c,a){d=b(d);return(d.data("tokens")||d.data("normalizedText")||d.text()).toUpperCase().includes(a[3].toUpperCase())};b.expr[":"].aibegins=function(d,c,a){d=b(d);return(d.data("tokens")||d.data("normalizedText")||d.text()).toUpperCase().startsWith(a[3].toUpperCase())};
var g=function(d,c,a){a&&(a.stopPropagation(),a.preventDefault());this.$element=b(d);this.$lis=this.$menu=this.$button=this.$newElement=null;this.options=c;null===this.options.title&&(this.options.title=this.$element.attr("title"));this.val=g.prototype.val;this.render=g.prototype.render;this.refresh=g.prototype.refresh;this.setStyle=g.prototype.setStyle;this.selectAll=g.prototype.selectAll;this.deselectAll=g.prototype.deselectAll;this.destroy=g.prototype.destroy;this.remove=g.prototype.remove;this.show=
g.prototype.show;this.hide=g.prototype.hide;this.init()};g.VERSION="1.10.0";g.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(d,c){return 1==d?"{0} item selected":"{0} items selected"},maxOptionsText:function(d,c){return[1==d?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==c?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,
doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1};
g.prototype={constructor:g,init:function(){var d=this,c=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");
this.$element.removeClass("bs-select-hidden");this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right");"undefined"!==typeof c&&(this.$button.attr("data-id",c),b('label[for="'+c+'"]').click(function(a){a.preventDefault();d.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",
this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(a){d.$element.trigger("hide.bs.select",a)},"hidden.bs.dropdown":function(a){d.$element.trigger("hidden.bs.select",a)},"show.bs.dropdown":function(a){d.$element.trigger("show.bs.select",a)},"shown.bs.dropdown":function(a){d.$element.trigger("shown.bs.select",a)}});if(d.$element[0].hasAttribute("required"))this.$element.on("invalid",function(){d.$button.addClass("bs-invalid").focus();d.$element.on({"focus.bs.select":function(){d.$button.focus();
d.$element.off("focus.bs.select")},"shown.bs.select":function(){d.$element.val(d.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&d.$button.removeClass("bs-invalid");d.$element.off("rendered.bs.select")}})});setTimeout(function(){d.$element.trigger("loaded.bs.select")})},createDropdown:function(){var d=this.multiple||this.options.showTick?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",a=this.autofocus?" autofocus":
"",h=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",e=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+f(this.options.liveSearchPlaceholder)+'"')+"></div>":"";return b('<div class="btn-group bootstrap-select'+d+c+'"><button type="button" class="'+this.options.styleBase+
' dropdown-toggle" data-toggle="dropdown"'+a+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+h+e+(this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+
this.options.deselectAllText+"</button></div></div>":"")+'<ul class="dropdown-menu inner" role="menu"></ul>'+(this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"")+"</div></div>")},createView:function(){var d=this.createDropdown(),c=this.createLi();d.find("ul")[0].innerHTML=c;return d},reloadLi:function(){this.destroyLi();var d=this.createLi();
this.$menuInner[0].innerHTML=d},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var d=this,c=[],a=0,h=document.createElement("option"),e=-1,p=function(a,c,d,h){return"<li"+("undefined"!==typeof d&""!==d?' class="'+d+'"':"")+("undefined"!==typeof c&null!==c?' data-original-index="'+c+'"':"")+("undefined"!==typeof h&null!==h?'data-optgroup="'+h+'"':"")+">"+a+"</li>"},n=function(a,c,h,e){return'<a tabindex="0"'+("undefined"!==typeof c?' class="'+c+'"':"")+("undefined"!==typeof h?
' style="'+h+'"':"")+(d.options.liveSearchNormalize?' data-normalized-text="'+l(f(a))+'"':"")+("undefined"!==typeof e||null!==e?' data-tokens="'+e+'"':"")+">"+a+'<span class="'+d.options.iconBase+" "+d.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(e--,!this.$element.find(".bs-title-option").length)){var q=this.$element[0];h.className="bs-title-option";h.appendChild(document.createTextNode(this.options.title));h.value="";q.insertBefore(h,q.firstChild);void 0===
b(q.options[q.selectedIndex]).attr("selected")&&(h.selected=!0)}this.$element.find("option").each(function(h){var m=b(this);e++;if(!m.hasClass("bs-title-option")){var q=this.className||"",w=this.style.cssText,g=m.data("content")?m.data("content"):m.html(),k=m.data("tokens")?m.data("tokens"):null,f="undefined"!==typeof m.data("subtext")?'<small class="text-muted">'+m.data("subtext")+"</small>":"",l="undefined"!==typeof m.data("icon")?'<span class="'+d.options.iconBase+" "+m.data("icon")+'"></span> ':
"",C="OPTGROUP"===this.parentNode.tagName,E=this.disabled||C&&this.parentNode.disabled;""!==l&&E&&(l="<span>"+l+"</span>");if(d.options.hideDisabled&&E&&!C)e--;else{m.data("content")||(g=l+'<span class="text">'+g+f+"</span>");if(C&&!0!==m.data("divider")){f=" "+this.parentNode.className||"";0===m.index()&&(a+=1,l=this.parentNode.label,C="undefined"!==typeof m.parent().data("subtext")?'<small class="text-muted">'+m.parent().data("subtext")+"</small>":"",l=(m.parent().data("icon")?'<span class="'+d.options.iconBase+
" "+m.parent().data("icon")+'"></span> ':"")+'<span class="text">'+l+C+"</span>",0!==h&&0<c.length&&(e++,c.push(p("",null,"divider",a+"div"))),e++,c.push(p(l,null,"dropdown-header"+f,a)));if(d.options.hideDisabled&&E){e--;return}c.push(p(n(g,"opt "+q+f,w,k),h,"",a))}else!0===m.data("divider")?c.push(p("",h,"divider")):!0===m.data("hidden")?c.push(p(n(g,q,w,k),h,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(e++,c.push(p("",null,"divider",a+"div"))),
c.push(p(n(g,q,w,k),h)));d.liObj[h]=e}}});this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected");return c.join("")},findLis:function(){null==this.$lis&&(this.$lis=this.$menu.find("li"));return this.$lis},render:function(d){var c=this,a;!1!==d&&this.$element.find("option").each(function(a){var d=c.findLis().eq(c.liObj[a]);c.setDisabled(a,this.disabled||"OPTGROUP"===this.parentNode.tagName&&
this.parentNode.disabled,d);c.setSelected(a,this.selected,d)});this.tabIndex();d=this.$element.find("option").map(function(){if(this.selected&&(!c.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))){var a=b(this),d=a.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+a.data("icon")+'"></i> ':"",h;h=c.options.showSubtext&&a.data("subtext")&&!c.multiple?' <small class="text-muted">'+a.data("subtext")+"</small>":"";return"undefined"!==
typeof a.attr("title")?a.attr("title"):a.data("content")&&c.options.showContent?a.data("content"):d+a.html()+h}}).toArray();a=this.multiple?d.join(this.options.multipleSeparator):d[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var h=this.options.selectedTextFormat.split(">");if(1<h.length&&d.length>h[1]||1==h.length&&2<=d.length)a=this.options.hideDisabled?", [disabled]":"",a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+a).length,a=("function"===
typeof this.options.countSelectedText?this.options.countSelectedText(d.length,a):this.options.countSelectedText).replace("{0}",d.length.toString()).replace("{1}",a.toString())}void 0==this.options.title&&(this.options.title=this.$element.attr("title"));"static"==this.options.selectedTextFormat&&(a=this.options.title);a||(a="undefined"!==typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",b.trim(a.replace(/<[^>]*>?/g,"")));this.$button.children(".filter-option").html(a);
this.$element.trigger("rendered.bs.select")},setStyle:function(d,c){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var a=d?d:this.options.style;"add"==c?this.$button.addClass(a):"remove"==c?this.$button.removeClass(a):(this.$button.removeClass(this.options.style),this.$button.addClass(a))},liHeight:function(d){if(d||!1!==this.options.size&&!this.sizeInfo){d=document.createElement("div");
var c=document.createElement("div"),a=document.createElement("ul"),h=document.createElement("li"),e=document.createElement("li"),p=document.createElement("a"),n=document.createElement("span"),q=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,w=this.options.liveSearch?document.createElement("div"):null,g=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):
null,k=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;n.className="text";d.className=this.$menu[0].parentNode.className+" open";c.className="dropdown-menu open";a.className="dropdown-menu inner";h.className="divider";n.appendChild(document.createTextNode("Inner text"));p.appendChild(n);e.appendChild(p);a.appendChild(e);a.appendChild(h);q&&c.appendChild(q);w&&(e=document.createElement("span"),w.className="bs-searchbox",
e.className="form-control",w.appendChild(e),c.appendChild(w));g&&c.appendChild(g);c.appendChild(a);k&&c.appendChild(k);d.appendChild(c);document.body.appendChild(d);a=p.offsetHeight;q=q?q.offsetHeight:0;w=w?w.offsetHeight:0;g=g?g.offsetHeight:0;k=k?k.offsetHeight:0;h=b(h).outerHeight(!0);e=(p="function"===typeof getComputedStyle?getComputedStyle(c):!1)?null:b(c);c=parseInt(p?p.paddingTop:e.css("paddingTop"))+parseInt(p?p.paddingBottom:e.css("paddingBottom"))+parseInt(p?p.borderTopWidth:e.css("borderTopWidth"))+
parseInt(p?p.borderBottomWidth:e.css("borderBottomWidth"));p=c+parseInt(p?p.marginTop:e.css("marginTop"))+parseInt(p?p.marginBottom:e.css("marginBottom"))+2;document.body.removeChild(d);this.sizeInfo={liHeight:a,headerHeight:q,searchHeight:w,actionsHeight:g,doneButtonHeight:k,dividerHeight:h,menuPadding:c,menuExtras:p}}},setSize:function(){this.findLis();this.liHeight();this.options.header&&this.$menu.css("padding-top",0);if(!1!==this.options.size){var d=this,c=this.$menu,a=this.$menuInner,h=b(window),
e=this.$newElement[0].offsetHeight,p=this.sizeInfo.liHeight,n=this.sizeInfo.headerHeight,q=this.sizeInfo.searchHeight,w=this.sizeInfo.actionsHeight,g=this.sizeInfo.doneButtonHeight,k=this.sizeInfo.dividerHeight,f=this.sizeInfo.menuPadding,l=this.sizeInfo.menuExtras,t=this.options.hideDisabled?".disabled":"",y,A,C,E,F=function(){C=d.$newElement.offset().top-h.scrollTop();E=h.height()-C-e};F();"auto"===this.options.size?(k=function(){var h;h=function(a,c){return function(d){return c?d.classList?d.classList.contains(a):
b(d).hasClass(a):!(d.classList?d.classList.contains(a):b(d).hasClass(a))}};var e=d.$menuInner[0].getElementsByTagName("li"),e=Array.prototype.filter?Array.prototype.filter.call(e,h("hidden",!1)):d.$lis.not(".hidden");h=Array.prototype.filter?Array.prototype.filter.call(e,h("dropdown-header",!0)):e.filter(".dropdown-header");F();y=E-l;d.options.container?(c.data("height")||c.data("height",c.height()),A=c.data("height")):A=c.height();d.options.dropupAuto&&d.$newElement.toggleClass("dropup",C>E&&y-l<
A);d.$newElement.hasClass("dropup")&&(y=C-l);h=3<e.length+h.length?3*p+l-2:0;c.css({"max-height":y+"px",overflow:"hidden","min-height":h+n+q+w+g+"px"});a.css({"max-height":y-n-q-w-g-f+"px","overflow-y":"auto","min-height":Math.max(h-f,0)+"px"})},k(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",k),h.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",k)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(t).length>
this.options.size&&(t=this.$lis.not(".divider").not(t).children().slice(0,this.options.size).last().parent().index(),t=this.$lis.slice(0,t+1).filter(".divider").length,y=p*this.options.size+t*k+f,d.options.container?(c.data("height")||c.data("height",c.height()),A=c.data("height")):A=c.height(),d.options.dropupAuto&&this.$newElement.toggleClass("dropup",C>E&&y-l<A),c.css({"max-height":y+n+q+w+g+"px",overflow:"hidden","min-height":""}),a.css({"max-height":y-f+"px","overflow-y":"auto","min-height":""}))}},
setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var d=this.$menu.parent().clone().appendTo("body"),c=this.options.container?this.$newElement.clone().appendTo("body"):d,a=d.children(".dropdown-menu").outerWidth(),h=c.css("width","auto").children("button").outerWidth();d.remove();c.remove();this.$newElement.css("width",Math.max(a,h)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?
(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=b('<div class="bs-container" />');var d=this,c,a,h=function(h){d.$bsContainer.addClass(h.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",h.hasClass("dropup"));c=h.offset();
a=h.hasClass("dropup")?0:h[0].offsetHeight;d.$bsContainer.css({top:c.top+a,left:c.left,width:h[0].offsetWidth})};this.$button.on("click",function(){var a=b(this);d.isDisabled()||(h(d.$newElement),d.$bsContainer.appendTo(d.options.container).toggleClass("open",!a.hasClass("open")).append(d.$menu))});b(window).on("resize scroll",function(){h(d.$newElement)});this.$element.on("hide.bs.select",function(){d.$menu.data("height",d.$menu.height());d.$bsContainer.detach()})},setSelected:function(d,c,a){a||
(a=this.findLis().eq(this.liObj[d]));a.toggleClass("selected",c)},setDisabled:function(d,c,a){a||(a=this.findLis().eq(this.liObj[d]));c?a.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):a.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var d=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&
(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!d.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));
this.$element.attr("tabindex",-98)},clickListener:function(){var d=this,c=b(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()});c.data("spaceSelect",!1);this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&c.data("spaceSelect")&&(a.preventDefault(),c.data("spaceSelect",!1))});this.$button.on("click",function(){d.setSize()});this.$element.on("shown.bs.select",function(){if(!d.options.liveSearch&&!d.multiple)d.$menuInner.find(".selected a").focus();
else if(!d.multiple){var a=d.liObj[d.$element[0].selectedIndex];"number"===typeof a&&!1!==d.options.size&&(a=d.$lis.eq(a)[0].offsetTop-d.$menuInner[0].offsetTop,a=a-d.$menuInner[0].offsetHeight/2+d.sizeInfo.liHeight/2,d.$menuInner[0].scrollTop=a)}});this.$menuInner.on("click","li a",function(a){var c=b(this),e=c.parent().data("originalIndex"),p=d.$element.val(),n=d.$element.prop("selectedIndex");d.multiple&&a.stopPropagation();a.preventDefault();if(!d.isDisabled()&&!c.parent().hasClass("disabled")){var q=
d.$element.find("option");a=q.eq(e);var w=a.prop("selected"),g=a.parent("optgroup"),k=d.options.maxOptions,f=g.data("maxOptions")||!1;if(d.multiple){if(a.prop("selected",!w),d.setSelected(e,!w),c.blur(),!1!==k||!1!==f){var l=k<q.filter(":selected").length,t=f<g.find("option:selected").length;if(k&&l||f&&t)if(k&&1==k)q.prop("selected",!1),a.prop("selected",!0),d.$menuInner.find(".selected").removeClass("selected"),d.setSelected(e,!0);else if(f&&1==f)g.find("option:selected").prop("selected",!1),a.prop("selected",
!0),k=c.parent().data("optgroup"),d.$menuInner.find('[data-optgroup="'+k+'"]').removeClass("selected"),d.setSelected(e,!0);else{var c="function"===typeof d.options.maxOptionsText?d.options.maxOptionsText(k,f):d.options.maxOptionsText,q=c[0].replace("{n}",k),g=c[1].replace("{n}",f),y=b('<div class="notify"></div>');c[2]&&(q=q.replace("{var}",c[2][1<k?0:1]),g=g.replace("{var}",c[2][1<f?0:1]));a.prop("selected",!1);d.$menu.append(y);k&&l&&(y.append(b("<div>"+q+"</div>")),d.$element.trigger("maxReached.bs.select"));
f&&t&&(y.append(b("<div>"+g+"</div>")),d.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){d.setSelected(e,!1)},10);y.delay(750).fadeOut(300,function(){b(this).remove()})}}}else q.prop("selected",!1),a.prop("selected",!0),d.$menuInner.find(".selected").removeClass("selected"),d.setSelected(e,!0);d.multiple?d.options.liveSearch&&d.$searchbox.focus():d.$button.focus();(p!=d.$element.val()&&d.multiple||n!=d.$element.prop("selectedIndex")&&!d.multiple)&&d.$element.trigger("changed.bs.select",
[e,a.prop("selected"),w]).triggerNative("change")}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(a){a.currentTarget==this&&(a.preventDefault(),a.stopPropagation(),d.options.liveSearch&&!b(a.target).hasClass("close")?d.$searchbox.focus():d.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault();a.stopPropagation();d.options.liveSearch?d.$searchbox.focus():d.$button.focus()});this.$menu.on("click",".popover-title .close",
function(){d.$button.click()});this.$searchbox.on("click",function(a){a.stopPropagation()});this.$menu.on("click",".actions-btn",function(a){d.options.liveSearch?d.$searchbox.focus():d.$button.focus();a.preventDefault();a.stopPropagation();b(this).hasClass("bs-select-all")?d.selectAll():d.deselectAll()});this.$element.change(function(){d.render(!1)})},liveSearchListener:function(){var d=this,c=b('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",
function(){d.$menuInner.find(".active").removeClass("active");d.$searchbox.val()&&(d.$searchbox.val(""),d.$lis.not(".is-hidden").removeClass("hidden"),c.parent().length&&c.remove());d.multiple||d.$menuInner.find(".selected").addClass("active");setTimeout(function(){d.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(d.$searchbox.val()){var a=
d.$lis.not(".is-hidden").removeClass("hidden").children("a"),a=d.options.liveSearchNormalize?a.not(":a"+d._searchStyle()+'("'+l(d.$searchbox.val())+'")'):a.not(":"+d._searchStyle()+'("'+d.$searchbox.val()+'")');a.parent().addClass("hidden");d.$lis.filter(".dropdown-header").each(function(){var a=b(this),c=a.data("optgroup");0===d.$lis.filter("[data-optgroup="+c+"]").not(a).not(".hidden").length&&(a.addClass("hidden"),d.$lis.filter("[data-optgroup="+c+"div]").addClass("hidden"))});var h=d.$lis.not(".hidden");
h.each(function(a){var c=b(this);c.hasClass("divider")&&(c.index()===h.first().index()||c.index()===h.last().index()||h.eq(a+1).hasClass("divider"))&&c.addClass("hidden")});d.$lis.not(".hidden, .no-results").length?c.parent().length&&c.remove():(c.parent().length&&c.remove(),c.html(d.options.noneResultsText.replace("{0}",'"'+f(d.$searchbox.val())+'"')).show(),d.$menuInner.append(c))}else d.$lis.not(".is-hidden").removeClass("hidden"),c.parent().length&&c.remove();d.$lis.filter(".active").removeClass("active");
d.$searchbox.val()&&d.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();b(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(d){return"undefined"!==typeof d?(this.$element.val(d),this.render(),this.$element):this.$element.val()},changeAll:function(d){"undefined"===typeof d&&(d=!0);this.findLis();for(var c=this.$element.find("option"),a=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",
d),h=a.length,e=[],p=0;p<h;p++){var n=a[p].getAttribute("data-original-index");e[e.length]=c.eq(n)[0]}b(e).prop("selected",d);this.render(!1);this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(d){(d=d||window.event)&&d.stopPropagation();this.$button.trigger("click")},keydown:function(d){var c=b(this),a=c.is("input")?c.parent().parent():c.parent(),h,e=a.data("this"),p,
n,q,w,g,k,f,x={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};e.options.liveSearch&&(a=c.parent().parent());e.options.container&&(a=e.$menu);h=b("[role=menu] li",a);f=e.$newElement.hasClass("open");!f&&(48<=
d.keyCode&&57>=d.keyCode||96<=d.keyCode&&105>=d.keyCode||65<=d.keyCode&&90>=d.keyCode)&&(e.options.container?e.$button.trigger("click"):(e.setSize(),e.$menu.parent().addClass("open"),f=!0),e.$searchbox.focus());e.options.liveSearch&&(/(^9$|27)/.test(d.keyCode.toString(10))&&f&&0===e.$menu.find(".active").length&&(d.preventDefault(),e.$menu.parent().removeClass("open"),e.options.container&&e.$newElement.removeClass("open"),e.$button.focus()),h=b("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",
a),c.val()||/(38|40)/.test(d.keyCode.toString(10))||0!==h.filter(".active").length||(h=e.$menuInner.find("li"),h=e.options.liveSearchNormalize?h.filter(":a"+e._searchStyle()+"("+l(x[d.keyCode])+")"):h.filter(":"+e._searchStyle()+"("+x[d.keyCode]+")")));if(h.length){if(/(38|40)/.test(d.keyCode.toString(10)))a=h.index(h.find("a").filter(":focus").parent()),n=h.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(),q=h.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),
p=h.eq(a).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),w=h.eq(a).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),g=h.eq(p).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),e.options.liveSearch&&(h.each(function(a){b(this).hasClass("disabled")||b(this).data("index",a)}),a=h.index(h.filter(".active")),n=h.first().data("index"),q=h.last().data("index"),p=h.eq(a).nextAll().eq(0).data("index"),w=h.eq(a).prevAll().eq(0).data("index"),
g=h.eq(p).prevAll().eq(0).data("index")),k=c.data("prevIndex"),38==d.keyCode?(e.options.liveSearch&&a--,a!=g&&a>w&&(a=w),a<n&&(a=n),a==k&&(a=q)):40==d.keyCode&&(e.options.liveSearch&&a++,-1==a&&(a=0),a!=g&&a<p&&(a=p),a>q&&(a=q),a==k&&(a=n)),c.data("prevIndex",a),e.options.liveSearch?(d.preventDefault(),c.hasClass("dropdown-toggle")||(h.removeClass("active").eq(a).addClass("active").children("a").focus(),c.focus())):h.eq(a).children("a").focus();else if(!c.is("input")){var t=[];h.each(function(){b(this).hasClass("disabled")||
b.trim(b(this).children("a").text().toLowerCase()).substring(0,1)==x[d.keyCode]&&t.push(b(this).index())});a=b(document).data("keycount");a++;b(document).data("keycount",a);b.trim(b(":focus").text().toLowerCase()).substring(0,1)!=x[d.keyCode]?(a=1,b(document).data("keycount",a)):a>=t.length&&(b(document).data("keycount",0),a>t.length&&(a=1));h.eq(t[a-1]).children("a").focus()}(/(13|32)/.test(d.keyCode.toString(10))||/(^9$)/.test(d.keyCode.toString(10))&&e.options.selectOnTab)&&f&&(/(32)/.test(d.keyCode.toString(10))||
d.preventDefault(),e.options.liveSearch?/(32)/.test(d.keyCode.toString(10))||(e.$menuInner.find(".active a").click(),c.focus()):(c=b(":focus"),c.click(),c.focus(),d.preventDefault(),b(document).data("spaceSelect",!0)),b(document).data("keycount",0));if(/(^9$|27)/.test(d.keyCode.toString(10))&&f&&(e.multiple||e.options.liveSearch)||/(27)/.test(d.keyCode.toString(10))&&!f)e.$menu.parent().removeClass("open"),e.options.container&&e.$newElement.removeClass("open"),e.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device")},
refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():
this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var e=b.fn.selectpicker;b.fn.selectpicker=k;b.fn.selectpicker.Constructor=g;b.fn.selectpicker.noConflict=function(){b.fn.selectpicker=e;return this};b(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',g.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',
function(d){d.stopPropagation()});b(window).on("load.bs.select.data-api",function(){b(".selectpicker").each(function(){var d=b(this);k.call(d,d.data())})})})(u)});/*
 JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org  https://mths.be/utf8js v2.0.0 by @mathias */
(function(u){"object"===typeof exports&&"undefined"!==typeof module?module.exports=u():"function"===typeof define&&define.amd?define([],u):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).io=u()})(function(){return function b(l,f,k){function g(c,a){if(!f[c]){if(!l[c]){var d="function"==typeof require&&require;if(!a&&d)return d(c,!0);if(e)return e(c,!0);d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d;}d=f[c]={exports:{}};
l[c][0].call(d.exports,function(a){var d=l[c][1][a];return g(d?d:a)},d,d.exports,b,l,f,k)}return f[c].exports}for(var e="function"==typeof require&&require,d=0;d<k.length;d++)g(k[d]);return g}({1:[function(b,l,f){function k(h,e){"object"==typeof h&&(e=h,h=void 0);e=e||{};var m=g(h),b=m.source,q=m.id,w=m.path,w=a[q]&&w in a[q].nsps;e.forceNew||e["force new connection"]||!1===e.multiplex||w?(c("ignoring socket cache for %s",b),b=d(b,e)):(a[q]||(c("new io instance for %s",b),a[q]=d(b,e)),b=a[q]);return b.socket(m.path)}
var g=b("./url"),e=b("socket.io-parser"),d=b("./manager"),c=b("debug")("socket.io-client");l.exports=f=k;var a=f.managers={};f.protocol=e.protocol;f.connect=k;f.Manager=b("./manager");f.Socket=b("./socket")},{"./manager":2,"./socket":4,"./url":5,debug:14,"socket.io-parser":40}],2:[function(b,l,f){function k(a,c){if(!(this instanceof k))return new k(a,c);a&&"object"==typeof a&&(c=a,a=void 0);c=c||{};c.path=c.path||"/socket.io";this.nsps={};this.subs=[];this.opts=c;this.reconnection(!1!==c.reconnection);
this.reconnectionAttempts(c.reconnectionAttempts||Infinity);this.reconnectionDelay(c.reconnectionDelay||1E3);this.reconnectionDelayMax(c.reconnectionDelayMax||5E3);this.randomizationFactor(c.randomizationFactor||.5);this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==c.timeout?2E4:c.timeout);this.readyState="closed";this.uri=a;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=
new d.Encoder;this.decoder=new d.Decoder;(this.autoConnect=!1!==c.autoConnect)&&this.open()}var g=b("engine.io-client"),e=b("./socket");f=b("component-emitter");var d=b("socket.io-parser"),c=b("./on"),a=b("component-bind"),h=b("debug")("socket.io-client:manager"),m=b("indexof"),p=b("backo2"),n=Object.prototype.hasOwnProperty;l.exports=k;k.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)n.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)};k.prototype.updateSocketIds=
function(){for(var a in this.nsps)n.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)};f(k.prototype);k.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};k.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};k.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);
return this};k.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};k.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};k.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};k.prototype.maybeReconnectOnOpen=
function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};k.prototype.open=k.prototype.connect=function(a){h("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;h("opening %s",this.uri);var d=this.engine=g(this.uri,this.opts),e=this;this.readyState="opening";this.skipReconnect=!1;var m=c(d,"open",function(){e.onopen();a&&a()}),b=c(d,"error",function(c){h("connect_error");e.cleanup();e.readyState="closed";e.emitAll("connect_error",
c);if(a){var d=Error("Connection error");d.data=c;a(d)}else e.maybeReconnectOnOpen()});if(!1!==this._timeout){var q=this._timeout;h("connect attempt will timeout after %d",q);var n=setTimeout(function(){h("connect attempt timed out after %d",q);m.destroy();d.close();d.emit("error","timeout");e.emitAll("connect_timeout",q)},q);this.subs.push({destroy:function(){clearTimeout(n)}})}this.subs.push(m);this.subs.push(b);return this};k.prototype.onopen=function(){h("open");this.cleanup();this.readyState=
"open";this.emit("open");var d=this.engine;this.subs.push(c(d,"data",a(this,"ondata")));this.subs.push(c(d,"ping",a(this,"onping")));this.subs.push(c(d,"pong",a(this,"onpong")));this.subs.push(c(d,"error",a(this,"onerror")));this.subs.push(c(d,"close",a(this,"onclose")));this.subs.push(c(this.decoder,"decoded",a(this,"ondecoded")))};k.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};k.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};k.prototype.ondata=
function(a){this.decoder.add(a)};k.prototype.ondecoded=function(a){this.emit("packet",a)};k.prototype.onerror=function(a){h("error",a);this.emitAll("error",a)};k.prototype.socket=function(a){function c(){~m(h.connecting,d)||h.connecting.push(d)}var d=this.nsps[a];if(!d){d=new e(this,a);this.nsps[a]=d;var h=this;d.on("connecting",c);d.on("connect",function(){d.id=h.engine.id});this.autoConnect&&c()}return d};k.prototype.destroy=function(a){a=m(this.connecting,a);~a&&this.connecting.splice(a,1);this.connecting.length||
this.close()};k.prototype.packet=function(a){h("writing packet %j",a);var c=this;c.encoding?c.packetBuffer.push(a):(c.encoding=!0,this.encoder.encode(a,function(d){for(var h=0;h<d.length;h++)c.engine.write(d[h],a.options);c.encoding=!1;c.processPacketQueue()}))};k.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};k.prototype.cleanup=function(){h("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=
[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};k.prototype.close=k.prototype.disconnect=function(){h("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};k.prototype.onclose=function(a){h("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};k.prototype.reconnect=
function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var c=this.backoff.duration();h("will wait %dms before reconnect attempt",c);this.reconnecting=!0;var d=setTimeout(function(){a.skipReconnect||(h("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||
a.open(function(c){c?(h("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",c.data)):(h("reconnect success"),a.onreconnect())}))},c);this.subs.push({destroy:function(){clearTimeout(d)}})}};k.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":3,"./socket":4,backo2:8,"component-bind":11,"component-emitter":12,debug:14,"engine.io-client":16,indexof:32,"socket.io-parser":40}],
3:[function(b,l,f){l.exports=function(b,g,e){b.on(g,e);return{destroy:function(){b.removeListener(g,e)}}}},{}],4:[function(b,l,f){function k(a,c){this.io=a;this.nsp=c;this.json=this;this.ids=0;this.acks={};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var g=b("socket.io-parser");f=b("component-emitter");var e=b("to-array"),d=b("./on"),c=b("component-bind"),a=b("debug")("socket.io-client:socket"),h=b("has-binary");l.exports=k;var m=
{connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=f.prototype.emit;f(k.prototype);k.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[d(a,"open",c(this,"onopen")),d(a,"packet",c(this,"onpacket")),d(a,"close",c(this,"onclose"))]}};k.prototype.open=k.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==
this.io.readyState)this.onopen();this.emit("connecting");return this};k.prototype.send=function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};k.prototype.emit=function(c){if(m.hasOwnProperty(c))return p.apply(this,arguments),this;var d=e(arguments),b=g.EVENT;h(d)&&(b=g.BINARY_EVENT);b={type:b,data:d,options:{}};b.options.compress=!this.flags||!1!==this.flags.compress;"function"==typeof d[d.length-1]&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=
d.pop(),b.id=this.ids++);this.connected?this.packet(b):this.sendBuffer.push(b);delete this.flags;return this};k.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};k.prototype.onopen=function(){a("transport is open - connecting");"/"!=this.nsp&&this.packet({type:g.CONNECT})};k.prototype.onclose=function(c){a("close (%s)",c);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",c)};k.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case g.CONNECT:this.onconnect();
break;case g.EVENT:this.onevent(a);break;case g.BINARY_EVENT:this.onevent(a);break;case g.ACK:this.onack(a);break;case g.BINARY_ACK:this.onack(a);break;case g.DISCONNECT:this.ondisconnect();break;case g.ERROR:this.emit("error",a.data)}};k.prototype.onevent=function(c){var d=c.data||[];a("emitting event %j",d);null!=c.id&&(a("attaching ack callback to event"),d.push(this.ack(c.id)));this.connected?p.apply(this,d):this.receiveBuffer.push(d)};k.prototype.ack=function(c){var d=this,m=!1;return function(){if(!m){m=
!0;var b=e(arguments);a("sending ack %j",b);var n=h(b)?g.BINARY_ACK:g.ACK;d.packet({type:n,id:c,data:b})}}};k.prototype.onack=function(c){var d=this.acks[c.id];"function"==typeof d?(a("calling ack %s with %j",c.id,c.data),d.apply(this,c.data),delete this.acks[c.id]):a("bad ack %s",c.id)};k.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};k.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)p.apply(this,this.receiveBuffer[a]);
this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};k.prototype.ondisconnect=function(){a("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};k.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};k.prototype.close=k.prototype.disconnect=function(){this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:g.DISCONNECT}));
this.destroy();if(this.connected)this.onclose("io client disconnect");return this};k.prototype.compress=function(a){this.flags=this.flags||{};this.flags.compress=a;return this}},{"./on":3,"component-bind":11,"component-emitter":12,debug:14,"has-binary":30,"socket.io-parser":40,"to-array":43}],5:[function(b,l,f){(function(k){var g=b("parseuri"),e=b("debug")("socket.io-client:url");l.exports=function(d,c){var a=d;c=c||k.location;null==d&&(d=c.protocol+"//"+c.host);"string"==typeof d&&("/"==d.charAt(0)&&
(d="/"==d.charAt(1)?c.protocol+d:c.host+d),/^(https?|wss?):\/\//.test(d)||(e("protocol-less url %s",d),d="undefined"!=typeof c?c.protocol+"//"+d:"https://"+d),e("parse %s",d),a=g(d));a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443"));a.path=a.path||"/";var h=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;a.id=a.protocol+"://"+h+":"+a.port;a.href=a.protocol+"://"+h+(c&&c.port==a.port?"":":"+a.port);return a}}).call(this,"undefined"!==typeof self?self:
"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{debug:14,parseuri:38}],6:[function(b,l,f){function k(){}l.exports=function(b,e,d){function c(h,m){if(0>=c.count)throw Error("after called too many times");--c.count;h?(a=!0,e(h),e=d):0!==c.count||a||e(null,m)}var a=!1;d=d||k;c.count=b;return 0===b?e():c}},{}],7:[function(b,l,f){l.exports=function(b,g,e){var d=b.byteLength;g=g||0;e=e||d;if(b.slice)return b.slice(g,e);0>g&&(g+=d);0>e&&(e+=d);e>d&&(e=d);if(g>=d||g>=e||0===d)return new ArrayBuffer(0);
b=new Uint8Array(b);for(var d=new Uint8Array(e-g),c=0;g<e;g++,c++)d[c]=b[g];return d.buffer}},{}],8:[function(b,l,f){function k(b){b=b||{};this.ms=b.min||100;this.max=b.max||1E4;this.factor=b.factor||2;this.jitter=0<b.jitter&&1>=b.jitter?b.jitter:0;this.attempts=0}l.exports=k;k.prototype.duration=function(){var b=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var e=Math.random(),d=Math.floor(e*this.jitter*b),b=0==(Math.floor(10*e)&1)?b-d:b+d;return Math.min(b,this.max)|0};k.prototype.reset=
function(){this.attempts=0};k.prototype.setMin=function(b){this.ms=b};k.prototype.setMax=function(b){this.max=b};k.prototype.setJitter=function(b){this.jitter=b}},{}],9:[function(b,l,f){(function(){for(var b=new Uint8Array(256),g=0;64>g;g++)b["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(g)]=g;f.encode=function(e){e=new Uint8Array(e);var d,c=e.length,a="";for(d=0;d<c;d+=3)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e[d]>>2],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(e[d]&
3)<<4|e[d+1]>>4],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(e[d+1]&15)<<2|e[d+2]>>6],a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e[d+2]&63];2===c%3?a=a.substring(0,a.length-1)+"=":1===c%3&&(a=a.substring(0,a.length-2)+"==");return a};f.decode=function(e){var d=.75*e.length,c=e.length,a=0,h,m,p,n;"="===e[e.length-1]&&(d--,"="===e[e.length-2]&&d--);for(var q=new ArrayBuffer(d),g=new Uint8Array(q),d=0;d<c;d+=4)h=b[e.charCodeAt(d)],m=b[e.charCodeAt(d+
1)],p=b[e.charCodeAt(d+2)],n=b[e.charCodeAt(d+3)],g[a++]=h<<2|m>>4,g[a++]=(m&15)<<4|p>>2,g[a++]=(p&3)<<6|n&63;return q}})()},{}],10:[function(b,l,f){(function(b){function g(a){for(var c=0;c<a.length;c++){var d=a[c];if(d.buffer instanceof ArrayBuffer){var h=d.buffer;if(d.byteLength!==h.byteLength){var e=new Uint8Array(d.byteLength);e.set(new Uint8Array(h,d.byteOffset,d.byteLength));h=e.buffer}a[c]=h}}}function e(a,d){d=d||{};var h=new c;g(a);for(var e=0;e<a.length;e++)h.append(a[e]);return d.type?
h.getBlob(d.type):h.getBlob()}function d(a,c){g(a);return new Blob(a,c||{})}var c=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,a;try{a=2===(new Blob(["hi"])).size}catch(p){a=!1}var h;if(h=a)try{h=2===(new Blob([new Uint8Array([1,2])])).size}catch(p){h=!1}var m=c&&c.prototype.append&&c.prototype.getBlob;b=a?h?b.Blob:d:m?e:void 0;l.exports=b}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],11:[function(b,
l,f){var k=[].slice;l.exports=function(b,e){"string"==typeof e&&(e=b[e]);if("function"!=typeof e)throw Error("bind() requires a function");var d=k.call(arguments,2);return function(){return e.apply(b,d.concat(k.call(arguments)))}}},{}],12:[function(b,l,f){function k(b){if(b){for(var e in k.prototype)b[e]=k.prototype[e];return b}}l.exports=k;k.prototype.on=k.prototype.addEventListener=function(b,e){this._callbacks=this._callbacks||{};(this._callbacks["$"+b]=this._callbacks["$"+b]||[]).push(e);return this};
k.prototype.once=function(b,e){function d(){this.off(b,d);e.apply(this,arguments)}d.fn=e;this.on(b,d);return this};k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(b,e){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks["$"+b];if(!d)return this;if(1==arguments.length)return delete this._callbacks["$"+b],this;for(var c,a=0;a<d.length;a++)if(c=d[a],c===e||c.fn===e){d.splice(a,
1);break}return this};k.prototype.emit=function(b){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),d=this._callbacks["$"+b];if(d)for(var d=d.slice(0),c=0,a=d.length;c<a;++c)d[c].apply(this,e);return this};k.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks["$"+b]||[]};k.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],13:[function(b,l,f){l.exports=function(b,g){var e=function(){};e.prototype=g.prototype;b.prototype=
new e;b.prototype.constructor=b}},{}],14:[function(b,l,f){function k(){var e;try{e=f.storage.debug}catch(d){}return e}f=l.exports=b("./debug");f.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};f.formatArgs=function(){var e=arguments,d=this.useColors;e[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+e[0]+(d?"%c ":" ")+"+"+f.humanize(this.diff);if(!d)return e;var d="color: "+this.color,e=[e[0],d,"color: inherit"].concat(Array.prototype.slice.call(e,
1)),c=0,a=0;e[0].replace(/%[a-z%]/g,function(d){"%%"!==d&&(c++,"%c"===d&&(a=c))});e.splice(a,0,d);return e};f.save=function(e){try{null==e?f.storage.removeItem("debug"):f.storage.debug=e}catch(d){}};f.load=k;f.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var g;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)g=
chrome.storage.local;else a:{try{g=window.localStorage;break a}catch(e){}g=void 0}f.storage=g;f.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");f.formatters.j=function(e){return JSON.stringify(e)};f.enable(k())},{"./debug":15}],15:[function(b,l,f){f=l.exports=function(e){function d(){}function c(){var a=+new Date;c.diff=a-(g||a);c.prev=g;g=c.curr=a;null==c.useColors&&(c.useColors=f.useColors());null==c.color&&c.useColors&&(c.color=f.colors[k++%f.colors.length]);
var d=Array.prototype.slice.call(arguments);d[0]=f.coerce(d[0]);"string"!==typeof d[0]&&(d=["%o"].concat(d));var e=0;d[0]=d[0].replace(/%([a-z%])/g,function(a,h){if("%%"===a)return a;e++;var b=f.formatters[h];"function"===typeof b&&(a=b.call(c,d[e]),d.splice(e,1),e--);return a});"function"===typeof f.formatArgs&&(d=f.formatArgs.apply(c,d));(c.log||f.log||console.log.bind(console)).apply(c,d)}d.enabled=!1;c.enabled=!0;var a=f.enabled(e)?c:d;a.namespace=e;return a};f.coerce=function(e){return e instanceof
Error?e.stack||e.message:e};f.disable=function(){f.enable("")};f.enable=function(e){f.save(e);for(var d=(e||"").split(/[\s,]+/),c=d.length,a=0;a<c;a++)d[a]&&(e=d[a].replace(/\*/g,".*?"),"-"===e[0]?f.skips.push(new RegExp("^"+e.substr(1)+"$")):f.names.push(new RegExp("^"+e+"$")))};f.enabled=function(e){var d,c;d=0;for(c=f.skips.length;d<c;d++)if(f.skips[d].test(e))return!1;d=0;for(c=f.names.length;d<c;d++)if(f.names[d].test(e))return!0;return!1};f.humanize=b("ms");f.names=[];f.skips=[];f.formatters=
{};var k=0,g},{ms:35}],16:[function(b,l,f){l.exports=b("./lib/")},{"./lib/":17}],17:[function(b,l,f){l.exports=b("./socket");l.exports.parser=b("engine.io-parser")},{"./socket":18,"engine.io-parser":27}],18:[function(b,l,f){(function(k){function g(a,c){if(!(this instanceof g))return new g(a,c);c=c||{};a&&"object"==typeof a&&(c=a,a=null);a?(a=m(a),c.hostname=a.host,c.secure="https"==a.protocol||"wss"==a.protocol,c.port=a.port,a.query&&(c.query=a.query)):c.host&&(c.hostname=m(c.host).host);this.secure=
null!=c.secure?c.secure:k.location&&"https:"==location.protocol;c.hostname&&!c.port&&(c.port=this.secure?"443":"80");this.agent=c.agent||!1;this.hostname=c.hostname||(k.location?location.hostname:"localhost");this.port=c.port||(k.location&&location.port?location.port:this.secure?443:80);this.query=c.query||{};"string"==typeof this.query&&(this.query=n.decode(this.query));this.upgrade=!1!==c.upgrade;this.path=(c.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!c.forceJSONP;this.jsonp=!1!==
c.jsonp;this.forceBase64=!!c.forceBase64;this.enablesXDR=!!c.enablesXDR;this.timestampParam=c.timestampParam||"t";this.timestampRequests=c.timestampRequests;this.transports=c.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=c.policyPort||843;this.rememberUpgrade=c.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=c.onlyBinaryUpgrades;this.perMessageDeflate=!1!==c.perMessageDeflate?c.perMessageDeflate||{}:!1;!0===this.perMessageDeflate&&(this.perMessageDeflate=
{});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=c.pfx||null;this.key=c.key||null;this.passphrase=c.passphrase||null;this.cert=c.cert||null;this.ca=c.ca||null;this.ciphers=c.ciphers||null;this.rejectUnauthorized=void 0===c.rejectUnauthorized?!0:c.rejectUnauthorized;var d="object"==typeof k&&k;d.global===d&&c.extraHeaders&&0<Object.keys(c.extraHeaders).length&&(this.extraHeaders=c.extraHeaders);this.open()}var e=b("./transports"),
d=b("component-emitter"),c=b("debug")("engine.io-client:socket"),a=b("indexof"),h=b("engine.io-parser"),m=b("parseuri"),p=b("parsejson"),n=b("parseqs");l.exports=g;g.priorWebsocketSuccess=!1;d(g.prototype);g.protocol=h.protocol;g.Socket=g;g.Transport=b("./transport");g.transports=b("./transports");g.parser=b("engine.io-parser");g.prototype.createTransport=function(a){c('creating transport "%s"',a);var d=this.query,b={},m;for(m in d)d.hasOwnProperty(m)&&(b[m]=d[m]);b.EIO=h.protocol;b.transport=a;this.id&&
(b.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,
extraHeaders:this.extraHeaders})};g.prototype.open=function(){var a;if(this.rememberUpgrade&&g.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var c=this;setTimeout(function(){c.emit("error","No transports available")},0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(z){this.transports.shift();this.open();return}a.open();this.setTransport(a)};g.prototype.setTransport=function(a){c("setting transport %s",
a.name);var d=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){d.onDrain()}).on("packet",function(a){d.onPacket(a)}).on("error",function(a){d.onError(a)}).on("close",function(){d.onClose("transport close")})};g.prototype.probe=function(a){function d(){if(f.onlyBinaryUpgrades){var d=!this.supportsBinary&&f.transport.supportsBinary;k=k||d}k||(c('probe transport "%s" opened',a),p.send([{type:"ping",
data:"probe"}]),p.once("packet",function(d){k||("pong"==d.type&&"probe"==d.data?(c('probe transport "%s" pong',a),f.upgrading=!0,f.emit("upgrading",p),p&&(g.priorWebsocketSuccess="websocket"==p.name,c('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){k||"closed"==f.readyState||(c("changing transport and sending upgrade packet"),q(),f.setTransport(p),p.send([{type:"upgrade"}]),f.emit("upgrade",p),p=null,f.upgrading=!1,f.flush())}))):(c('probe transport "%s" failed',a),
d=Error("probe error"),d.transport=p.name,f.emit("upgradeError",d)))}))}function h(){k||(k=!0,q(),p.close(),p=null)}function e(d){var e=Error("probe error: "+d);e.transport=p.name;h();c('probe transport "%s" failed because of error: %s',a,d);f.emit("upgradeError",e)}function b(){e("transport closed")}function m(){e("socket closed")}function n(a){p&&a.name!=p.name&&(c('"%s" works - aborting "%s"',a.name,p.name),h())}function q(){p.removeListener("open",d);p.removeListener("error",e);p.removeListener("close",
b);f.removeListener("close",m);f.removeListener("upgrading",n)}c('probing transport "%s"',a);var p=this.createTransport(a,{probe:1}),k=!1,f=this;g.priorWebsocketSuccess=!1;p.once("open",d);p.once("error",e);p.once("close",b);this.once("close",m);this.once("upgrading",n);p.open()};g.prototype.onOpen=function(){c("socket open");this.readyState="open";g.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");
for(var a=0,d=this.upgrades.length;a<d;a++)this.probe(this.upgrades[a])}};g.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(c('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(p(a.data));break;case "pong":this.setPing();this.emit("pong");break;case "error":var d=Error("server error");d.code=a.data;this.onError(d);break;case "message":this.emit("data",a.data),this.emit("message",
a.data)}else c('packet received with socket readyState "%s"',this.readyState)};g.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};g.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);
var c=this;c.pingTimeoutTimer=setTimeout(function(){if("closed"!=c.readyState)c.onClose("ping timeout")},a||c.pingInterval+c.pingTimeout)};g.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};g.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})};g.prototype.onDrain=function(){this.writeBuffer.splice(0,
this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};g.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};g.prototype.write=g.prototype.send=function(a,c,d){this.sendPacket("message",a,c,d);return this};g.prototype.sendPacket=
function(a,c,d,h){"function"==typeof c&&(h=c,c=void 0);"function"==typeof d&&(h=d,d=null);if("closing"!=this.readyState&&"closed"!=this.readyState){d=d||{};d.compress=!1!==d.compress;a={type:a,data:c,options:d};this.emit("packetCreate",a);this.writeBuffer.push(a);if(h)this.once("flush",h);this.flush()}};g.prototype.close=function(){function a(){e.onClose("forced close");c("socket closing - telling transport to close");e.transport.close()}function d(){e.removeListener("upgrade",d);e.removeListener("upgradeError",
d);a()}function h(){e.once("upgrade",d);e.once("upgradeError",d)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var e=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?h():a()});else this.upgrading?h():a()}return this};g.prototype.onError=function(a){c("socket error %j",a);g.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};g.prototype.onClose=function(a,d){if("opening"==this.readyState||"open"==this.readyState||
"closing"==this.readyState)c('socket close with reason: "%s"',a),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,d),this.writeBuffer=[],this.prevBufferLen=0};g.prototype.filterUpgrades=function(c){for(var d=[],h=0,e=c.length;h<e;h++)~a(this.transports,c[h])&&d.push(c[h]);return d}}).call(this,"undefined"!==typeof self?
self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./transport":19,"./transports":20,"component-emitter":26,debug:14,"engine.io-parser":27,indexof:32,parsejson:36,parseqs:37,parseuri:38}],19:[function(b,l,f){function k(e){this.path=e.path;this.hostname=e.hostname;this.port=e.port;this.secure=e.secure;this.query=e.query;this.timestampParam=e.timestampParam;this.timestampRequests=e.timestampRequests;this.readyState="";this.agent=e.agent||!1;this.socket=e.socket;this.enablesXDR=
e.enablesXDR;this.pfx=e.pfx;this.key=e.key;this.passphrase=e.passphrase;this.cert=e.cert;this.ca=e.ca;this.ciphers=e.ciphers;this.rejectUnauthorized=e.rejectUnauthorized;this.extraHeaders=e.extraHeaders}var g=b("engine.io-parser");b=b("component-emitter");l.exports=k;b(k.prototype);k.prototype.onError=function(e,d){var c=Error(e);c.type="TransportError";c.description=d;this.emit("error",c);return this};k.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",
this.doOpen();return this};k.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};k.prototype.send=function(e){if("open"==this.readyState)this.write(e);else throw Error("Transport not open");};k.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};k.prototype.onData=function(e){e=g.decodePacket(e,this.socket.binaryType);this.onPacket(e)};k.prototype.onPacket=function(e){this.emit("packet",e)};
k.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":26,"engine.io-parser":27}],20:[function(b,l,f){(function(k){var g=b("xmlhttprequest-ssl"),e=b("./polling-xhr"),d=b("./polling-jsonp"),c=b("./websocket");f.polling=function(a){var c=!1,b=!1,p=!1!==a.jsonp;k.location&&(b="https:"==location.protocol,(c=location.port)||(c=b?443:80),c=a.hostname!=location.hostname||c!=a.port,b=a.secure!=b);a.xdomain=c;a.xscheme=b;if("open"in new g(a)&&!a.forceJSONP)return new e(a);
if(!p)throw Error("JSONP disabled");return new d(a)};f.websocket=c}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling-jsonp":21,"./polling-xhr":22,"./websocket":24,"xmlhttprequest-ssl":25}],21:[function(b,l,f){(function(k){function g(){}function e(a){d.call(this,a);this.query=this.query||{};m||(k.___eio||(k.___eio=[]),m=k.___eio);this.index=m.length;var c=this;m.push(function(a){c.onData(a)});this.query.j=this.index;k.document&&
k.addEventListener&&k.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=g)},!1)}var d=b("./polling"),c=b("component-inherit");l.exports=e;var a=/\n/g,h=/\\n/g,m;c(e,d);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);d.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,c=document.createElement("script");
this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.uri();c.onerror=function(c){a.onError("jsonp poll error",c)};var d=document.getElementsByTagName("script")[0];d?d.parentNode.insertBefore(c,d):(document.head||document.body).appendChild(c);this.script=c;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=
function(c,d){function e(){b();d()}function b(){if(m.iframe)try{m.form.removeChild(m.iframe)}catch(y){m.onError("jsonp polling iframe removal error",y)}try{k=document.createElement('<iframe src="javascript:0" name="'+m.iframeId+'">')}catch(y){k=document.createElement("iframe"),k.name=m.iframeId,k.src="javascript:0"}k.id=m.iframeId;m.form.appendChild(k);m.iframe=k}var m=this;if(!this.form){var n=document.createElement("form"),p=document.createElement("textarea"),g=this.iframeId="eio_iframe_"+this.index,
k;n.className="socketio";n.style.position="absolute";n.style.top="-1000px";n.style.left="-1000px";n.target=g;n.method="POST";n.setAttribute("accept-charset","utf-8");p.name="d";n.appendChild(p);document.body.appendChild(n);this.form=n;this.area=p}this.form.action=this.uri();b();c=c.replace(h,"\\\n");this.area.value=c.replace(a,"\\n");try{this.form.submit()}catch(y){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==m.iframe.readyState&&e()}:this.iframe.onload=e}}).call(this,
"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":23,"component-inherit":13}],22:[function(b,l,f){(function(k){function g(){}function e(a){h.call(this,a);if(k.location){var c="https:"==location.protocol,d=location.port;d||(d=c?443:80);this.xd=a.hostname!=k.location.hostname||d!=a.port;this.xs=a.secure!=c}else this.extraHeaders=a.extraHeaders}function d(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=
!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders;this.create()}function c(){for(var a in d.requests)d.requests.hasOwnProperty(a)&&d.requests[a].abort()}var a=b("xmlhttprequest-ssl"),h=b("./polling"),m=
b("component-emitter"),p=b("component-inherit"),n=b("debug")("engine.io-client:polling-xhr");l.exports=e;l.exports.Request=d;p(e,h);e.prototype.supportsBinary=!0;e.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;a.extraHeaders=
this.extraHeaders;return new d(a)};e.prototype.doWrite=function(a,c){var d=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),h=this;d.on("success",c);d.on("error",function(a){h.onError("xhr post error",a)});this.sendXhr=d};e.prototype.doPoll=function(){n("xhr poll");var a=this.request(),c=this;a.on("data",function(a){c.onData(a)});a.on("error",function(a){c.onError("xhr poll error",a)});this.pollXhr=a};m(d.prototype);d.prototype.create=function(){var c={agent:this.agent,
xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;var h=this.xhr=new a(c),e=this;try{n("xhr open %s: %s",this.method,this.uri);h.open(this.method,this.uri,this.async);try{if(this.extraHeaders){h.setDisableHeaderCheck(!0);for(var b in this.extraHeaders)this.extraHeaders.hasOwnProperty(b)&&h.setRequestHeader(b,this.extraHeaders[b])}}catch(r){}this.supportsBinary&&
(h.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?h.setRequestHeader("Content-type","application/octet-stream"):h.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}"withCredentials"in h&&(h.withCredentials=!0);this.hasXDR()?(h.onload=function(){e.onLoad()},h.onerror=function(){e.onError(h.responseText)}):h.onreadystatechange=function(){if(4==h.readyState)if(200==h.status||1223==h.status)e.onLoad();else setTimeout(function(){e.onError(h.status)},0)};n("xhr data %s",
this.data);h.send(this.data)}catch(r){setTimeout(function(){e.onError(r)},0);return}k.document&&(this.index=d.requestsCount++,d.requests[this.index]=this)};d.prototype.onSuccess=function(){this.emit("success");this.cleanup()};d.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};d.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};d.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=g:this.xhr.onreadystatechange=
g;if(a)try{this.xhr.abort()}catch(w){}k.document&&delete d.requests[this.index];this.xhr=null}};d.prototype.onLoad=function(){var a;try{var c;try{c=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(x){}if("application/octet-stream"===c)a=this.xhr.response;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(x){var d=new Uint8Array(this.xhr.response);c=[];for(var h=0,e=d.length;h<e;h++)c.push(d[h]);a=String.fromCharCode.apply(null,c)}else a=
this.xhr.responseText}catch(x){this.onError(x)}if(null!=a)this.onData(a)};d.prototype.hasXDR=function(){return"undefined"!==typeof k.XDomainRequest&&!this.xs&&this.enablesXDR};d.prototype.abort=function(){this.cleanup()};k.document&&(d.requestsCount=0,d.requests={},k.attachEvent?k.attachEvent("onunload",c):k.addEventListener&&k.addEventListener("beforeunload",c,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./polling":23,
"component-emitter":26,"component-inherit":13,debug:14,"xmlhttprequest-ssl":25}],23:[function(b,l,f){function k(a){var c=a&&a.forceBase64;if(!h||c)this.supportsBinary=!1;g.call(this,a)}var g=b("../transport"),e=b("parseqs"),d=b("engine.io-parser");f=b("component-inherit");var c=b("yeast"),a=b("debug")("engine.io-client:polling");l.exports=k;var h=null!=(new (b("xmlhttprequest-ssl"))({xdomain:!1})).responseType;f(k,g);k.prototype.name="polling";k.prototype.doOpen=function(){this.poll()};k.prototype.pause=
function(c){function d(){a("paused");h.readyState="paused";c()}var h=this;this.readyState="pausing";if(this.polling||!this.writable){var e=0;this.polling&&(a("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){a("pre-pause polling complete");--e||d()}));this.writable||(a("we are currently writing - waiting to pause"),e++,this.once("drain",function(){a("pre-pause writing complete");--e||d()}))}else d()};k.prototype.poll=function(){a("polling");this.polling=!0;this.doPoll();
this.emit("poll")};k.prototype.onData=function(c){var h=this;a("polling got data %s",c);d.decodePayload(c,this.socket.binaryType,function(a,c,d){if("opening"==h.readyState)h.onOpen();if("close"==a.type)return h.onClose(),!1;h.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))};k.prototype.doClose=function(){function c(){a("writing close packet");d.write([{type:"close"}])}
var d=this;"open"==this.readyState?(a("transport open - closing"),c()):(a("transport not open - deferring close"),this.once("open",c))};k.prototype.write=function(a){var c=this;this.writable=!1;var h=function(){c.writable=!0;c.emit("drain")},c=this;d.encodePayload(a,this.supportsBinary,function(a){c.doWrite(a,h)})};k.prototype.uri=function(){var a=this.query||{},d=this.secure?"https":"http",h="";!1!==this.timestampRequests&&(a[this.timestampParam]=c());this.supportsBinary||a.sid||(a.b64=1);a=e.encode(a);
this.port&&("https"==d&&443!=this.port||"http"==d&&80!=this.port)&&(h=":"+this.port);a.length&&(a="?"+a);var b=-1!==this.hostname.indexOf(":");return d+"://"+(b?"["+this.hostname+"]":this.hostname)+h+this.path+a}},{"../transport":19,"component-inherit":13,debug:14,"engine.io-parser":27,parseqs:37,"xmlhttprequest-ssl":25,yeast:45}],24:[function(b,l,f){(function(k){function g(a){a&&a.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=a.perMessageDeflate;e.call(this,a)}var e=b("../transport"),
d=b("engine.io-parser"),c=b("parseqs"),a=b("component-inherit"),h=b("yeast"),m=b("debug")("engine.io-client:websocket"),p=k.WebSocket||k.MozWebSocket,n=p;if(!n&&"undefined"===typeof window)try{n=b("ws")}catch(q){}l.exports=g;a(g,e);g.prototype.name="websocket";g.prototype.supportsBinary=!0;g.prototype.doOpen=function(){if(this.check()){var a=this.uri(),c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;
c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(c.headers=this.extraHeaders);this.ws=p?new n(a):new n(a,void 0,c);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};g.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=
function(c){a.onData(c.data)};this.ws.onerror=function(c){a.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(g.prototype.onData=function(a){var c=this;setTimeout(function(){e.prototype.onData.call(c,a)},0)});g.prototype.write=function(a){function c(){h.emit("flush");setTimeout(function(){h.writable=!0;h.emit("drain")},0)}var h=this;this.writable=!1;for(var e=a.length,b=0,n=e;b<n;b++)(function(a){d.encodePacket(a,h.supportsBinary,function(d){if(!p){var b=
{};a.options&&(b.compress=a.options.compress);h.perMessageDeflate&&("string"==typeof d?k.Buffer.byteLength(d):d.length)<h.perMessageDeflate.threshold&&(b.compress=!1)}try{p?h.ws.send(d):h.ws.send(d,b)}catch(C){m("websocket closed before onclose event")}--e||c()})})(a[b])};g.prototype.onClose=function(){e.prototype.onClose.call(this)};g.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};g.prototype.uri=function(){var a=this.query||{},d=this.secure?"wss":"ws",e="";this.port&&
("wss"==d&&443!=this.port||"ws"==d&&80!=this.port)&&(e=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=h());this.supportsBinary||(a.b64=1);a=c.encode(a);a.length&&(a="?"+a);var b=-1!==this.hostname.indexOf(":");return d+"://"+(b?"["+this.hostname+"]":this.hostname)+e+this.path+a};g.prototype.check=function(){return!!n&&!("__initialize"in n&&this.name===g.prototype.name)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:
{})},{"../transport":19,"component-inherit":13,debug:14,"engine.io-parser":27,parseqs:37,ws:void 0,yeast:45}],25:[function(b,l,f){var k=b("has-cors");l.exports=function(b){var e=b.xdomain,d=b.xscheme;b=b.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||k))return new XMLHttpRequest}catch(c){}try{if("undefined"!=typeof XDomainRequest&&!d&&b)return new XDomainRequest}catch(c){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}},{"has-cors":31}],26:[function(b,l,f){function k(b){if(b){for(var e in k.prototype)b[e]=
k.prototype[e];return b}}l.exports=k;k.prototype.on=k.prototype.addEventListener=function(b,e){this._callbacks=this._callbacks||{};(this._callbacks[b]=this._callbacks[b]||[]).push(e);return this};k.prototype.once=function(b,e){function d(){c.off(b,d);e.apply(this,arguments)}var c=this;this._callbacks=this._callbacks||{};d.fn=e;this.on(b,d);return this};k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(b,e){this._callbacks=this._callbacks||
{};if(0==arguments.length)return this._callbacks={},this;var d=this._callbacks[b];if(!d)return this;if(1==arguments.length)return delete this._callbacks[b],this;for(var c,a=0;a<d.length;a++)if(c=d[a],c===e||c.fn===e){d.splice(a,1);break}return this};k.prototype.emit=function(b){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),d=this._callbacks[b];if(d)for(var d=d.slice(0),c=0,a=d.length;c<a;++c)d[c].apply(this,e);return this};k.prototype.listeners=function(b){this._callbacks=this._callbacks||
{};return this._callbacks[b]||[]};k.prototype.hasListeners=function(b){return!!this.listeners(b).length}},{}],27:[function(b,l,f){(function(k){function g(a,c,d){if(!c)return f.encodeBase64Packet(a,d);var h=new FileReader;h.onload=function(){a.data=h.result;f.encodePacket(a,c,!0,d)};return h.readAsArrayBuffer(a.data)}function e(a,c,d){var h=Array(a.length);d=m(a.length,d);for(var e=function(a,d,e){c(d,function(c,d){h[a]=d;e(c,h)})},b=0;b<a.length;b++)e(b,a[b],d)}var d=b("./keys"),c=b("has-binary"),
a=b("arraybuffer.slice"),h=b("base64-arraybuffer"),m=b("after"),p=b("utf8"),n=navigator.userAgent.match(/Android/i),q=/PhantomJS/i.test(navigator.userAgent),w=n||q;f.protocol=3;var z=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},l=d(z),r={type:"error",data:"parser error"},x=b("blob");f.encodePacket=function(a,c,d,h){"function"==typeof c&&(h=c,c=!1);"function"==typeof d&&(h=d,d=null);var e=void 0===a.data?void 0:a.data.buffer||a.data;if(k.ArrayBuffer&&e instanceof ArrayBuffer){if(c){d=
a.data;c=new Uint8Array(d);d=new Uint8Array(1+d.byteLength);d[0]=z[a.type];for(a=0;a<c.length;a++)d[a+1]=c[a];a=h(d.buffer)}else a=f.encodeBase64Packet(a,h);return a}if(x&&e instanceof k.Blob)return c?w?a=g(a,c,h):(c=new Uint8Array(1),c[0]=z[a.type],a=new x([c.buffer,a.data]),a=h(a)):a=f.encodeBase64Packet(a,h),a;if(e&&e.base64)return h("b"+f.packets[a.type]+a.data.data);c=z[a.type];void 0!==a.data&&(c+=d?p.encode(String(a.data)):String(a.data));return h(""+c)};f.encodeBase64Packet=function(a,c){var d=
"b"+f.packets[a.type];if(x&&a.data instanceof k.Blob){var h=new FileReader;h.onload=function(){var a=h.result.split(",")[1];c(d+a)};return h.readAsDataURL(a.data)}var e;try{e=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(G){e=new Uint8Array(a.data);for(var b=Array(e.length),m=0;m<e.length;m++)b[m]=e[m];e=String.fromCharCode.apply(null,b)}d+=k.btoa(e);return c(d)};f.decodePacket=function(c,d,h){if("string"==typeof c||void 0===c){if("b"==c.charAt(0))return f.decodeBase64Packet(c.substr(1),
d);if(h)try{c=p.decode(c)}catch(C){return r}h=c.charAt(0);return Number(h)==h&&l[h]?1<c.length?{type:l[h],data:c.substring(1)}:{type:l[h]}:r}h=(new Uint8Array(c))[0];c=a(c,1);x&&"blob"===d&&(c=new x([c]));return{type:l[h],data:c}};f.decodeBase64Packet=function(a,c){var d=l[a.charAt(0)];if(!k.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var e=h.decode(a.substr(1));"blob"===c&&x&&(e=new x([e]));return{type:d,data:e}};f.encodePayload=function(a,d,h){"function"==typeof d&&(h=d,d=null);
var b=c(a);if(d&&b)return x&&!w?f.encodePayloadAsBlob(a,h):f.encodePayloadAsArrayBuffer(a,h);if(!a.length)return h("0:");e(a,function(a,c){f.encodePacket(a,b?d:!1,!0,function(a){c(null,a.length+":"+a)})},function(a,c){return h(c.join(""))})};f.decodePayload=function(a,c,d){if("string"!=typeof a)return f.decodePayloadAsBinary(a,c,d);"function"===typeof c&&(d=c,c=null);var h;if(""==a)return d(r,0,1);h="";for(var e,b,m=0,n=a.length;m<n;m++)if(b=a.charAt(m),":"!=b)h+=b;else{if(""==h||h!=(e=Number(h)))return d(r,
0,1);b=a.substr(m+1,e);if(h!=b.length)return d(r,0,1);if(b.length){h=f.decodePacket(b,c,!0);if(r.type==h.type&&r.data==h.data)return d(r,0,1);if(!1===d(h,m+e,n))return}m+=e;h=""}if(""!=h)return d(r,0,1)};f.encodePayloadAsArrayBuffer=function(a,c){if(!a.length)return c(new ArrayBuffer(0));e(a,function(a,c){f.encodePacket(a,!0,!0,function(a){return c(null,a)})},function(a,d){var h=d.reduce(function(a,c){var d;d="string"===typeof c?c.length:c.byteLength;return a+d.toString().length+d+2},0),e=new Uint8Array(h),
b=0;d.forEach(function(a){var c="string"===typeof a,d=a;if(c){for(var d=new Uint8Array(a.length),h=0;h<a.length;h++)d[h]=a.charCodeAt(h);d=d.buffer}c?e[b++]=0:e[b++]=1;a=d.byteLength.toString();for(h=0;h<a.length;h++)e[b++]=parseInt(a[h]);e[b++]=255;d=new Uint8Array(d);for(h=0;h<d.length;h++)e[b++]=d[h]});return c(e.buffer)})};f.encodePayloadAsBlob=function(a,c){e(a,function(a,c){f.encodePacket(a,!0,!0,function(a){var d=new Uint8Array(1);d[0]=1;if("string"===typeof a){for(var h=new Uint8Array(a.length),
e=0;e<a.length;e++)h[e]=a.charCodeAt(e);a=h.buffer;d[0]=0}for(var h=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),b=new Uint8Array(h.length+1),e=0;e<h.length;e++)b[e]=parseInt(h[e]);b[h.length]=255;x&&(a=new x([d.buffer,b.buffer,a]),c(null,a))})},function(a,d){return c(new x(d))})};f.decodePayloadAsBinary=function(c,d,h){"function"===typeof d&&(h=d,d=null);for(var e=[],b=!1;0<c.byteLength;){for(var m=new Uint8Array(c),n=0===m[0],p="",q=1;255!=m[q];q++){if(310<p.length){b=!0;break}p+=m[q]}if(b)return h(r,
0,1);c=a(c,2+p.length);p=parseInt(p);m=a(c,0,p);if(n)try{m=String.fromCharCode.apply(null,new Uint8Array(m))}catch(M){for(n=new Uint8Array(m),m="",q=0;q<n.length;q++)m+=String.fromCharCode(n[q])}e.push(m);c=a(c,p)}var g=e.length;e.forEach(function(a,c){h(f.decodePacket(a,d,!0),c,g)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./keys":28,after:6,"arraybuffer.slice":7,"base64-arraybuffer":9,blob:10,"has-binary":29,utf8:44}],
28:[function(b,l,f){l.exports=Object.keys||function(b){var g=[],e=Object.prototype.hasOwnProperty,d;for(d in b)e.call(b,d)&&g.push(d);return g}},{}],29:[function(b,l,f){(function(k){var g=b("isarray");l.exports=function(e){function d(c){if(!c)return!1;if(k.Buffer&&k.Buffer.isBuffer(c)||k.ArrayBuffer&&c instanceof ArrayBuffer||k.Blob&&c instanceof Blob||k.File&&c instanceof File)return!0;if(g(c))for(var a=0;a<c.length;a++){if(d(c[a]))return!0}else if(c&&"object"==typeof c)for(a in c.toJSON&&(c=c.toJSON()),
c)if(Object.prototype.hasOwnProperty.call(c,a)&&d(c[a]))return!0;return!1}return d(e)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:33}],30:[function(b,l,f){(function(k){var g=b("isarray");l.exports=function(e){function d(c){if(!c)return!1;if(k.Buffer&&k.Buffer.isBuffer&&k.Buffer.isBuffer(c)||k.ArrayBuffer&&c instanceof ArrayBuffer||k.Blob&&c instanceof Blob||k.File&&c instanceof File)return!0;if(g(c))for(var a=0;a<
c.length;a++){if(d(c[a]))return!0}else if(c&&"object"==typeof c)for(a in c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,a)&&d(c[a]))return!0;return!1}return d(e)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{isarray:33}],31:[function(b,l,f){try{l.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(k){l.exports=!1}},{}],32:[function(b,l,
f){var k=[].indexOf;l.exports=function(b,e){if(k)return b.indexOf(e);for(var d=0;d<b.length;++d)if(b[d]===e)return d;return-1}},{}],33:[function(b,l,f){l.exports=Array.isArray||function(b){return"[object Array]"==Object.prototype.toString.call(b)}},{}],34:[function(b,l,f){(function(b){(function(){function g(a,d){function h(a){if(h[a]!==I)return h[a];var c;if("bug-string-char-index"==a)c=!1;else if("json"==a)c=h("json-stringify")&&h("json-parse");else{var e;if("json-stringify"==a){c=d.stringify;var n=
"function"==typeof c&&H;if(n){(e=function(){return 1}).toJSON=e;try{n="0"===c(0)&&"0"===c(new b)&&'""'==c(new m)&&c(l)===I&&c(I)===I&&c()===I&&"1"===c(e)&&"[1]"==c([e])&&"[null]"==c([I])&&"null"==c(null)&&"[null,null,null]"==c([I,l,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[e,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===c(null,e)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new p(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c(new p(864E13))&&'"-000001-01-01T00:00:00.000Z"'==
c(new p(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==c(new p(-1))}catch(X){n=!1}}c=n}if("json-parse"==a){c=d.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){e=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var q=5==e.a.length&&1===e.a[0];if(q){try{q=!c('"\t"')}catch(X){}if(q)try{q=1!==c("01")}catch(X){}if(q)try{q=1!==c("1.")}catch(X){}}}}catch(X){q=!1}c=q}}return h[a]=!!c}a||(a=c.Object());d||(d=c.Object());var b=a.Number||c.Number,m=a.String||c.String,n=a.Object||c.Object,p=a.Date||
c.Date,q=a.SyntaxError||c.SyntaxError,k=a.TypeError||c.TypeError,w=a.Math||c.Math,f=a.JSON||c.JSON;"object"==typeof f&&f&&(d.stringify=f.stringify,d.parse=f.parse);var n=n.prototype,l=n.toString,B,G,I,H=new p(-0xc782b5b800cec);try{H=-109252==H.getUTCFullYear()&&0===H.getUTCMonth()&&1===H.getUTCDate()&&10==H.getUTCHours()&&37==H.getUTCMinutes()&&6==H.getUTCSeconds()&&708==H.getUTCMilliseconds()}catch(aa){}if(!h("json")){var M=h("bug-string-char-index");if(!H)var N=w.floor,U=[0,31,59,90,120,151,181,
212,243,273,304,334],Q=function(a,c){return U[c]+365*(a-1970)+N((a-1969+(c=+(1<c)))/4)-N((a-1901+c)/100)+N((a-1601+c)/400)};(B=n.hasOwnProperty)||(B=function(a){var c={},d;(c.__proto__=null,c.__proto__={toString:1},c).toString!=l?B=function(a){var c=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=c;return a}:(d=c.constructor,B=function(a){var c=(this.constructor||d).prototype;return a in this&&!(a in c&&this[a]===c[a])});c=null;return B.call(this,a)});G=function(a,c){var d=0,h,b,m;
(h=function(){this.valueOf=0}).prototype.valueOf=0;b=new h;for(m in b)B.call(b,m)&&d++;h=b=null;d?G=2==d?function(a,c){var d={},h="[object Function]"==l.call(a),e;for(e in a)h&&"prototype"==e||B.call(d,e)||!(d[e]=1)||!B.call(a,e)||c(e)}:function(a,c){var d="[object Function]"==l.call(a),h,e;for(h in a)d&&"prototype"==h||!B.call(a,h)||(e="constructor"===h)||c(h);(e||B.call(a,h="constructor"))&&c(h)}:(b="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),
G=function(a,c){var d="[object Function]"==l.call(a),h,m=!d&&"function"!=typeof a.constructor&&e[typeof a.hasOwnProperty]&&a.hasOwnProperty||B;for(h in a)d&&"prototype"==h||!m.call(a,h)||c(h);for(d=b.length;h=b[--d];m.call(a,h)&&c(h));});return G(a,c)};if(!h("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},J=function(a,c){return("000000"+(c||0)).slice(-a)},P=function(a){for(var c='"',d=0,h=a.length,e=!M||10<h,b=e&&(M?a.split(""):a);d<h;d++){var m=a.charCodeAt(d);
switch(m){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=O[m];break;default:c=32>m?c+("\\u00"+J(2,m.toString(16))):c+(e?b[d]:a.charAt(d))}}return c+'"'},T=function(a,c,d,h,e,b,m){var n,p,q,g,w,f,z,r,v;try{n=c[a]}catch(ba){}if("object"==typeof n&&n)if(p=l.call(n),"[object Date]"!=p||B.call(n,"toJSON"))"function"==typeof n.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||B.call(n,"toJSON"))&&(n=n.toJSON(a));else if(n>-1/0&&n<1/0){if(Q){g=N(n/864E5);for(p=N(g/365.2425)+
1970-1;Q(p+1,0)<=g;p++);for(q=N((g-Q(p,0))/30.42);Q(p,q+1)<=g;q++);g=1+g-Q(p,q);w=(n%864E5+864E5)%864E5;f=N(w/36E5)%24;z=N(w/6E4)%60;r=N(w/1E3)%60;w%=1E3}else p=n.getUTCFullYear(),q=n.getUTCMonth(),g=n.getUTCDate(),f=n.getUTCHours(),z=n.getUTCMinutes(),r=n.getUTCSeconds(),w=n.getUTCMilliseconds();n=(0>=p||1E4<=p?(0>p?"-":"+")+J(6,0>p?-p:p):J(4,p))+"-"+J(2,q+1)+"-"+J(2,g)+"T"+J(2,f)+":"+J(2,z)+":"+J(2,r)+"."+J(3,w)+"Z"}else n=null;d&&(n=d.call(c,a,n));if(null===n)return"null";p=l.call(n);if("[object Boolean]"==
p)return""+n;if("[object Number]"==p)return n>-1/0&&n<1/0?""+n:"null";if("[object String]"==p)return P(""+n);if("object"==typeof n){for(a=m.length;a--;)if(m[a]===n)throw k();m.push(n);v=[];c=b;b+=e;if("[object Array]"==p){q=0;for(a=n.length;q<a;q++)p=T(q,n,d,h,e,b,m),v.push(p===I?"null":p);a=v.length?e?"[\n"+b+v.join(",\n"+b)+"\n"+c+"]":"["+v.join(",")+"]":"[]"}else G(h||n,function(a){var c=T(a,n,d,h,e,b,m);c!==I&&v.push(P(a)+":"+(e?" ":"")+c)}),a=v.length?e?"{\n"+b+v.join(",\n"+b)+"\n"+c+"}":"{"+
v.join(",")+"}":"{}";m.pop();return a}};d.stringify=function(a,c,d){var h,b,m,n;if(e[typeof c]&&c)if("[object Function]"==(n=l.call(c)))b=c;else if("[object Array]"==n){m={};for(var p=0,q=c.length,g;p<q;g=c[p++],(n=l.call(g),"[object String]"==n||"[object Number]"==n)&&(m[g]=1));}if(d)if("[object Number]"==(n=l.call(d))){if(0<(d-=d%1))for(h="",10<d&&(d=10);h.length<d;h+=" ");}else"[object String]"==n&&(h=10>=d.length?d:d.slice(0,10));return T("",(g={},g[""]=a,g),b,m,h,"",[])}}if(!h("json-parse")){var K=
m.fromCharCode,S={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},D,V,L=function(){D=V=null;throw q();},R=function(){for(var a=V,c=a.length,d,h,e,b,m;D<c;)switch(m=a.charCodeAt(D),m){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return d=M?a.charAt(D):a[D],D++,d;case 34:d="@";for(D++;D<c;)if(m=a.charCodeAt(D),32>m)L();else if(92==m)switch(m=a.charCodeAt(++D),m){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:d+=S[m];
D++;break;case 117:h=++D;for(e=D+4;D<e;D++)m=a.charCodeAt(D),48<=m&&57>=m||97<=m&&102>=m||65<=m&&70>=m||L();d+=K("0x"+a.slice(h,D));break;default:L()}else{if(34==m)break;m=a.charCodeAt(D);for(h=D;32<=m&&92!=m&&34!=m;)m=a.charCodeAt(++D);d+=a.slice(h,D)}if(34==a.charCodeAt(D))return D++,d;L();default:h=D;45==m&&(b=!0,m=a.charCodeAt(++D));if(48<=m&&57>=m){for(48==m&&(m=a.charCodeAt(D+1),48<=m&&57>=m)&&L();D<c&&(m=a.charCodeAt(D),48<=m&&57>=m);D++);if(46==a.charCodeAt(D)){for(e=++D;e<c&&(m=a.charCodeAt(e),
48<=m&&57>=m);e++);e==D&&L();D=e}m=a.charCodeAt(D);if(101==m||69==m){m=a.charCodeAt(++D);43!=m&&45!=m||D++;for(e=D;e<c&&(m=a.charCodeAt(e),48<=m&&57>=m);e++);e==D&&L();D=e}return+a.slice(h,D)}b&&L();if("true"==a.slice(D,D+4))return D+=4,!0;if("false"==a.slice(D,D+5))return D+=5,!1;if("null"==a.slice(D,D+4))return D+=4,null;L()}return"$"},W=function(a){var c,d;"$"==a&&L();if("string"==typeof a){if("@"==(M?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(c=[];;d||(d=!0)){a=R();if("]"==a)break;d&&
(","==a?(a=R(),"]"==a&&L()):L());","==a&&L();c.push(W(a))}return c}if("{"==a){for(c={};;d||(d=!0)){a=R();if("}"==a)break;d&&(","==a?(a=R(),"}"==a&&L()):L());","!=a&&"string"==typeof a&&"@"==(M?a.charAt(0):a[0])&&":"==R()||L();c[a.slice(1)]=W(R())}return c}L()}return a},Z=function(a,c,d){d=Y(a,c,d);d===I?delete a[c]:a[c]=d},Y=function(a,c,d){var h=a[c],e;if("object"==typeof h&&h)if("[object Array]"==l.call(h))for(e=h.length;e--;)Z(h,e,d);else G(h,function(a){Z(h,a,d)});return d.call(a,c,h)};d.parse=
function(a,c){var d,h;D=0;V=""+a;d=W(R());"$"!=R()&&L();D=V=null;return c&&"[object Function]"==l.call(c)?Y((h={},h[""]=d,h),"",c):d}}}d.runInContext=g;return d}var e={"function":!0,object:!0},d=e[typeof f]&&f&&!f.nodeType&&f,c=e[typeof window]&&window||this,a=d&&e[typeof l]&&l&&!l.nodeType&&"object"==typeof b&&b;!a||a.global!==a&&a.window!==a&&a.self!==a||(c=a);if(d)g(c,d);else{var h=c.JSON,m=c.JSON3,p=!1,n=g(c,c.JSON3={noConflict:function(){p||(p=!0,c.JSON=h,c.JSON3=m,h=m=null);return n}});c.JSON=
{parse:n.parse,stringify:n.stringify}}}).call(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],35:[function(b,l,f){function k(e){e=""+e;if(!(1E4<e.length)&&(e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e))){var d=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*d;case "days":case "day":case "d":return 864E5*
d;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*d;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*d;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*d;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return d}}}function g(e,d,c){if(!(e<d))return e<1.5*d?Math.floor(e/d)+" "+c:Math.ceil(e/d)+" "+c+"s"}l.exports=function(e,d){d=d||{};return"string"==typeof e?k(e):d["long"]?g(e,864E5,"day")||g(e,36E5,"hour")||
g(e,6E4,"minute")||g(e,1E3,"second")||e+" ms":864E5<=e?Math.round(e/864E5)+"d":36E5<=e?Math.round(e/36E5)+"h":6E4<=e?Math.round(e/6E4)+"m":1E3<=e?Math.round(e/1E3)+"s":e+"ms"}},{}],36:[function(b,l,f){(function(b){var g=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,c=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,h=/\s+$/;l.exports=function(m){if("string"!=typeof m||!m)return null;m=m.replace(a,"").replace(h,"");if(b.JSON&&JSON.parse)return JSON.parse(m);
if(g.test(m.replace(e,"@").replace(d,"]").replace(c,"")))return(new Function("return "+m))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],37:[function(b,l,f){f.encode=function(b){var g="",e;for(e in b)b.hasOwnProperty(e)&&(g.length&&(g+="&"),g+=encodeURIComponent(e)+"="+encodeURIComponent(b[e]));return g};f.decode=function(b){var g={};b=b.split("&");for(var e=0,d=b.length;e<d;e++){var c=b[e].split("=");g[decodeURIComponent(c[0])]=
decodeURIComponent(c[1])}return g}},{}],38:[function(b,l,f){var k=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,g="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");l.exports=function(e){var d=e,c=e.indexOf("["),a=e.indexOf("]");-1!=c&&-1!=a&&(e=e.substring(0,
c)+e.substring(c,a).replace(/:/g,";")+e.substring(a,e.length));e=k.exec(e||"");for(var h={},b=14;b--;)h[g[b]]=e[b]||"";-1!=c&&-1!=a&&(h.source=d,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0);return h}},{}],39:[function(b,l,f){(function(k){var g=b("isarray"),e=b("./is-buffer");f.deconstructPacket=function(d){function c(d){if(!d)return d;if(e(d)){var h={_placeholder:!0,num:a.length};a.push(d);return h}if(g(d)){for(var h=
Array(d.length),b=0;b<d.length;b++)h[b]=c(d[b]);return h}if("object"==typeof d&&!(d instanceof Date)){h={};for(b in d)h[b]=c(d[b]);return h}return d}var a=[];d.data=c(d.data);d.attachments=a.length;return{packet:d,buffers:a}};f.reconstructPacket=function(d,c){function a(d){if(d&&d._placeholder)return c[d.num];if(g(d))for(var h=0;h<d.length;h++)d[h]=a(d[h]);else if(d&&"object"==typeof d)for(h in d)d[h]=a(d[h]);return d}d.data=a(d.data);d.attachments=void 0;return d};f.removeBlobs=function(d,c){function a(d,
m,q){if(!d)return d;if(k.Blob&&d instanceof Blob||k.File&&d instanceof File){h++;var n=new FileReader;n.onload=function(){q?q[m]=this.result:b=this.result;--h||c(b)};n.readAsArrayBuffer(d)}else if(g(d))for(n=0;n<d.length;n++)a(d[n],n,d);else if(d&&"object"==typeof d&&!e(d))for(n in d)a(d[n],n,d)}var h=0,b=d;a(b);h||c(b)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{"./is-buffer":41,isarray:33}],40:[function(b,l,f){function k(){}
function g(c){var d,e=!1;d=""+c.type;if(f.BINARY_EVENT==c.type||f.BINARY_ACK==c.type)d+=c.attachments,d+="-";c.nsp&&"/"!=c.nsp&&(e=!0,d+=c.nsp);null!=c.id&&(e&&(d+=",",e=!1),d+=c.id);null!=c.data&&(e&&(d+=","),d+=h.stringify(c.data));a("encoded %j as %s",c,d);return d}function e(a,c){m.removeBlobs(a,function(a){var d=m.deconstructPacket(a);a=g(d.packet);d=d.buffers;d.unshift(a);c(d)})}function d(){this.reconstructor=null}function c(a){this.reconPack=a;this.buffers=[]}var a=b("debug")("socket.io-parser"),
h=b("json3");b("isarray");l=b("component-emitter");var m=b("./binary"),p=b("./is-buffer");f.protocol=4;f.types="CONNECT DISCONNECT EVENT ACK ERROR BINARY_EVENT BINARY_ACK".split(" ");f.CONNECT=0;f.DISCONNECT=1;f.EVENT=2;f.ACK=3;f.ERROR=4;f.BINARY_EVENT=5;f.BINARY_ACK=6;f.Encoder=k;f.Decoder=d;k.prototype.encode=function(c,d){a("encoding packet %j",c);if(f.BINARY_EVENT==c.type||f.BINARY_ACK==c.type)e(c,d);else{var h=g(c);d([h])}};l(d.prototype);d.prototype.add=function(d){if("string"==typeof d){a:{var e=
{},b=0;e.type=Number(d.charAt(0));if(null==f.types[e.type])d={type:f.ERROR,data:"parser error"};else{if(f.BINARY_EVENT==e.type||f.BINARY_ACK==e.type){for(var m="";"-"!=d.charAt(++b)&&(m+=d.charAt(b),b!=d.length););if(m!=Number(m)||"-"!=d.charAt(b))throw Error("Illegal attachments");e.attachments=Number(m)}if("/"==d.charAt(b+1))for(e.nsp="";++b;){m=d.charAt(b);if(","==m)break;e.nsp+=m;if(b==d.length)break}else e.nsp="/";m=d.charAt(b+1);if(""!==m&&Number(m)==m){for(e.id="";++b;){m=d.charAt(b);if(null==
m||Number(m)!=m){--b;break}e.id+=d.charAt(b);if(b==d.length)break}e.id=Number(e.id)}if(d.charAt(++b))try{e.data=h.parse(d.substr(b))}catch(v){d={type:f.ERROR,data:"parser error"};break a}a("decoded %s as %j",d,e);d=e}}f.BINARY_EVENT==d.type||f.BINARY_ACK==d.type?(this.reconstructor=new c(d),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",d)):this.emit("decoded",d)}else if(p(d)||d.base64)if(this.reconstructor){if(d=this.reconstructor.takeBinaryData(d))this.reconstructor=null,this.emit("decoded",
d)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+d);};d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};c.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=m.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};c.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":39,
"./is-buffer":41,"component-emitter":42,debug:14,isarray:33,json3:34}],41:[function(b,l,f){(function(b){l.exports=function(g){return b.Buffer&&b.Buffer.isBuffer(g)||b.ArrayBuffer&&g instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],42:[function(b,l,f){arguments[4][26][0].apply(f,arguments)},{dup:26}],43:[function(b,l,f){l.exports=function(b,g){for(var e=[],d=(g=g||0)||0;d<b.length;d++)e[d-g]=b[d];return e}},
{}],44:[function(b,l,f){(function(b){(function(g){function e(a){for(var c=[],d=0,h=a.length,e,b;d<h;)e=a.charCodeAt(d++),55296<=e&&56319>=e&&d<h?(b=a.charCodeAt(d++),56320==(b&64512)?c.push(((e&1023)<<10)+(b&1023)+65536):(c.push(e),d--)):c.push(e);return c}function d(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function c(){if(z>=k)throw Error("Invalid byte index");var a=q[z]&255;z++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");
}function a(){var a,h,e,b;if(z>k)throw Error("Invalid byte index");if(z==k)return!1;a=q[z]&255;z++;if(0==(a&128))return a;if(192==(a&224)){h=c();a=(a&31)<<6|h;if(128<=a)return a;throw Error("Invalid continuation byte");}if(224==(a&240)){h=c();e=c();a=(a&15)<<12|h<<6|e;if(2048<=a)return d(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(h=c(),e=c(),b=c(),a=(a&15)<<18|h<<12|e<<6|b,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var h="object"==typeof f&&f,m="object"==
typeof l&&l&&l.exports==h&&l,p="object"==typeof b&&b;if(p.global===p||p.window===p)g=p;var n=String.fromCharCode,q,k,z,p={version:"2.0.0",encode:function(a){a=e(a);for(var c=a.length,h=-1,b,m="";++h<c;){b=a[h];if(0==(b&4294967168))b=n(b);else{var p="";0==(b&4294965248)?p=n(b>>6&31|192):0==(b&4294901760)?(d(b),p=n(b>>12&15|224),p+=n(b>>6&63|128)):0==(b&4292870144)&&(p=n(b>>18&7|240),p+=n(b>>12&63|128),p+=n(b>>6&63|128));b=p+=n(b&63|128)}m+=b}return m},decode:function(c){q=e(c);k=q.length;z=0;c=[];
for(var d;!1!==(d=a());)c.push(d);d=c.length;for(var h=-1,b,m="";++h<d;)b=c[h],65535<b&&(b-=65536,m+=n(b>>>10&1023|55296),b=56320|b&1023),m+=n(b);return m}};if(h&&!h.nodeType)if(m)m.exports=p;else{g={}.hasOwnProperty;for(var v in p)g.call(p,v)&&(h[v]=p[v])}else g.utf8=p})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{})},{}],45:[function(b,l,f){function k(a){var c="";do c=e[a%64]+c,a=Math.floor(a/64);while(0<a);return c}function g(){var a=
k(+new Date);return a!==h?(c=0,h=a):a+"."+k(c++)}for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),d={},c=0,a=0,h;64>a;a++)d[e[a]]=a;g.encode=k;g.decode=function(c){var h=0;for(a=0;a<c.length;a++)h=64*h+d[c.charAt(a)];return h};l.exports=g},{}]},{},[1])(1)});/*
: http://creativecommons.org/publicdomain/zero/1.0/
 pixi.js - v4.4.1
 Compiled Tue, 28 Feb 2017 13:42:01 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.4.1 by @mathias */
(function(u){"object"===typeof exports&&"undefined"!==typeof module?module.exports=u():"function"===typeof define&&define.amd?define([],u):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).PIXI=u()})(function(){return function b(l,f,k){function g(c,a){if(!f[c]){if(!l[c]){var d="function"==typeof require&&require;if(!a&&d)return d(c,!0);if(e)return e(c,!0);d=Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d;}d=f[c]={exports:{}};
l[c][0].call(d.exports,function(a){var d=l[c][1][a];return g(d?d:a)},d,d.exports,b,l,f,k)}return f[c].exports}for(var e="function"==typeof require&&require,d=0;d<k.length;d++)g(k[d]);return g}({1:[function(b,l,f){function k(e){var d=32;(e&=-e)&&d--;e&65535&&(d-=16);e&16711935&&(d-=8);e&252645135&&(d-=4);e&858993459&&(d-=2);e&1431655765&&--d;return d}"use restrict";f.INT_BITS=32;f.INT_MAX=2147483647;f.INT_MIN=-2147483648;f.sign=function(e){return(0<e)-(0>e)};f.abs=function(e){var d=e>>31;return(e^
d)-d};f.min=function(e,d){return d^(e^d)&-(e<d)};f.max=function(e,d){return e^(e^d)&-(e<d)};f.isPow2=function(e){return!(e&e-1)&&!!e};f.log2=function(e){var d,c;d=(65535<e)<<4;e>>>=d;c=(255<e)<<3;e>>>=c;d|=c;c=(15<e)<<2;e>>>=c;d|=c;c=(3<e)<<1;return d|c|e>>>c>>1};f.log10=function(e){return 1E9<=e?9:1E8<=e?8:1E7<=e?7:1E6<=e?6:1E5<=e?5:1E4<=e?4:1E3<=e?3:100<=e?2:10<=e?1:0};f.popCount=function(e){e-=e>>>1&1431655765;e=(e&858993459)+(e>>>2&858993459);return 16843009*(e+(e>>>4)&252645135)>>>24};f.countTrailingZeros=
k;f.nextPow2=function(e){e+=0===e;--e;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;return(e|e>>>16)+1};f.prevPow2=function(e){e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;return e-(e>>>1)};f.parity=function(e){e^=e>>>16;e^=e>>>8;return 27030>>>((e^e>>>4)&15)&1};var g=Array(256);(function(e){for(var d=0;256>d;++d){for(var c=d,a=d,h=7,c=c>>>1;c;c>>>=1)a<<=1,a|=c&1,--h;e[d]=a<<h&255}})(g);f.reverse=function(e){return g[e&255]<<24|g[e>>>8&255]<<16|g[e>>>16&255]<<8|g[e>>>24&255]};f.interleave2=function(e,d){e&=
65535;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;d&=65535;d=(d|d<<8)&16711935;d=(d|d<<4)&252645135;d=(d|d<<2)&858993459;return(e|e<<1)&1431655765|((d|d<<1)&1431655765)<<1};f.deinterleave2=function(e,d){e=e>>>d&1431655765;e=(e|e>>>1)&858993459;e=(e|e>>>2)&252645135;e=(e|e>>>4)&16711935;return((e|e>>>16)&65535)<<16>>16};f.interleave3=function(e,d,c){e&=1023;e=(e|e<<16)&4278190335;e=(e|e<<8)&251719695;e=(e|e<<4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<
4)&3272356035;c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;return(e|e<<2)&1227133513|((d|d<<2)&1227133513)<<1|((c|c<<2)&1227133513)<<2};f.deinterleave3=function(e,d){e=e>>>d&1227133513;e=(e|e>>>2)&3272356035;e=(e|e>>>4)&251719695;e=(e|e>>>8)&4278190335;return((e|e>>>16)&1023)<<22>>22};f.nextCombination=function(e){var d=e|e-1;return d+1|(~d&-~d)-1>>>k(e)+1}},{}],2:[function(b,l,f){function k(h,b,n){n=n||2;var p=b&&b.length,q=p?b[0]*n:h.length,k=g(h,0,q,n,!0),f=[];if(!k)return f;
var w,z,l,r;if(p){var t=n,p=[],x,A,E;r=0;for(x=b.length;r<x;r++)A=b[r]*t,E=r<x-1?b[r+1]*t:h.length,A=g(h,A,E,t,!1),A===A.next&&(A.steiner=!0),p.push(m(A));p.sort(c);for(r=0;r<p.length;r++){b=p[r];t=k;if(t=a(b,t))b=v(t,b),e(b,b.next);k=e(k,k.next)}}if(h.length>80*n){w=l=h[0];z=p=h[1];for(t=n;t<q;t+=n)r=h[t],b=h[t+1],r<w&&(w=r),b<z&&(z=b),r>l&&(l=r),b>p&&(p=b);l=Math.max(l-w,p-z)}d(k,f,n,w,z,l);return f}function g(a,c,d,h,e){var b;if(e===0<y(a,c,d,h))for(e=c;e<d;e+=h)b=r(e,a[e],a[e+1],b);else for(e=
d-h;e>=c;e-=h)b=r(e,a[e],a[e+1],b);b&&q(b,b.next)&&(x(b),b=b.next);return b}function e(a,c){if(!a)return a;c||(c=a);var d=a,h;do if(h=!1,d.steiner||!q(d,d.next)&&0!==n(d.prev,d,d.next))d=d.next;else{x(d);d=c=d.prev;if(d===d.next)return null;h=!0}while(h||d!==c);return c}function d(a,c,b,m,g,k,f){if(a){if(!f&&k){var l=a,r=l;do null===r.z&&(r.z=h(r.x,r.y,m,g,k)),r.prevZ=r.prev,r=r.nextZ=r.next;while(r!==l);r.prevZ.nextZ=null;r.prevZ=null;var l=r,t,y,A,E,C,F,B=1;do{r=l;A=l=null;for(E=0;r;){E++;y=r;for(t=
C=0;t<B&&(C++,y=y.nextZ,y);t++);for(F=B;0<C||0<F&&y;)0===C?(t=y,y=y.nextZ,F--):0!==F&&y?r.z<=y.z?(t=r,r=r.nextZ,C--):(t=y,y=y.nextZ,F--):(t=r,r=r.nextZ,C--),A?A.nextZ=t:l=t,t.prevZ=A,A=t;r=y}A.nextZ=null;B*=2}while(1<E)}for(l=a;a.prev!==a.next;){r=a.prev;y=a.next;if(k)a:{A=a;F=m;var G=g,I=k;E=A.prev;C=A;B=A.next;if(0<=n(E,C,B))A=!1;else{var D=E.x>C.x?E.x>B.x?E.x:B.x:C.x>B.x?C.x:B.x,V=E.y>C.y?E.y>B.y?E.y:B.y:C.y>B.y?C.y:B.y;t=h(E.x<C.x?E.x<B.x?E.x:B.x:C.x<B.x?C.x:B.x,E.y<C.y?E.y<B.y?E.y:B.y:C.y<B.y?
C.y:B.y,F,G,I);F=h(D,V,F,G,I);for(G=A.nextZ;G&&G.z<=F;){if(G!==A.prev&&G!==A.next&&p(E.x,E.y,C.x,C.y,B.x,B.y,G.x,G.y)&&0<=n(G.prev,G,G.next)){A=!1;break a}G=G.nextZ}for(G=A.prevZ;G&&G.z>=t;){if(G!==A.prev&&G!==A.next&&p(E.x,E.y,C.x,C.y,B.x,B.y,G.x,G.y)&&0<=n(G.prev,G,G.next)){A=!1;break a}G=G.prevZ}A=!0}}else a:if(A=a,E=A.prev,C=A,B=A.next,0<=n(E,C,B))A=!1;else{for(t=A.next.next;t!==A.prev;){if(p(E.x,E.y,C.x,C.y,B.x,B.y,t.x,t.y)&&0<=n(t.prev,t,t.next)){A=!1;break a}t=t.next}A=!0}if(A)c.push(r.i/b),
c.push(a.i/b),c.push(y.i/b),x(a),l=a=y.next;else if(a=y,a===l){if(!f)d(e(a),c,b,m,g,k,1);else if(1===f){f=c;l=b;r=a;do y=r.prev,A=r.next.next,!q(y,A)&&w(y,r,r.next,A)&&z(y,A)&&z(A,y)&&(f.push(y.i/l),f.push(r.i/l),f.push(A.i/l),x(r),x(r.next),r=a=A),r=r.next;while(r!==a);a=r;d(a,c,b,m,g,k,2)}else if(2===f)a:{f=a;do{for(l=f.next.next;l!==f.prev;){if(r=f.i!==l.i){r=f;y=l;if(A=r.next.i!==y.i&&r.prev.i!==y.i){b:{A=r;do{if(A.i!==r.i&&A.next.i!==r.i&&A.i!==y.i&&A.next.i!==y.i&&w(A,A.next,r,y)){A=!0;break b}A=
A.next}while(A!==r);A=!1}A=!A}if(A=A&&z(r,y)&&z(y,r)){A=r;E=!1;C=(r.x+y.x)/2;y=(r.y+y.y)/2;do A.y>y!==A.next.y>y&&C<(A.next.x-A.x)*(y-A.y)/(A.next.y-A.y)+A.x&&(E=!E),A=A.next;while(A!==r);A=E}r=A}if(r){a=v(f,l);f=e(f,f.next);a=e(a,a.next);d(f,c,b,m,g,k);d(a,c,b,m,g,k);break a}l=l.next}f=f.next}while(f!==a)}break}}}}function c(a,c){return a.x-c.x}function a(a,c){var d=c,h=a.x,e=a.y,b=-Infinity,m;do{if(e<=d.y&&e>=d.next.y){var n=d.x+(e-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(n<=h&&n>b){b=n;if(n===h){if(e===
d.y)return d;if(e===d.next.y)return d.next}m=d.x<d.next.x?d:d.next}}d=d.next}while(d!==c);if(!m)return null;if(h===b)return m.prev;for(var n=m,g=m.x,q=m.y,k=Infinity,f,d=m.next;d!==n;)h>=d.x&&d.x>=g&&p(e<q?h:b,e,g,q,e<q?b:h,e,d.x,d.y)&&(f=Math.abs(e-d.y)/(h-d.x),(f<k||f===k&&d.x>m.x)&&z(d,a)&&(m=d,k=f)),d=d.next;return m}function h(a,c,d,h,e){a=32767*(a-d)/e;c=32767*(c-h)/e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;c=(c|c<<8)&16711935;c=(c|c<<4)&252645135;c=(c|c<<2)&858993459;
return(a|a<<1)&1431655765|((c|c<<1)&1431655765)<<1}function m(a){var c=a,d=a;do c.x<d.x&&(d=c),c=c.next;while(c!==a);return d}function p(a,c,d,h,e,b,m,n){return 0<=(e-m)*(c-n)-(a-m)*(b-n)&&0<=(a-m)*(h-n)-(d-m)*(c-n)&&0<=(d-m)*(b-n)-(e-m)*(h-n)}function n(a,c,d){return(c.y-a.y)*(d.x-c.x)-(c.x-a.x)*(d.y-c.y)}function q(a,c){return a.x===c.x&&a.y===c.y}function w(a,c,d,h){return q(a,c)&&q(d,h)||q(a,h)&&q(d,c)?!0:0<n(a,c,d)!==0<n(a,c,h)&&0<n(d,h,a)!==0<n(d,h,c)}function z(a,c){return 0>n(a.prev,a,a.next)?
0<=n(a,c,a.next)&&0<=n(a,a.prev,c):0>n(a,c,a.prev)||0>n(a,a.next,c)}function v(a,c){var d=new t(a.i,a.x,a.y),h=new t(c.i,c.x,c.y),e=a.next,b=c.prev;a.next=c;c.prev=a;d.next=e;e.prev=d;h.next=d;d.prev=h;b.next=h;h.prev=b;return h}function r(a,c,d,h){a=new t(a,c,d);h?(a.next=h.next,a.prev=h,h.next.prev=a,h.next=a):(a.prev=a,a.next=a);return a}function x(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function t(a,c,d){this.i=a;this.x=c;this.y=
d;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function y(a,c,d,h){for(var e=0,b=d-h;c<d;c+=h)e+=(a[b]-a[c])*(a[c+1]+a[b+1]),b=c;return e}l.exports=k;k.deviation=function(a,c,d,h){var e=c&&c.length,b=Math.abs(y(a,0,e?c[0]*d:a.length,d));if(e)for(var e=0,m=c.length;e<m;e++)b-=Math.abs(y(a,c[e]*d,e<m-1?c[e+1]*d:a.length,d));for(e=c=0;e<h.length;e+=3){var m=h[e]*d,n=h[e+1]*d,p=h[e+2]*d;c+=Math.abs((a[m]-a[p])*(a[n+1]-a[m+1])-(a[m]-a[n])*(a[p+1]-a[m+1]))}return 0===b&&0===c?0:
Math.abs((c-b)/b)};k.flatten=function(a){for(var c=a[0][0].length,d={vertices:[],holes:[],dimensions:c},h=0,e=0;e<a.length;e++){for(var b=0;b<a[e].length;b++)for(var m=0;m<c;m++)d.vertices.push(a[e][b][m]);0<e&&(h+=a[e-1].length,d.holes.push(h))}return d}},{}],3:[function(b,l,f){function k(){}function g(a,c,d){this.fn=a;this.context=c;this.once=d||!1}function e(){this._events=new k;this._eventsCount=0}var d=Object.prototype.hasOwnProperty,c="~";Object.create&&(k.prototype=Object.create(null),(new k).__proto__||
(c=!1));e.prototype.eventNames=function(){var a=[],h,e;if(0===this._eventsCount)return a;for(e in h=this._events)d.call(h,e)&&a.push(c?e.slice(1):e);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(h)):a};e.prototype.listeners=function(a,d){var h=this._events[c?c+a:a];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var e=0,b=h.length,g=Array(b);e<b;e++)g[e]=h[e].fn;return g};e.prototype.emit=function(a,d,e,b,n,g){var h=c?c+a:a;if(!this._events[h])return!1;var h=this._events[h],
m=arguments.length,p,q;if(h.fn){h.once&&this.removeListener(a,h.fn,void 0,!0);switch(m){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,d),!0;case 3:return h.fn.call(h.context,d,e),!0;case 4:return h.fn.call(h.context,d,e,b),!0;case 5:return h.fn.call(h.context,d,e,b,n),!0;case 6:return h.fn.call(h.context,d,e,b,n,g),!0}q=1;for(p=Array(m-1);q<m;q++)p[q-1]=arguments[q];h.fn.apply(h.context,p)}else{var k=h.length,f;for(q=0;q<k;q++)switch(h[q].once&&this.removeListener(a,h[q].fn,
void 0,!0),m){case 1:h[q].fn.call(h[q].context);break;case 2:h[q].fn.call(h[q].context,d);break;case 3:h[q].fn.call(h[q].context,d,e);break;case 4:h[q].fn.call(h[q].context,d,e,b);break;default:if(!p)for(f=1,p=Array(m-1);f<m;f++)p[f-1]=arguments[f];h[q].fn.apply(h[q].context,p)}}return!0};e.prototype.on=function(a,d,e){d=new g(d,e||this);a=c?c+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],d]:this._events[a].push(d):(this._events[a]=d,this._eventsCount++);return this};e.prototype.once=
function(a,d,e){d=new g(d,e||this,!0);a=c?c+a:a;this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],d]:this._events[a].push(d):(this._events[a]=d,this._eventsCount++);return this};e.prototype.removeListener=function(a,d,e,b){a=c?c+a:a;if(!this._events[a])return this;if(!d)return 0===--this._eventsCount?this._events=new k:delete this._events[a],this;var h=this._events[a];if(h.fn)h.fn!==d||b&&!h.once||e&&h.context!==e||(0===--this._eventsCount?this._events=new k:delete this._events[a]);
else{for(var m=0,p=[],g=h.length;m<g;m++)(h[m].fn!==d||b&&!h[m].once||e&&h[m].context!==e)&&p.push(h[m]);p.length?this._events[a]=1===p.length?p[0]:p:0===--this._eventsCount?this._events=new k:delete this._events[a]}return this};e.prototype.removeAllListeners=function(a){a?(a=c?c+a:a,this._events[a]&&(0===--this._eventsCount?this._events=new k:delete this._events[a])):(this._events=new k,this._eventsCount=0);return this};e.prototype.off=e.prototype.removeListener;e.prototype.addListener=e.prototype.on;
e.prototype.setMaxListeners=function(){return this};e.prefixed=c;e.EventEmitter=e;"undefined"!==typeof l&&(l.exports=e)},{}],4:[function(b,l,f){(function(b){var g=/iPhone/i,e=/iPod/i,d=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,m=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/IEMobile/i,n=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,q=/BlackBerry/i,k=/BB10/i,f=/Opera Mini/i,v=
/(CriOS|Chrome)(?=.*\bMobile\b)/i,r=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,x=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,t=function(b){b=b||navigator.userAgent;var w=b.split("[FBAN");"undefined"!==typeof w[1]&&(b=w[0]);w=b.split("Twitter");"undefined"!==typeof w[1]&&(b=w[0]);this.apple={phone:g.test(b),ipod:e.test(b),tablet:!g.test(b)&&d.test(b),device:g.test(b)||e.test(b)||d.test(b)};this.amazon={phone:h.test(b),tablet:!h.test(b)&&m.test(b),device:h.test(b)||m.test(b)};this.android={phone:h.test(b)||
c.test(b),tablet:!h.test(b)&&!c.test(b)&&(m.test(b)||a.test(b)),device:h.test(b)||m.test(b)||c.test(b)||a.test(b)};this.windows={phone:p.test(b),tablet:n.test(b),device:p.test(b)||n.test(b)};this.other={blackberry:q.test(b),blackberry10:k.test(b),opera:f.test(b),firefox:r.test(b),chrome:v.test(b),device:q.test(b)||k.test(b)||f.test(b)||r.test(b)||v.test(b)};this.seven_inch=x.test(b);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=
this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window)return this},y=function(){var a=new t;a.Class=t;return a};"undefined"!==typeof l&&l.exports&&"undefined"===typeof window?l.exports=t:"undefined"!==typeof l&&l.exports&&"undefined"!==typeof window?l.exports=y():b.isMobile=y()})(this)},{}],5:[function(b,l,f){var k=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;
l.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");d[5]="de";if("5"===Object.getOwnPropertyNames(d)[0])return!1;for(var c={},d=0;10>d;d++)c["_"+String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(c).map(function(a){return c[a]}).join(""))return!1;var a={};"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},a)).join("")?!1:!0}catch(h){return!1}}()?Object.assign:function(d,c){var a,h;if(null===
d||void 0===d)throw new TypeError("Object.assign cannot be called with null or undefined");h=Object(d);for(var b,p=1;p<arguments.length;p++){a=Object(arguments[p]);for(var n in a)g.call(a,n)&&(h[n]=a[n]);if(k){b=k(a);for(var q=0;q<b.length;q++)e.call(a,b[q])&&(h[b[q]]=a[b[q]])}}return h}},{}],6:[function(b,l,f){var k=new ArrayBuffer(0),g=function(e,d,c,a){this.gl=e;this.buffer=e.createBuffer();this.type=d||e.ARRAY_BUFFER;this.drawType=a||e.STATIC_DRAW;this.data=k;c&&this.upload(c)};g.prototype.upload=
function(e,d,c){c||this.bind();c=this.gl;e=e||this.data;this.data.byteLength>=e.byteLength?c.bufferSubData(this.type,d||0,e):c.bufferData(this.type,e,this.drawType);this.data=e};g.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)};g.createVertexBuffer=function(e,d,c){return new g(e,e.ARRAY_BUFFER,d,c)};g.createIndexBuffer=function(e,d,c){return new g(e,e.ELEMENT_ARRAY_BUFFER,d,c)};g.create=function(e,d,c,a){return new g(e,d,c,a)};g.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};
l.exports=g},{}],7:[function(b,l,f){var k=b("./GLTexture"),g=function(e,d,c){this.gl=e;this.framebuffer=e.createFramebuffer();this.texture=this.stencil=null;this.width=d||100;this.height=c||100};g.prototype.enableTexture=function(e){var d=this.gl;this.texture=e||new k(d);this.texture.bind();this.bind();d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this.texture.texture,0)};g.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer();
e.bindRenderbuffer(e.RENDERBUFFER,this.stencil);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}};g.prototype.clear=function(e,d,c,a){this.bind();var h=this.gl;h.clearColor(e,d,c,a);h.clear(h.COLOR_BUFFER_BIT)};g.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)};g.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,
null)};g.prototype.resize=function(e,d){var c=this.gl;this.width=e;this.height=d;this.texture&&this.texture.uploadData(null,e,d);this.stencil&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencil),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,e,d))};g.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy();e.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=null};g.createRGBA=function(e,d,c,a){a=k.fromData(e,null,d,c);a.enableNearestScaling();a.enableWrapClamp();
e=new g(e,d,c);e.enableTexture(a);e.unbind();return e};g.createFloat32=function(e,d,c,a){a=new k.fromData(e,a,d,c);a.enableNearestScaling();a.enableWrapClamp();e=new g(e,d,c);e.enableTexture(a);e.unbind();return e};l.exports=g},{"./GLTexture":9}],8:[function(b,l,f){var k=b("./shader/compileProgram"),g=b("./shader/extractAttributes"),e=b("./shader/extractUniforms"),d=b("./shader/generateUniformAccessObject");b=function(c,a,h){this.gl=c;this.program=k(c,a,h);this.attributes=g(c,this.program);a=e(c,
this.program);this.uniforms=d(c,a)};b.prototype.bind=function(){this.gl.useProgram(this.program)};b.prototype.destroy=function(){};l.exports=b},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18}],9:[function(b,l,f){var k=function(e,d,c,a,h){this.gl=e;this.texture=e.createTexture();this.premultiplyAlpha=this.mipmap=!1;this.width=d||-1;this.height=c||-1;this.format=a||e.RGBA;this.type=h||e.UNSIGNED_BYTE};k.prototype.upload=
function(e){this.bind();var d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var c=e.videoWidth||e.width,a=e.videoHeight||e.height;a!==this.height||c!==this.width?d.texImage2D(d.TEXTURE_2D,0,this.format,this.format,this.type,e):d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.format,this.type,e);this.width=c;this.height=a};var g=!1;k.prototype.uploadData=function(e,d,c){this.bind();var a=this.gl;if(e instanceof Float32Array){if(!g)if(a.getExtension("OES_texture_float"))g=!0;
else throw Error("floating point textures not available");this.type=a.FLOAT}else this.type=a.UNSIGNED_BYTE;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);d!==this.width||c!==this.height?a.texImage2D(a.TEXTURE_2D,0,this.format,d,c,0,this.format,this.type,e||null):a.texSubImage2D(a.TEXTURE_2D,0,0,0,d,c,this.format,this.type,e||null);this.width=d;this.height=c};k.prototype.bind=function(e){var d=this.gl;void 0!==e&&d.activeTexture(d.TEXTURE0+e);d.bindTexture(d.TEXTURE_2D,this.texture)};
k.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)};k.prototype.minFilter=function(e){var d=this.gl;this.bind();this.mipmap?d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,e?d.LINEAR_MIPMAP_LINEAR:d.NEAREST_MIPMAP_NEAREST):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,e?d.LINEAR:d.NEAREST)};k.prototype.magFilter=function(e){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,e?d.LINEAR:d.NEAREST)};k.prototype.enableMipmap=function(){var e=this.gl;
this.bind();this.mipmap=!0;e.generateMipmap(e.TEXTURE_2D)};k.prototype.enableLinearScaling=function(){this.minFilter(!0);this.magFilter(!0)};k.prototype.enableNearestScaling=function(){this.minFilter(!1);this.magFilter(!1)};k.prototype.enableWrapClamp=function(){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)};k.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_WRAP_S,e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)};k.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)};k.prototype.destroy=function(){this.gl.deleteTexture(this.texture)};k.fromSource=function(e,d,c){e=new k(e);e.premultiplyAlpha=c||!1;e.upload(d);return e};k.fromData=function(e,d,c,a){e=new k(e);e.uploadData(d,c,a);
return e};l.exports=k},{}],10:[function(b,l,f){function k(e,d){this.nativeVaoExtension=null;k.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=d;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var c=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(c),attribState:Array(c)}}this.gl=e;this.attributes=
[];this.indexBuffer=null;this.dirty=!1}var g=b("./setVertexAttribArrays");k.prototype.constructor=k;l.exports=k;k.FORCE_NATIVE=!1;k.prototype.bind=function(){this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate();return this};k.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};k.prototype.activate=function(){for(var e=this.gl,d=null,c=0;c<this.attributes.length;c++){var a=
this.attributes[c];d!==a.buffer&&(a.buffer.bind(),d=a.buffer);e.vertexAttribPointer(a.attribute.location,a.attribute.size,a.type||e.FLOAT,a.normalized||!1,a.stride||0,a.start||0)}g(e,this.attributes,this.nativeState);this.indexBuffer.bind();return this};k.prototype.addAttribute=function(e,d,c,a,h,b){this.attributes.push({buffer:e,attribute:d,location:d.location,type:c||this.gl.FLOAT,normalized:a||!1,stride:h||0,start:b||0});this.dirty=!0;return this};k.prototype.addIndex=function(e){this.indexBuffer=
e;this.dirty=!0;return this};k.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this};k.prototype.draw=function(e,d,c){var a=this.gl;a.drawElements(e,d,a.UNSIGNED_SHORT,c||0);return this};k.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);this.nativeVao=this.nativeVaoExtension=
null}},{"./setVertexAttribArrays":13}],11:[function(b,l,f){l.exports=function(b,g){var e=b.getContext("webgl",g)||b.getContext("experimental-webgl",g);if(!e)throw Error("This browser does not support webGL. Try using the canvas renderer");return e}},{}],12:[function(b,l,f){b={createContext:b("./createContext"),setVertexAttribArrays:b("./setVertexAttribArrays"),GLBuffer:b("./GLBuffer"),GLFramebuffer:b("./GLFramebuffer"),GLShader:b("./GLShader"),GLTexture:b("./GLTexture"),VertexArrayObject:b("./VertexArrayObject"),
shader:b("./shader")};"undefined"!==typeof l&&l.exports&&(l.exports=b);"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=b)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(b,l,f){l.exports=function(b,g,e){var d;if(e){var c=e.tempAttribState,a=e.attribState;for(d=0;d<c.length;d++)c[d]=!1;for(d=0;d<g.length;d++)c[g[d].attribute.location]=!0;for(d=0;d<
a.length;d++)a[d]!==c[d]&&(a[d]=c[d],e.attribState[d]?b.enableVertexAttribArray(d):b.disableVertexAttribArray(d))}else for(d=0;d<g.length;d++)b.enableVertexAttribArray(g[d].attribute.location)}},{}],14:[function(b,l,f){var k=function(b,e,d){e=b.createShader(e);b.shaderSource(e,d);b.compileShader(e);return b.getShaderParameter(e,b.COMPILE_STATUS)?e:(console.log(b.getShaderInfoLog(e)),null)};l.exports=function(b,e,d){e=k(b,b.VERTEX_SHADER,e);d=k(b,b.FRAGMENT_SHADER,d);var c=b.createProgram();b.attachShader(c,
e);b.attachShader(c,d);b.linkProgram(c);b.getProgramParameter(c,b.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",b.getProgramParameter(c,b.VALIDATE_STATUS)),console.error("gl.getError()",b.getError()),""!==b.getProgramInfoLog(c)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",b.getProgramInfoLog(c)),b.deleteProgram(c),c=null);b.deleteShader(e);b.deleteShader(d);return c}},{}],15:[function(b,l,f){var k=function(b){b=Array(b);for(var e=
0;e<b.length;e++)b[e]=!1;return b};l.exports=function(b,e){switch(b){case "float":return 0;case "vec2":return new Float32Array(2*e);case "vec3":return new Float32Array(3*e);case "vec4":return new Float32Array(4*e);case "int":case "sampler2D":return 0;case "ivec2":return new Int32Array(2*e);case "ivec3":return new Int32Array(3*e);case "ivec4":return new Int32Array(4*e);case "bool":return!1;case "bvec2":return k(2*e);case "bvec3":return k(3*e);case "bvec4":return k(4*e);case "mat2":return new Float32Array([1,
0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],16:[function(b,l,f){var k=b("./mapType"),g=b("./mapSize"),e=function(d,c,a,h){gl.vertexAttribPointer(this.location,this.size,d||gl.FLOAT,c||!1,a||0,h||0)};l.exports=function(d,c){for(var a={},h=d.getProgramParameter(c,d.ACTIVE_ATTRIBUTES),b=0;b<h;b++){var p=d.getActiveAttrib(c,b),n=k(d,p.type);a[p.name]={type:n,size:g(n),location:d.getAttribLocation(c,p.name),
pointer:e}}return a}},{"./mapSize":20,"./mapType":21}],17:[function(b,l,f){var k=b("./mapType"),g=b("./defaultValue");l.exports=function(e,d){for(var c={},a=e.getProgramParameter(d,e.ACTIVE_UNIFORMS),h=0;h<a;h++){var b=e.getActiveUniform(d,h),p=b.name.replace(/\[.*?\]/,""),n=k(e,b.type);c[p]={type:n,size:b.size,location:e.getUniformLocation(d,p),value:g(n,b.size)}}return c}},{"./defaultValue":15,"./mapType":21}],18:[function(b,l,f){var k=function(a){a=e.replace("%%",a);return new Function(a)},g=function(h,
e){var b=d.replace(/%%/g,h),m;(m=1===e.size?c[e.type]:a[e.type])&&(b+="\nthis.gl."+m+";");return new Function("value",b)},e="return this.data.%%.value;",d="this.data.%%.value = value;\nvar location = this.data.%%.location;",c={"float":"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])","int":"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",
ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},
a={"float":"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)","int":"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};l.exports=function(a,c){var d=
{data:{}};d.gl=a;for(var h=Object.keys(c),e=0;e<h.length;e++){for(var b=h[e],m=b.split("."),f=m[m.length-1],l=d,x=0;x<m.length-1;x++)var t=l[m[x]]||{data:{}},l=l[m[x]]=t;m=l;b=c[b];m.data[f]=b;m.gl=a;Object.defineProperty(m,f,{get:k(f),set:g(f,b)})}return d}},{}],19:[function(b,l,f){l.exports={compileProgram:b("./compileProgram"),defaultValue:b("./defaultValue"),extractAttributes:b("./extractAttributes"),extractUniforms:b("./extractUniforms"),generateUniformAccessObject:b("./generateUniformAccessObject"),
mapSize:b("./mapSize"),mapType:b("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21}],20:[function(b,l,f){var k={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};l.exports=function(b){return k[b]}},{}],21:[function(b,l,f){var k=null,g={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",
INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};l.exports=function(e,d){if(!k){var c=Object.keys(g);k={};for(var a=0;a<c.length;++a){var h=c[a];k[e[h]]=g[h]}}return k[d]}},{}],22:[function(b,l,f){(function(b){function g(a,c){for(var d=0,h=a.length-1;0<=h;h--){var e=a[h];"."===e?a.splice(h,1):".."===e?(a.splice(h,1),d++):d&&(a.splice(h,1),d--)}if(c)for(;d--;d)a.unshift("..");
return a}function e(a,c){if(a.filter)return a.filter(c);for(var d=[],h=0;h<a.length;h++)c(a[h],h,a)&&d.push(a[h]);return d}var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;f.resolve=function(){for(var a="",c=!1,d=arguments.length-1;-1<=d&&!c;d--){var p=0<=d?arguments[d]:b.cwd();if("string"!==typeof p)throw new TypeError("Arguments to path.resolve must be strings");p&&(a=p+"/"+a,c="/"===p.charAt(0))}a=g(e(a.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+a||"."};
f.normalize=function(a){var d=f.isAbsolute(a),b="/"===c(a,-1);(a=g(e(a.split("/"),function(a){return!!a}),!d).join("/"))||d||(a=".");a&&b&&(a+="/");return(d?"/":"")+a};f.isAbsolute=function(a){return"/"===a.charAt(0)};f.join=function(){var a=Array.prototype.slice.call(arguments,0);return f.normalize(e(a,function(a,c){if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};f.relative=function(a,c){function d(a){for(var c=0;c<a.length&&""===a[c];c++);
for(var d=a.length-1;0<=d&&""===a[d];d--);return c>d?[]:a.slice(c,d-c+1)}a=f.resolve(a).substr(1);c=f.resolve(c).substr(1);for(var h=d(a.split("/")),e=d(c.split("/")),b=Math.min(h.length,e.length),g=b,k=0;k<b;k++)if(h[k]!==e[k]){g=k;break}b=[];for(k=g;k<h.length;k++)b.push("..");b=b.concat(e.slice(g));return b.join("/")};f.sep="/";f.delimiter=":";f.dirname=function(a){var c=d.exec(a).slice(1);a=c[0];c=c[1];if(!a&&!c)return".";c&&(c=c.substr(0,c.length-1));return a+c};f.basename=function(a,c){var h=
d.exec(a).slice(1)[2];c&&h.substr(-1*c.length)===c&&(h=h.substr(0,h.length-c.length));return h};f.extname=function(a){return d.exec(a).slice(1)[3]};var c="b"==="ab".substr(-1)?function(a,c,d){return a.substr(c,d)}:function(a,c,d){0>c&&(c=a.length+c);return a.substr(c,d)}}).call(this,b("_process"))},{_process:23}],23:[function(b,l,f){function k(){throw Error("setTimeout has not been defined");}function g(){throw Error("clearTimeout has not been defined");}function e(a){if(p===setTimeout)return setTimeout(a,
0);if((p===k||!p)&&setTimeout)return p=setTimeout,setTimeout(a,0);try{return p(a,0)}catch(x){try{return p.call(null,a,0)}catch(t){return p.call(this,a,0)}}}function d(a){if(n===clearTimeout)return clearTimeout(a);if((n===g||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(a);try{return n(a)}catch(x){try{return n.call(null,a)}catch(t){return n.call(this,a)}}}function c(){w&&z&&(w=!1,z.length?q=z.concat(q):v=-1,q.length&&a())}function a(){if(!w){var a=e(c);w=!0;for(var h=q.length;h;){z=q;for(q=
[];++v<h;)z&&z[v].run();v=-1;h=q.length}z=null;w=!1;d(a)}}function h(a,c){this.fun=a;this.array=c}function m(){}b=l.exports={};var p,n;try{p="function"===typeof setTimeout?setTimeout:k}catch(r){p=k}try{n="function"===typeof clearTimeout?clearTimeout:g}catch(r){n=g}var q=[],w=!1,z,v=-1;b.nextTick=function(c){var d=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)d[b-1]=arguments[b];q.push(new h(c,d));1!==q.length||w||e(a)};h.prototype.run=function(){this.fun.apply(null,
this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=m;b.addListener=m;b.once=m;b.off=m;b.removeListener=m;b.removeAllListeners=m;b.emit=m;b.binding=function(a){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");};b.umask=function(){return 0}},{}],24:[function(b,l,f){(function(b){(function(g){function e(a){throw new RangeError(y[a]);}function d(a,c){for(var d=a.length,
h=[];d--;)h[d]=c(a[d]);return h}function c(a,c){var h=a.split("@"),e="";1<h.length&&(e=h[0]+"@",a=h[1]);a=a.replace(t,".");h=a.split(".");h=d(h,c).join(".");return e+h}function a(a){for(var c=[],d=0,h=a.length,e,b;d<h;)e=a.charCodeAt(d++),55296<=e&&56319>=e&&d<h?(b=a.charCodeAt(d++),56320==(b&64512)?c.push(((e&1023)<<10)+(b&1023)+65536):(c.push(e),d--)):c.push(e);return c}function h(a){return d(a,function(a){var c="";65535<a&&(a-=65536,c+=C(a>>>10&1023|55296),a=56320|a&1023);return c+=C(a)}).join("")}
function m(a,c){return a+22+75*(26>a)-((0!=c)<<5)}function p(a,c,d){var h=0;a=d?A(a/700):a>>1;for(a+=A(a/c);455<a;h+=36)a=A(a/35);return A(h+36*a/(a+38))}function n(a){var c=[],d=a.length,b,m=0,n=128,q=72,g,k,f,w,l;g=a.lastIndexOf("-");0>g&&(g=0);for(k=0;k<g;++k)128<=a.charCodeAt(k)&&e("not-basic"),c.push(a.charCodeAt(k));for(g=0<g?g+1:0;g<d;){k=m;b=1;for(f=36;;f+=36){g>=d&&e("invalid-input");w=a.charCodeAt(g++);w=10>w-48?w-22:26>w-65?w-65:26>w-97?w-97:36;(36<=w||w>A((2147483647-m)/b))&&e("overflow");
m+=w*b;l=f<=q?1:f>=q+26?26:f-q;if(w<l)break;w=36-l;b>A(2147483647/w)&&e("overflow");b*=w}b=c.length+1;q=p(m-k,b,0==k);A(m/b)>2147483647-n&&e("overflow");n+=A(m/b);m%=b;c.splice(m++,0,n)}return h(c)}function q(c){var d,h,b,n,g,q,k,f,w,l=[],z,r,v;c=a(c);z=c.length;d=128;h=0;g=72;for(q=0;q<z;++q)w=c[q],128>w&&l.push(C(w));for((b=n=l.length)&&l.push("-");b<z;){k=2147483647;for(q=0;q<z;++q)w=c[q],w>=d&&w<k&&(k=w);r=b+1;k-d>A((2147483647-h)/r)&&e("overflow");h+=(k-d)*r;d=k;for(q=0;q<z;++q)if(w=c[q],w<d&&
2147483647<++h&&e("overflow"),w==d){f=h;for(k=36;;k+=36){w=k<=g?1:k>=g+26?26:k-g;if(f<w)break;v=f-w;f=36-w;l.push(C(m(w+v%f,0)));f=A(v/f)}l.push(C(m(f,0)));g=p(h,r,b==n);h=0;++b}++h;++d}return l.join("")}var k="object"==typeof f&&f&&!f.nodeType&&f,z="object"==typeof l&&l&&!l.nodeType&&l,v="object"==typeof b&&b;if(v.global===v||v.window===v||v.self===v)g=v;var r=/^xn--/,x=/[^\x20-\x7E]/,t=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},A=Math.floor,C=String.fromCharCode,E,v={version:"1.4.1",ucs2:{decode:a,encode:h},decode:n,encode:q,toASCII:function(a){return c(a,function(a){return x.test(a)?"xn--"+q(a):a})},toUnicode:function(a){return c(a,function(a){return r.test(a)?n(a.slice(4).toLowerCase()):a})}};if(k&&z)if(l.exports==k)z.exports=v;else for(E in v)v.hasOwnProperty(E)&&(k[E]=v[E]);else g.punycode=v})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],25:[function(b,l,f){l.exports=function(b,e,d,c){d=d||"=";var a={};if("string"!==typeof b||0===b.length)return a;var h=/\+/g;b=b.split(e||"&");e=1E3;c&&"number"===typeof c.maxKeys&&(e=c.maxKeys);c=b.length;0<e&&c>e&&(c=e);for(e=0;e<c;++e){var m=b[e].replace(h,"%20"),p=m.indexOf(d),n;0<=p?(n=m.substr(0,p),m=m.substr(p+1)):(n=m,m="");n=decodeURIComponent(n);m=decodeURIComponent(m);Object.prototype.hasOwnProperty.call(a,n)?k(a[n])?a[n].push(m):a[n]=[a[n],m]:a[n]=m}return a};
var k=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}},{}],26:[function(b,l,f){function k(c,a){if(c.map)return c.map(a);for(var d=[],e=0;e<c.length;e++)d.push(a(c[e],e));return d}var g=function(c){switch(typeof c){case "string":return c;case "boolean":return c?"true":"false";case "number":return isFinite(c)?c:"";default:return""}};l.exports=function(c,a,h,b){a=a||"&";h=h||"=";null===c&&(c=void 0);return"object"===typeof c?k(d(c),function(d){var b=encodeURIComponent(g(d))+
h;return e(c[d])?k(c[d],function(a){return b+encodeURIComponent(g(a))}).join(a):b+encodeURIComponent(g(c[d]))}).join(a):b?encodeURIComponent(g(b))+h+encodeURIComponent(g(c)):""};var e=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},d=Object.keys||function(c){var a=[],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&a.push(d);return a}},{}],27:[function(b,l,f){f.decode=f.parse=b("./decode");f.encode=f.stringify=b("./encode")},{"./decode":25,"./encode":26}],
28:[function(b,l,f){function k(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function g(a,c,h){if(a&&d.isObject(a)&&a instanceof k)return a;var e=new k;e.parse(a,c,h);return e}var e=b("punycode"),d=b("./util");f.parse=g;f.resolve=function(a,c){return g(a,!1,!0).resolve(c)};f.resolveObject=function(a,c){return a?g(a,!1,!0).resolveObject(c):c};f.format=function(a){d.isString(a)&&(a=g(a));return a instanceof
k?a.format():k.prototype.format.call(a)};f.Url=k;var c=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;l="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var m=["'"].concat(l),p=["%","/","?",";","#"].concat(m),n=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},r={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=b("querystring");
k.prototype.parse=function(a,b,g){if(!d.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var k=a.indexOf("?"),k=-1!==k&&k<a.indexOf("#")?"?":"#";a=a.split(k);a[0]=a[0].replace(/\\/g,"/");a=a.join(k);k=a.trim();if(!g&&1===a.split("#").length&&(a=h.exec(k)))return this.href=this.path=k,this.pathname=a[1],a[2]?(this.search=a[2],this.query=b?x.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this;if(a=c.exec(k)){a=a[0];var f=a.toLowerCase();
this.protocol=f;k=k.substr(a.length)}if(g||a||k.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===k.substr(0,2);!l||a&&v[a]||(k=k.substr(2),this.slashes=!0)}if(!v[a]&&(l||a&&!r[a])){l=-1;for(g=0;g<n.length;g++)a=k.indexOf(n[g]),-1!==a&&(-1===l||a<l)&&(l=a);l=-1===l?k.lastIndexOf("@"):k.lastIndexOf("@",l);-1!==l&&(g=k.slice(0,l),k=k.slice(l+1),this.auth=decodeURIComponent(g));l=-1;for(g=0;g<p.length;g++)a=k.indexOf(p[g]),-1!==a&&(-1===l||a<l)&&(l=a);-1===l&&(l=k.length);this.host=k.slice(0,l);k=k.slice(l);
this.parseHost();this.hostname=this.hostname||"";l="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!l){var t=this.hostname.split(/\./);g=0;for(a=t.length;g<a;g++){var y=t[g];if(y&&!y.match(q)){for(var A="",H=0,M=y.length;H<M;H++)A=127<y.charCodeAt(H)?A+"x":A+y[H];if(!A.match(q)){a=t.slice(0,g);g=t.slice(g+1);if(y=y.match(w))a.push(y[1]),g.unshift(y[2]);g.length&&(k="/"+g.join(".")+k);this.hostname=a.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
l||(this.hostname=e.toASCII(this.hostname));g=this.port?":"+this.port:"";this.host=(this.hostname||"")+g;this.href+=this.host;l&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==k[0]&&(k="/"+k))}if(!z[f])for(g=0,a=m.length;g<a;g++)l=m[g],-1!==k.indexOf(l)&&(y=encodeURIComponent(l),y===l&&(y=escape(l)),k=k.split(l).join(y));g=k.indexOf("#");-1!==g&&(this.hash=k.substr(g),k=k.slice(0,g));g=k.indexOf("?");-1!==g?(this.search=k.substr(g),this.query=k.substr(g+1),b&&(this.query=x.parse(this.query)),
k=k.slice(0,g)):b&&(this.search="",this.query={});k&&(this.pathname=k);r[f]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)g=this.pathname||"",this.path=g+(this.search||"");this.href=this.format();return this};k.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var c=this.protocol||"",h=this.pathname||"",e=this.hash||"",b=!1,m="";this.host?b=a+this.host:this.hostname&&(b=a+(-1===this.hostname.indexOf(":")?
this.hostname:"["+this.hostname+"]"),this.port&&(b+=":"+this.port));this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(m=x.stringify(this.query));a=this.search||m&&"?"+m||"";c&&":"!==c.substr(-1)&&(c+=":");this.slashes||(!c||r[c])&&!1!==b?(b="//"+(b||""),h&&"/"!==h.charAt(0)&&(h="/"+h)):b||(b="");e&&"#"!==e.charAt(0)&&(e="#"+e);a&&"?"!==a.charAt(0)&&(a="?"+a);h=h.replace(/[?#]/g,function(a){return encodeURIComponent(a)});a=a.replace("#","%23");return c+b+h+a+e};k.prototype.resolve=
function(a){return this.resolveObject(g(a,!1,!0)).format()};k.prototype.resolveObject=function(a){if(d.isString(a)){var c=new k;c.parse(a,!1,!0);a=c}for(var c=new k,h=Object.keys(this),e=0;e<h.length;e++){var b=h[e];c[b]=this[b]}c.hash=a.hash;if(""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol){h=Object.keys(a);for(e=0;e<h.length;e++)b=h[e],"protocol"!==b&&(c[b]=a[b]);r[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/");c.href=c.format();return c}if(a.protocol&&a.protocol!==
c.protocol){if(!r[a.protocol]){h=Object.keys(a);for(e=0;e<h.length;e++)b=h[e],c[b]=a[b];c.href=c.format();return c}c.protocol=a.protocol;if(a.host||v[a.protocol])c.pathname=a.pathname;else{for(var m=(a.pathname||"").split("/");m.length&&!(a.host=m.shift()););a.host||(a.host="");a.hostname||(a.hostname="");""!==m[0]&&m.unshift("");2>m.length&&m.unshift("");c.pathname=m.join("/")}c.search=a.search;c.query=a.query;c.host=a.host||"";c.auth=a.auth;c.hostname=a.hostname||a.host;c.port=a.port;if(c.pathname||
c.search)c.path=(c.pathname||"")+(c.search||"");c.slashes=c.slashes||a.slashes;c.href=c.format();return c}var h=c.pathname&&"/"===c.pathname.charAt(0),n=a.host||a.pathname&&"/"===a.pathname.charAt(0),p=h=n||h||c.host&&a.pathname,e=c.pathname&&c.pathname.split("/")||[],m=a.pathname&&a.pathname.split("/")||[];if(b=c.protocol&&!r[c.protocol])c.hostname="",c.port=null,c.host&&(""===e[0]?e[0]=c.host:e.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===m[0]?m[0]=a.host:m.unshift(a.host)),
a.host=null),h=h&&(""===m[0]||""===e[0]);if(n)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,e=m;else if(m.length)e||(e=[]),e.pop(),e=e.concat(m),c.search=a.search,c.query=a.query;else if(!d.isNullOrUndefined(a.search))return b&&(c.hostname=c.host=e.shift(),b=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=b.shift(),c.host=c.hostname=b.shift()),c.search=a.search,c.query=a.query,d.isNull(c.pathname)&&
d.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c;if(!e.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=c.format(),c;for(var n=e.slice(-1)[0],m=(c.host||a.host||1<e.length)&&("."===n||".."===n)||""===n,g=0,q=e.length;0<=q;q--)n=e[q],"."===n?e.splice(q,1):".."===n?(e.splice(q,1),g++):g&&(e.splice(q,1),g--);if(!h&&!p)for(;g--;g)e.unshift("..");!h||""===e[0]||e[0]&&"/"===e[0].charAt(0)||e.unshift("");m&&"/"!==e.join("/").substr(-1)&&
e.push("");p=""===e[0]||e[0]&&"/"===e[0].charAt(0);b&&(c.hostname=c.host=p?"":e.length?e.shift():"",b=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.auth=b.shift(),c.host=c.hostname=b.shift());(h=h||c.host&&e.length)&&!p&&e.unshift("");e.length?c.pathname=e.join("/"):(c.pathname=null,c.path=null);d.isNull(c.pathname)&&d.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:""));c.auth=a.auth||c.auth;c.slashes=c.slashes||a.slashes;c.href=c.format();return c};k.prototype.parseHost=
function(){var c=this.host,d=a.exec(c);d&&(d=d[0],":"!==d&&(this.port=d.substr(1)),c=c.substr(0,c.length-d.length));c&&(this.hostname=c)}},{"./util":29,punycode:24,querystring:27}],29:[function(b,l,f){l.exports={isString:function(b){return"string"===typeof b},isObject:function(b){return"object"===typeof b&&null!==b},isNull:function(b){return null===b},isNullOrUndefined:function(b){return null==b}}},{}],30:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var g=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};l=b("mini-signals");var e=k(l);l=b("parse-uri");var d=k(l),c=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("./async"));b=b("./Resource");var a=k(b),h=/(#[\w-]+)?$/;b=function(){function b(){var a=
this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.baseUrl=d;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(c,d){return a._loadResource(c,d)};this._queue=c.queue(this._boundLoadResource,h);this._queue.pause();this.resources=
{};this.onProgress=new e["default"];this.onError=new e["default"];this.onLoad=new e["default"];this.onStart=new e["default"];this.onComplete=new e["default"]}b.prototype.add=function(c,d,h,e){if(Array.isArray(c)){for(d=0;d<c.length;++d)this.add(c[d]);return this}"object"===("undefined"===typeof c?"undefined":g(c))&&(e=d||c.callback||c.onComplete,h=c,d=c.url,c=c.name||c.key||c.url);"string"!==typeof d&&(e=h,h=d,d=c);if("string"!==typeof d)throw Error("No url passed to add resource to loader.");"function"===
typeof h&&(e=h,h=null);if(this.loading&&(!h||!h.parentResource))throw Error("Cannot add resources while the loader is running.");if(this.resources[c])throw Error('Resource named "'+c+'" already exists.');d=this._prepareUrl(d);this.resources[c]=new a["default"](c,d,h);if("function"===typeof e)this.resources[c].onAfterMiddleware.once(e);if(this.loading){h=h.parentResource;d=[];for(e=0;e<h.children.length;++e)h.children[e].isComplete||d.push(h.children[e]);e=h.progressChunk*(d.length+1)/(d.length+2);
h.children.push(this.resources[c]);h.progressChunk=e;for(h=0;h<d.length;++h)d[h].progressChunk=e;this.resources[c].progressChunk=e}this._queue.push(this.resources[c]);return this};b.prototype.pre=function(a){this._beforeMiddleware.push(a);return this};b.prototype.use=function(a){this._afterMiddleware.push(a);return this};b.prototype.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var a in this.resources){var c=this.resources[a];c._onLoadBinding&&c._onLoadBinding.detach();
c.isLoading&&c.abort()}this.resources={};return this};b.prototype.load=function(a){if("function"===typeof a)this.onComplete.once(a);if(this.loading)return this;a=100/this._queue._tasks.length;for(var c=0;c<this._queue._tasks.length;++c)this._queue._tasks[c].data.progressChunk=a;this.loading=!0;this.onStart.dispatch(this);this._queue.resume();return this};b.prototype._prepareUrl=function(a){var c=(0,d["default"])(a,{strictMode:!0});a=c.protocol||!c.path||0===a.indexOf("//")?a:this.baseUrl.length&&
this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==a.charAt(0)?this.baseUrl+"/"+a:this.baseUrl+a;this.defaultQueryString&&(c=h.exec(a)[0],a=a.substr(0,a.length-c.length),a=-1!==a.indexOf("?")?a+("&"+this.defaultQueryString):a+("?"+this.defaultQueryString),a+=c);return a};b.prototype._loadResource=function(a,d){var h=this;a._dequeue=d;c.eachSeries(this._beforeMiddleware,function(c,d){c.call(h,a,function(){d(a.isComplete?{}:null)})},function(){a.isComplete?h._onLoad(a):(a._onLoadBinding=a.onComplete.once(h._onLoad,
h),a.load())})};b.prototype._onComplete=function(){this.loading=!1;this.onComplete.dispatch(this,this.resources)};b.prototype._onLoad=function(a){var d=this;a._onLoadBinding=null;a._dequeue();this._resourcesParsing.push(a);c.eachSeries(this._afterMiddleware,function(c,h){c.call(d,a,h)},function(){a.onAfterMiddleware.dispatch(a);d.progress+=a.progressChunk;d.onProgress.dispatch(d,a);a.error?d.onError.dispatch(a.error,d,a):d.onLoad.dispatch(d,a);d._resourcesParsing.splice(d._resourcesParsing.indexOf(a),
1);d._queue.idle()&&0===d._resourcesParsing.length&&(d.progress=100,d._onComplete())})};return b}();f["default"]=b},{"./Resource":31,"./async":32,"mini-signals":36,"parse-uri":37}],31:[function(b,l,f){function k(){}function g(a,c,d){c&&0===c.indexOf(".")&&(c=c.substring(1));c&&(a[c]=d)}function e(a){return a.toString().replace("object ","")}f.__esModule=!0;var d=function(){function a(a,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=
!0);Object.defineProperty(a,h.key,h)}}return function(c,d,h){d&&a(c.prototype,d);h&&a(c,h);return c}}(),c=(l=b("parse-uri"))&&l.__esModule?l:{"default":l},a=(b=b("mini-signals"))&&b.__esModule?b:{"default":b},h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),m=null;b=function(){function b(c,d,h){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if("string"!==typeof c||"string"!==typeof d)throw Error("Both name and url are required for constructing a resource.");
h=h||{};this._flags=0;this._setFlag(b.STATUS_FLAGS.DATA_URL,0===d.indexOf("data:"));this.name=c;this.url=d;this.extension=this._getExtension();this.data=null;this.crossOrigin=!0===h.crossOrigin?"anonymous":h.crossOrigin;this.loadType=h.loadType||this._determineLoadType();this.xhrType=h.xhrType;this.metadata=h.metadata||{};this.xhr=this.error=null;this.children=[];this.type=b.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=k;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=
this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new a["default"];this.onProgress=new a["default"];this.onComplete=new a["default"];this.onAfterMiddleware=new a["default"]}b.setExtensionLoadType=function(a,c){g(b._loadTypeMap,a,c)};b.setExtensionXhrType=function(a,
c){g(b._xhrTypeMap,a,c)};b.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",
this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(b.STATUS_FLAGS.COMPLETE,!0);this._setFlag(b.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};b.prototype.abort=function(a){if(!this.error){this.error=
Error(a);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=b.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}};b.prototype.load=function(a){var c=this;if(!this.isLoading)if(this.isComplete)a&&setTimeout(function(){return a(c)},1);else{if(a)this.onComplete.once(a);this._setFlag(b.STATUS_FLAGS.LOADING,!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=
this._determineCrossOrigin(this.url);switch(this.loadType){case b.LOAD_TYPE.IMAGE:this.type=b.TYPE.IMAGE;this._loadElement("image");break;case b.LOAD_TYPE.AUDIO:this.type=b.TYPE.AUDIO;this._loadSourceElement("audio");break;case b.LOAD_TYPE.VIDEO:this.type=b.TYPE.VIDEO;this._loadSourceElement("video");break;default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};b.prototype._hasFlag=function(a){return!!(this._flags&a)};b.prototype._setFlag=function(a,c){this._flags=c?this._flags|a:this._flags&
~a};b.prototype._loadElement=function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===a&&"undefined"!==typeof window.Image?new Image:document.createElement(a);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1)};b.prototype._loadSourceElement=
function(a){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===a&&"undefined"!==typeof window.Audio?new Audio:document.createElement(a);if(null===this.data)this.abort("Unsupported element: "+a);else{if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var c=0;c<this.url.length;++c)this.data.appendChild(this._createSource(a,this.url[c]));else this.data.appendChild(this._createSource(a,
this.url));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()}};b.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0);a.responseType=this.xhrType===b.XHR_RESPONSE_TYPE.JSON||this.xhrType===
b.XHR_RESPONSE_TYPE.DOCUMENT?b.XHR_RESPONSE_TYPE.TEXT:this.xhrType;a.addEventListener("error",this._boundXhrOnError,!1);a.addEventListener("abort",this._boundXhrOnAbort,!1);a.addEventListener("progress",this._boundOnProgress,!1);a.addEventListener("load",this._boundXhrOnLoad,!1);a.send()};b.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5E3;a.onerror=this._boundXhrOnError;a.ontimeout=this._boundXdrOnTimeout;
a.onprogress=this._boundOnProgress;a.onload=this._boundXhrOnLoad;a.open("GET",this.url,!0);setTimeout(function(){return a.send()},1)};b.prototype._createSource=function(a,c,d){d||(d=a+"/"+c.substr(c.lastIndexOf(".")+1));a=document.createElement("source");a.src=c;a.type=d;return a};b.prototype._onError=function(a){this.abort("Failed to load element using: "+a.target.nodeName)};b.prototype._onProgress=function(a){a&&a.lengthComputable&&this.onProgress.dispatch(this,a.loaded/a.total)};b.prototype._xhrOnError=
function(){var a=this.xhr;this.abort(e(a)+" Request failed. Status: "+a.status+', text: "'+a.statusText+'"')};b.prototype._xhrOnAbort=function(){this.abort(e(this.xhr)+" Request was aborted by the user.")};b.prototype._xdrOnTimeout=function(){this.abort(e(this.xhr)+" Request timed out.")};b.prototype._xhrOnLoad=function(){var a=this.xhr,c="undefined"===typeof a.status?a.status:200;if(200===c||204===c||0===c&&0<a.responseText.length){if(this.xhrType===b.XHR_RESPONSE_TYPE.TEXT)this.data=a.responseText,
this.type=b.TYPE.TEXT;else if(this.xhrType===b.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(a.responseText),this.type=b.TYPE.JSON}catch(z){this.abort("Error trying to parse loaded json: "+z);return}else if(this.xhrType===b.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(a.responseText,"text/xml");else{var d=document.createElement("div");d.innerHTML=a.responseText;this.data=d}this.type=b.TYPE.XML}catch(z){this.abort("Error trying to parse loaded xml: "+
z);return}else this.data=a.response||a.responseText;this.complete()}else this.abort("["+a.status+"] "+a.statusText+": "+a.responseURL)};b.prototype._determineCrossOrigin=function(a,d){if(0===a.indexOf("data:"))return"";d=d||window.location;m||(m=document.createElement("a"));m.href=a;a=(0,c["default"])(m.href,{strictMode:!0});var h=!a.port&&""===d.port||a.port===d.port,e=a.protocol?a.protocol+":":"";return a.host===d.hostname&&h&&e===d.protocol?"":"anonymous"};b.prototype._determineXhrType=function(){return b._xhrTypeMap[this.extension]||
b.XHR_RESPONSE_TYPE.TEXT};b.prototype._determineLoadType=function(){return b._loadTypeMap[this.extension]||b.LOAD_TYPE.XHR};b.prototype._getExtension=function(){var a=this.url;if(this.isDataUrl)var c=a.indexOf("/"),a=a.substring(c+1,a.indexOf(";",c));else c=a.indexOf("?"),-1!==c&&(a=a.substring(0,c)),a=a.substring(a.lastIndexOf(".")+1);return a.toLowerCase()};b.prototype._getMimeFromXhrType=function(a){switch(a){case b.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case b.XHR_RESPONSE_TYPE.BLOB:return"application/blob";
case b.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case b.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};d(b,[{key:"isDataUrl",get:function(){return this._hasFlag(b.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(b.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(b.STATUS_FLAGS.LOADING)}}]);return b}();f["default"]=b;b.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};b.TYPE={UNKNOWN:0,JSON:1,XML:2,
IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};b.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};b.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};b._loadTypeMap={gif:b.LOAD_TYPE.IMAGE,png:b.LOAD_TYPE.IMAGE,bmp:b.LOAD_TYPE.IMAGE,jpg:b.LOAD_TYPE.IMAGE,jpeg:b.LOAD_TYPE.IMAGE,tif:b.LOAD_TYPE.IMAGE,tiff:b.LOAD_TYPE.IMAGE,webp:b.LOAD_TYPE.IMAGE,tga:b.LOAD_TYPE.IMAGE,svg:b.LOAD_TYPE.IMAGE,"svg+xml":b.LOAD_TYPE.IMAGE,mp3:b.LOAD_TYPE.AUDIO,ogg:b.LOAD_TYPE.AUDIO,
wav:b.LOAD_TYPE.AUDIO,mp4:b.LOAD_TYPE.VIDEO,webm:b.LOAD_TYPE.VIDEO};b._xhrTypeMap={xhtml:b.XHR_RESPONSE_TYPE.DOCUMENT,html:b.XHR_RESPONSE_TYPE.DOCUMENT,htm:b.XHR_RESPONSE_TYPE.DOCUMENT,xml:b.XHR_RESPONSE_TYPE.DOCUMENT,tmx:b.XHR_RESPONSE_TYPE.DOCUMENT,svg:b.XHR_RESPONSE_TYPE.DOCUMENT,tsx:b.XHR_RESPONSE_TYPE.DOCUMENT,gif:b.XHR_RESPONSE_TYPE.BLOB,png:b.XHR_RESPONSE_TYPE.BLOB,bmp:b.XHR_RESPONSE_TYPE.BLOB,jpg:b.XHR_RESPONSE_TYPE.BLOB,jpeg:b.XHR_RESPONSE_TYPE.BLOB,tif:b.XHR_RESPONSE_TYPE.BLOB,tiff:b.XHR_RESPONSE_TYPE.BLOB,
webp:b.XHR_RESPONSE_TYPE.BLOB,tga:b.XHR_RESPONSE_TYPE.BLOB,json:b.XHR_RESPONSE_TYPE.JSON,text:b.XHR_RESPONSE_TYPE.TEXT,txt:b.XHR_RESPONSE_TYPE.TEXT,ttf:b.XHR_RESPONSE_TYPE.BUFFER,otf:b.XHR_RESPONSE_TYPE.BUFFER};b.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":36,"parse-uri":37}],32:[function(b,l,f){function k(){}function g(e){return function(){if(null===e)throw Error("Callback was already called.");var d=e;e=null;d.apply(this,arguments)}}
f.__esModule=!0;f.eachSeries=function(e,d,c){var a=0,h=e.length;(function p(b){b||a===h?c&&c(b):d(e[a++],p)})()};f.queue=function(e,d){function c(a,c,d){if(null!=d&&"function"!==typeof d)throw Error("task callback must be a function");b.started=!0;null==a&&b.idle()?setTimeout(function(){return b.drain()},1):(a={data:a,callback:"function"===typeof d?d:k},c?b._tasks.unshift(a):b._tasks.push(a),setTimeout(function(){return b.process()},1))}function a(a){return function(){--h;a.callback.apply(a,arguments);
null!=arguments[0]&&b.error(arguments[0],a.data);h<=b.concurrency-b.buffer&&b.unsaturated();b.idle()&&b.drain();b.process()}}if(null==d)d=1;else if(0===d)throw Error("Concurrency must not be zero");var h=0,b={_tasks:[],concurrency:d,saturated:k,unsaturated:k,buffer:d/4,empty:k,drain:k,error:k,started:!1,paused:!1,push:function(a,d){c(a,!1,d)},kill:function(){h=0;b.drain=k;b.started=!1;b._tasks=[]},unshift:function(a,d){c(a,!0,d)},process:function(){for(;!b.paused&&h<b.concurrency&&b._tasks.length;){var c=
b._tasks.shift();0===b._tasks.length&&b.empty();h+=1;h===b.concurrency&&b.saturated();e(c.data,g(a(c)))}},length:function(){return b._tasks.length},running:function(){return h},idle:function(){return 0===b._tasks.length+h},pause:function(){!0!==b.paused&&(b.paused=!0)},resume:function(){if(!1!==b.paused){b.paused=!1;for(var a=1;a<=b.concurrency;a++)b.process()}}};return b}},{}],33:[function(b,l,f){f.__esModule=!0;f.encodeBinary=function(b){for(var e="",d=0;d<b.length;){for(var c=[0,0,0],a=[0,0,0,
0],h=0;h<c.length;++h)c[h]=d<b.length?b.charCodeAt(d++)&255:0;a[0]=c[0]>>2;a[1]=(c[0]&3)<<4|c[1]>>4;a[2]=(c[1]&15)<<2|c[2]>>6;a[3]=c[2]&63;switch(d-(b.length-1)){case 2:a[3]=64;a[2]=64;break;case 1:a[3]=64}for(c=0;c<a.length;++c)e+=k.charAt(a[c])}return e};var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],34:[function(b,l,f){function k(c){if(c&&c.__esModule)return c;var a={};if(null!=c)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);a["default"]=
c;return a}f.__esModule=!0;var g=b("./Loader"),g=g&&g.__esModule?g:{"default":g},e=b("./Resource"),e=e&&e.__esModule?e:{"default":e},d=b("./async"),d=k(d);b=b("./b64");b=k(b);g["default"].Resource=e["default"];g["default"].async=d;g["default"].base64=b;l.exports=g["default"];f["default"]=g["default"]},{"./Loader":30,"./Resource":31,"./async":32,"./b64":33}],35:[function(b,l,f){f.__esModule=!0;var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&
"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};f.blobMiddlewareFactory=function(){return function(c,a){if(c.data&&c.xhr&&c.xhrType===g["default"].XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof c.data){var h=c.xhr.getResponseHeader("content-type");if(h&&0===h.indexOf("image")){c.data=new Image;c.data.src="data:"+h+";base64,"+e["default"].encodeBinary(c.xhr.responseText);c.type=g["default"].TYPE.IMAGE;c.data.onload=function(){c.data.onload=null;
a()};return}}else if(0===c.data.type.indexOf("image")&&(h=function(){var h=d.createObjectURL(c.data);c.blob=c.data;c.data=new Image;c.data.src=h;c.type=g["default"].TYPE.IMAGE;c.data.onload=function(){d.revokeObjectURL(h);c.data.onload=null;a()};return{v:void 0}}(),"object"===("undefined"===typeof h?"undefined":k(h))))return h.v;a()}};var g=(l=b("../../Resource"))&&l.__esModule?l:{"default":l},e=(b=b("../../b64"))&&b.__esModule?b:{"default":b},d=window.URL||window.webkitURL},{"../../Resource":31,
"../../b64":33}],36:[function(b,l,f){function k(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function");}function g(c,a){c._head?(c._tail._next=a,a._prev=c._tail):c._head=a;c._tail=a;a._owner=c;return a}Object.defineProperty(f,"__esModule",{value:!0});var e=function(){function c(a,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,h.key,h)}}return function(a,d,e){d&&c(a.prototype,
d);e&&c(a,e);return a}}(),d=function(){function c(a,d,e){void 0===d&&(d=!1);k(this,c);this._fn=a;this._once=d;this._thisArg=e;this._next=this._prev=this._owner=null}e(c,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return c}();b=function(){function c(){k(this,c);this._head=this._tail=void 0}e(c,[{key:"handlers",value:function(){var a=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!a;for(var c=[];a;)c.push(a),a=
a._next;return c}},{key:"has",value:function(a){if(!(a instanceof d))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return a._owner===this}},{key:"dispatch",value:function(){var a=this._head;if(!a)return!1;for(;a;)a._once&&this.detach(a),a._fn.apply(a._thisArg,arguments),a=a._next;return!0}},{key:"add",value:function(a){var c=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof a)throw Error("MiniSignal#add(): First arg must be a Function.");
return g(this,new d(a,!1,c))}},{key:"once",value:function(a){var c=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof a)throw Error("MiniSignal#once(): First arg must be a Function.");return g(this,new d(a,!0,c))}},{key:"detach",value:function(a){if(!(a instanceof d))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(a._owner!==this)return this;a._prev&&(a._prev._next=a._next);a._next&&(a._next._prev=a._prev);a===this._head?(this._head=
a._next,null===a._next&&(this._tail=null)):a===this._tail&&(this._tail=a._prev,this._tail._next=null);a._owner=null;return this}},{key:"detachAll",value:function(){var a=this._head;if(!a)return this;for(this._head=this._tail=null;a;)a._owner=null,a=a._next;return this}}]);return c}();b.MiniSignalBinding=d;f["default"]=b;l.exports=f["default"]},{}],37:[function(b,l,f){l.exports=function(b,g){g=g||{};for(var e="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),
d={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[g.strictMode?"strict":"loose"].exec(b),c={},a=14;a--;)c[e[a]]=d[a]||"";c.queryKey={};c[e[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,d,e){d&&(c.queryKey[d]=
e)});return c}},{}],38:[function(b,l,f){f.__esModule=!0;var k=function(e){if(e&&e.__esModule)return e;var d={};if(null!=e)for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d[c]=e[c]);d["default"]=e;return d}(b("../core")),g=(l=b("ismobilejs"))&&l.__esModule?l:{"default":l};b=b("./accessibleTarget");k.utils.mixins.delayMixin(k.DisplayObject.prototype,(b&&b.__esModule?b:{"default":b})["default"]);b=function(){function e(d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
!g["default"].tablet&&!g["default"].phone||navigator.isCocoonJS||this.createTouchHook();var c=document.createElement("div");c.style.width="100px";c.style.height="100px";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.zIndex=2;this.div=c;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=d;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=!1;window.addEventListener("keydown",
this._onKeyDown,!1)}e.prototype.createTouchHook=function(){var d=this,c=document.createElement("button");c.style.width="1px";c.style.height="1px";c.style.position="absolute";c.style.top="-1000px";c.style.left="-1000px";c.style.zIndex=2;c.style.backgroundColor="#FF0000";c.title="HOOK DIV";c.addEventListener("focus",function(){d.isMobileAccessabillity=!0;d.activate();document.body.removeChild(c)});document.body.appendChild(c)};e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",
this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))};e.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};
e.prototype.updateAccessibleObjects=function(d){if(d.visible){d.accessible&&d.interactive&&(d._accessibleActive||this.addChild(d),d.renderId=this.renderId);d=d.children;for(var c=d.length-1;0<=c;c--)this.updateAccessibleObjects(d[c])}};e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var d=this.renderer.view.getBoundingClientRect(),c=d.width/this.renderer.width,a=d.height/this.renderer.height,h=this.div;h.style.left=
d.left+"px";h.style.top=d.top+"px";h.style.width=this.renderer.width+"px";h.style.height=this.renderer.height+"px";for(d=0;d<this.children.length;d++){var e=this.children[d];if(e.renderId!==this.renderId)e._accessibleActive=!1,k.utils.removeItems(this.children,d,1),this.div.removeChild(e._accessibleDiv),this.pool.push(e._accessibleDiv),e._accessibleDiv=null,d--,0===this.children.length&&this.deactivate();else{var h=e._accessibleDiv,b=e.hitArea,n=e.worldTransform;e.hitArea?(h.style.left=(n.tx+b.x*
n.a)*c+"px",h.style.top=(n.ty+b.y*n.d)*a+"px",h.style.width=b.width*n.a*c+"px",h.style.height=b.height*n.d*a+"px"):(b=e.getBounds(),this.capHitArea(b),h.style.left=b.x*c+"px",h.style.top=b.y*a+"px",h.style.width=b.width*c+"px",h.style.height=b.height*a+"px")}}this.renderId++}};e.prototype.capHitArea=function(d){0>d.x&&(d.width+=d.x,d.x=0);0>d.y&&(d.height+=d.y,d.y=0);d.x+d.width>this.renderer.width&&(d.width=this.renderer.width-d.x);d.y+d.height>this.renderer.height&&(d.height=this.renderer.height-
d.y)};e.prototype.addChild=function(d){var c=this.pool.pop();c||(c=document.createElement("button"),c.style.width="100px",c.style.height="100px",c.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",c.style.position="absolute",c.style.zIndex=2,c.style.borderStyle="none",c.addEventListener("click",this._onClick.bind(this)),c.addEventListener("focus",this._onFocus.bind(this)),c.addEventListener("focusout",this._onFocusOut.bind(this)));d.accessibleTitle?c.title=d.accessibleTitle:d.accessibleTitle||
d.accessibleHint||(c.title="displayObject "+this.tabIndex);d.accessibleHint&&c.setAttribute("aria-label",d.accessibleHint);d._accessibleActive=!0;d._accessibleDiv=c;c.displayObject=d;this.children.push(d);this.div.appendChild(d._accessibleDiv);d._accessibleDiv.tabIndex=d.tabIndex};e.prototype._onClick=function(d){var c=this.renderer.plugins.interaction;c.dispatchEvent(d.target.displayObject,"click",c.eventData)};e.prototype._onFocus=function(d){var c=this.renderer.plugins.interaction;c.dispatchEvent(d.target.displayObject,
"mouseover",c.eventData)};e.prototype._onFocusOut=function(d){var c=this.renderer.plugins.interaction;c.dispatchEvent(d.target.displayObject,"mouseout",c.eventData)};e.prototype._onKeyDown=function(d){9===d.keyCode&&this.activate()};e.prototype._onMouseMove=function(){this.deactivate()};e.prototype.destroy=function(){this.div=null;for(var d=0;d<this.children.length;d++)this.children[d].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",
this._onKeyDown);this.renderer=this.children=this.pool=null};return e}();f["default"]=b;k.WebGLRenderer.registerPlugin("accessibility",b);k.CanvasRenderer.registerPlugin("accessibility",b)},{"../core":63,"./accessibleTarget":39,ismobilejs:4}],39:[function(b,l,f){f.__esModule=!0;f["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],40:[function(b,l,f){f.__esModule=!0;var k=b("./accessibleTarget");Object.defineProperty(f,"accessibleTarget",
{enumerable:!0,get:function(){return(k&&k.__esModule?k:{"default":k})["default"]}});var g=b("./AccessibilityManager");Object.defineProperty(f,"AccessibilityManager",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{"default":g})["default"]}})},{"./AccessibilityManager":38,"./accessibleTarget":39}],41:[function(b,l,f){f.__esModule=!0;var k=function(){function c(a,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(a,
h.key,h)}}return function(a,d,e){d&&c(a.prototype,d);e&&c(a,e);return a}}(),g=b("./autoDetectRenderer"),e=(l=b("./display/Container"))&&l.__esModule?l:{"default":l},d=b("./ticker");b=function(){function c(a,h,b,p){var m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.renderer=(0,g.autoDetectRenderer)(a,h,b,p);this.stage=new e["default"];this._ticker=null;this.ticker=m?d.shared:new d.Ticker;this.start()}
c.prototype.render=function(){this.renderer.render(this.stage)};c.prototype.stop=function(){this._ticker.stop()};c.prototype.start=function(){this._ticker.start()};c.prototype.destroy=function(a){this.stop();this.ticker=null;this.stage.destroy();this.stage=null;this.renderer.destroy(a);this.renderer=null};k(c,[{key:"ticker",set:function(a){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=a)&&a.add(this.render,this)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},
{key:"screen",get:function(){return this.renderer.screen}}]);return c}();f["default"]=b},{"./autoDetectRenderer":43,"./display/Container":46,"./ticker":116}],42:[function(b,l,f){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}function g(d,
c){if(d instanceof Array){if("precision"!==d[0].substring(0,9)){var a=d.slice(0);a.unshift("precision "+c+" float;");return a}}else if("precision"!==d.substring(0,9))return"precision "+c+" float;\n"+d;return d}f.__esModule=!0;l=b("pixi-gl-core");var e=(b=b("./settings"))&&b.__esModule?b:{"default":b};b=function(d){function c(a,h,b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=d.call(this,a,g(h,e["default"].PRECISION_VERTEX),g(b,e["default"].PRECISION_FRAGMENT));
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}k(c,d);return c}(l.GLShader);f["default"]=b},{"./settings":99,"pixi-gl-core":12}],43:[function(b,l,f){f.__esModule=!0;f.autoDetectRenderer=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:800,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:600,a=arguments[2];return!arguments[3]&&k.isWebGLSupported()?new e["default"](d,
c,a):new g["default"](d,c,a)};var k=function(d){if(d&&d.__esModule)return d;var c={};if(null!=d)for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c[a]=d[a]);c["default"]=d;return c}(b("./utils")),g=(l=b("./renderers/canvas/CanvasRenderer"))&&l.__esModule?l:{"default":l},e=(b=b("./renderers/webgl/WebGLRenderer"))&&b.__esModule?b:{"default":b}},{"./renderers/canvas/CanvasRenderer":75,"./renderers/webgl/WebGLRenderer":82,"./utils":120}],44:[function(b,l,f){f.__esModule=!0;f.VERSION="4.4.1";
f.PI_2=2*Math.PI;f.RAD_TO_DEG=180/Math.PI;f.DEG_TO_RAD=Math.PI/180;f.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};f.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};f.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};f.SCALE_MODES={LINEAR:0,NEAREST:1};f.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};
f.GC_MODES={AUTO:0,MANUAL:1};f.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;f.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;f.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;f.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};f.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};f.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};f.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},{}],45:[function(b,
l,f){f.__esModule=!0;var k=b("../math");b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null}b.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};b.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};b.prototype.getRectangle=function(e){if(this.minX>this.maxX||this.minY>this.maxY)return k.Rectangle.EMPTY;
e=e||new k.Rectangle(0,0,1,1);e.x=this.minX;e.y=this.minY;e.width=this.maxX-this.minX;e.height=this.maxY-this.minY;return e};b.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x);this.maxX=Math.max(this.maxX,e.x);this.minY=Math.min(this.minY,e.y);this.maxY=Math.max(this.maxY,e.y)};b.prototype.addQuad=function(e){var d=this.minX,c=this.minY,a=this.maxX,h=this.maxY,b=e[0],g=e[1],d=b<d?b:d,c=g<c?g:c,a=b>a?b:a,h=g>h?g:h,b=e[2],g=e[3],d=b<d?b:d,c=g<c?g:c,a=b>a?b:a,h=g>h?g:h,b=e[4],g=e[5],
d=b<d?b:d,c=g<c?g:c,a=b>a?b:a,h=g>h?g:h,b=e[6],g=e[7];this.minX=b<d?b:d;this.minY=g<c?g:c;this.maxX=b>a?b:a;this.maxY=g>h?g:h};b.prototype.addFrame=function(e,d,c,a,h){var b=e.worldTransform;e=b.a;var g=b.b,n=b.c,q=b.d,k=b.tx,b=b.ty,f=this.minX,l=this.minY,r=this.maxX,x=this.maxY,t=e*d+n*c+k,y=g*d+q*c+b,f=t<f?t:f,l=y<l?y:l,r=t>r?t:r,x=y>x?y:x,t=e*a+n*c+k,y=g*a+q*c+b,f=t<f?t:f,l=y<l?y:l,r=t>r?t:r,x=y>x?y:x,t=e*d+n*h+k,y=g*d+q*h+b,f=t<f?t:f,l=y<l?y:l,r=t>r?t:r,x=y>x?y:x,t=e*a+n*h+k,y=g*a+q*h+b;this.minX=
t<f?t:f;this.minY=y<l?y:l;this.maxX=t>r?t:r;this.maxY=y>x?y:x};b.prototype.addVertices=function(e,d,c,a){var h=e.worldTransform;e=h.a;for(var b=h.b,g=h.c,n=h.d,q=h.tx,h=h.ty,k=this.minX,f=this.minY,l=this.maxX,r=this.maxY;c<a;c+=2)var x=d[c],t=d[c+1],y=e*x+g*t+q,x=n*t+b*x+h,k=y<k?y:k,f=x<f?x:f,l=y>l?y:l,r=x>r?x:r;this.minX=k;this.minY=f;this.maxX=l;this.maxY=r};b.prototype.addBounds=function(e){var d=this.minX,c=this.minY,a=this.maxX,h=this.maxY;this.minX=e.minX<d?e.minX:d;this.minY=e.minY<c?e.minY:
c;this.maxX=e.maxX>a?e.maxX:a;this.maxY=e.maxY>h?e.maxY:h};b.prototype.addBoundsMask=function(e,d){var c=e.minX>d.minX?e.minX:d.minX,a=e.minY>d.minY?e.minY:d.minY,h=e.maxX<d.maxX?e.maxX:d.maxX,b=e.maxY<d.maxY?e.maxY:d.maxY;if(c<=h&&a<=b){var g=this.minX,n=this.minY,q=this.maxX,k=this.maxY;this.minX=c<g?c:g;this.minY=a<n?a:n;this.maxX=h>q?h:q;this.maxY=b>k?b:k}};b.prototype.addBoundsArea=function(e,d){var c=e.minX>d.x?e.minX:d.x,a=e.minY>d.y?e.minY:d.y,h=e.maxX<d.x+d.width?e.maxX:d.x+d.width,b=e.maxY<
d.y+d.height?e.maxY:d.y+d.height;if(c<=h&&a<=b){var g=this.minX,n=this.minY,q=this.maxX,k=this.maxY;this.minX=c<g?c:g;this.minY=a<n?a:n;this.maxX=h>q?h:q;this.maxY=b>k?b:k}};return b}();f["default"]=b},{"../math":68}],46:[function(b,l,f){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
Object.setPrototypeOf(d,c):d.__proto__=c)}f.__esModule=!0;var g=function(){function d(c,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,a,h){a&&d(c.prototype,a);h&&d(c,h);return c}}(),e=b("../utils");b=b("./DisplayObject");b=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a;a=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.children=[];return a}k(c,d);c.prototype.onChildrenChange=function(){};c.prototype.addChild=function(a){var c=arguments.length;if(1<c)for(var d=0;d<c;d++)this.addChild(arguments[d]);else a.parent&&a.parent.removeChild(a),a.parent=this,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),a.emit("added",this);return a};c.prototype.addChildAt=function(a,c){if(0>c||c>this.children.length)throw Error(a+
"addChildAt: The index "+c+" supplied is out of bounds "+this.children.length);a.parent&&a.parent.removeChild(a);a.parent=this;a.transform._parentID=-1;this.children.splice(c,0,a);this._boundsID++;this.onChildrenChange(c);a.emit("added",this);return a};c.prototype.swapChildren=function(a,c){if(a!==c){var d=this.getChildIndex(a),h=this.getChildIndex(c);this.children[d]=c;this.children[h]=a;this.onChildrenChange(d<h?d:h)}};c.prototype.getChildIndex=function(a){a=this.children.indexOf(a);if(-1===a)throw Error("The supplied DisplayObject must be a child of the caller");
return a};c.prototype.setChildIndex=function(a,c){if(0>c||c>=this.children.length)throw Error("The supplied index is out of bounds");var d=this.getChildIndex(a);(0,e.removeItems)(this.children,d,1);this.children.splice(c,0,a);this.onChildrenChange(c)};c.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Index ("+a+") does not exist.");return this.children[a]};c.prototype.removeChild=function(a){var c=arguments.length;if(1<c)for(var d=0;d<c;d++)this.removeChild(arguments[d]);
else{c=this.children.indexOf(a);if(-1===c)return null;a.parent=null;a.transform._parentID=-1;(0,e.removeItems)(this.children,c,1);this._boundsID++;this.onChildrenChange(c);a.emit("removed",this)}return a};c.prototype.removeChildAt=function(a){var c=this.getChildAt(a);c.parent=null;c.transform._parentID=-1;(0,e.removeItems)(this.children,a,1);this._boundsID++;this.onChildrenChange(a);c.emit("removed",this);return c};c.prototype.removeChildren=function(){var a=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:0,c=arguments[1],c="number"===typeof c?c:this.children.length,d=c-a;if(0<d&&d<=c){c=this.children.splice(a,d);for(d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++;this.onChildrenChange(a);for(a=0;a<c.length;++a)c[a].emit("removed",this);return c}if(0===d&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};c.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);
this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var a=0,c=this.children.length;a<c;++a){var d=this.children[a];d.visible&&d.updateTransform()}};c.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var a=0;a<this.children.length;a++){var c=this.children[a];c.visible&&c.renderable&&(c.calculateBounds(),c._mask?(c._mask.calculateBounds(),this._bounds.addBoundsMask(c._bounds,c._mask._bounds)):c.filterArea?this._bounds.addBoundsArea(c._bounds,c.filterArea):this._bounds.addBounds(c._bounds))}this._lastBoundsID=
this._boundsID};c.prototype._calculateBounds=function(){};c.prototype.renderWebGL=function(a){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(a);else{this._renderWebGL(a);for(var c=0,d=this.children.length;c<d;++c)this.children[c].renderWebGL(a)}};c.prototype.renderAdvancedWebGL=function(a){a.flush();var c=this._filters,d=this._mask;if(c){this._enabledFilters||(this._enabledFilters=[]);for(var e=this._enabledFilters.length=0;e<c.length;e++)c[e].enabled&&
this._enabledFilters.push(c[e]);this._enabledFilters.length&&a.filterManager.pushFilter(this,this._enabledFilters)}d&&a.maskManager.pushMask(this,this._mask);this._renderWebGL(a);for(var e=0,b=this.children.length;e<b;e++)this.children[e].renderWebGL(a);a.flush();d&&a.maskManager.popMask(this,this._mask);c&&this._enabledFilters&&this._enabledFilters.length&&a.filterManager.popFilter()};c.prototype._renderWebGL=function(a){};c.prototype._renderCanvas=function(a){};c.prototype.renderCanvas=function(a){if(this.visible&&
!(0>=this.worldAlpha)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask);this._renderCanvas(a);for(var c=0,d=this.children.length;c<d;++c)this.children[c].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}};c.prototype.destroy=function(a){d.prototype.destroy.call(this);var c="boolean"===typeof a?a:a&&a.children,e=this.removeChildren(0,this.children.length);if(c)for(c=0;c<e.length;++c)e[c].destroy(a)};g(c,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},
set:function(a){var c=this.getLocalBounds().width;this.scale.x=0!==c?a/c:1;this._width=a}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var c=this.getLocalBounds().height;this.scale.y=0!==c?a/c:1;this._height=a}}]);return c}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b;b.prototype.containerUpdateTransform=b.prototype.updateTransform},{"../utils":120,"./DisplayObject":47}],47:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}
function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e=function(){function a(a,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(c,d,e){d&&a(c.prototype,d);e&&a(c,e);return c}}();l=b("eventemitter3");l=k(l);var d=b("../const"),c=b("../settings"),a=k(c),c=b("./TransformStatic"),h=k(c),c=b("./Transform"),m=k(c),c=b("./Bounds"),p=k(c),n=b("../math");b=function(c){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e;e=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==
typeof e?this:e;var g=a["default"].TRANSFORM_MODE===d.TRANSFORM_MODE.STATIC?h["default"]:m["default"];e.tempDisplayObjectParent=null;e.transform=new g;e.alpha=1;e.visible=!0;e.renderable=!0;e.parent=null;e.worldAlpha=1;e.filterArea=null;e._filters=null;e._enabledFilters=null;e._bounds=new p["default"];e._boundsID=0;e._lastBoundsID=-1;e._boundsRect=null;e._localBoundsRect=null;e._mask=null;return e}g(b,c);b.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);
this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};b.prototype.getBounds=function(a,c){a||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=
null));this._boundsID!==this._lastBoundsID&&this.calculateBounds();c||(this._boundsRect||(this._boundsRect=new n.Rectangle),c=this._boundsRect);return this._bounds.getRectangle(c)};b.prototype.getLocalBounds=function(a){var c=this.transform,d=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;a||(this._localBoundsRect||(this._localBoundsRect=new n.Rectangle),a=this._localBoundsRect);a=this.getBounds(!1,a);this.parent=d;this.transform=c;return a};b.prototype.toGlobal=
function(a,c){2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(a,c)};b.prototype.toLocal=function(a,c,d,e){c&&(a=c.toGlobal(a,d,e));e||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.applyInverse(a,d)};b.prototype.renderWebGL=function(a){};b.prototype.renderCanvas=function(a){};b.prototype.setParent=function(a){if(!a||!a.addChild)throw Error("setParent: Argument must be a Container");a.addChild(this);return a};b.prototype.setTransform=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,e=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:0,h=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,b=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,m=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,g=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;this.position.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.position.y=a;this.scale.x=c?c:1;this.scale.y=d?d:1;this.rotation=e;this.skew.x=h;this.skew.y=b;this.pivot.x=m;this.pivot.y=g;return this};b.prototype.destroy=
function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1};e(b,[{key:"_tempDisplayObjectParent",get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new b);return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(a){this.transform.position.x=a}},{key:"y",get:function(){return this.position.y},
set:function(a){this.transform.position.y=a}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(a){this.transform.position.copy(a)}},{key:"scale",get:function(){return this.transform.scale},set:function(a){this.transform.scale.copy(a)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(a){this.transform.pivot.copy(a)}},
{key:"skew",get:function(){return this.transform.skew},set:function(a){this.transform.skew.copy(a)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(a){this.transform.rotation=a}},{key:"worldVisible",get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},{key:"mask",get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0);if(this._mask=a)this._mask.renderable=!1}},{key:"filters",get:function(){return this._filters&&
this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}]);return b}(l["default"]);f["default"]=b;b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},{"../const":44,"../math":68,"../settings":99,"./Bounds":45,"./Transform":48,"./TransformStatic":50,eventemitter3:3}],48:[function(b,l,f){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}f.__esModule=!0;var g=function(){function d(c,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,a,e){a&&d(c.prototype,a);e&&d(c,e);return c}}(),e=b("../math");b=b("./TransformBase");b=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var a;a=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.position=new e.Point(0,0);a.scale=new e.Point(1,1);a.skew=new e.ObservablePoint(a.updateSkew,a,0,0);a.pivot=new e.Point(0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;return a}k(c,d);c.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-
this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x)};c.prototype.updateLocalTransform=function(){var a=this.localTransform;a.a=this._cx*this.scale.x;a.b=this._sx*this.scale.x;a.c=this._cy*this.scale.y;a.d=this._sy*this.scale.y;a.tx=this.position.x-(this.pivot.x*a.a+this.pivot.y*a.c);a.ty=this.position.y-(this.pivot.x*a.b+this.pivot.y*a.d)};c.prototype.updateTransform=function(a){var c=this.localTransform;c.a=this._cx*this.scale.x;c.b=this._sx*this.scale.x;c.c=this._cy*this.scale.y;c.d=this._sy*
this.scale.y;c.tx=this.position.x-(this.pivot.x*c.a+this.pivot.y*c.c);c.ty=this.position.y-(this.pivot.x*c.b+this.pivot.y*c.d);a=a.worldTransform;var d=this.worldTransform;d.a=c.a*a.a+c.b*a.c;d.b=c.a*a.b+c.b*a.d;d.c=c.c*a.a+c.d*a.c;d.d=c.c*a.b+c.d*a.d;d.tx=c.tx*a.a+c.ty*a.c+a.tx;d.ty=c.tx*a.b+c.ty*a.d+a.ty;this._worldID++};c.prototype.setFromMatrix=function(a){a.decompose(this)};g(c,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this.updateSkew()}}]);return c}((b&&
b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"../math":68,"./TransformBase":49}],49:[function(b,l,f){f.__esModule=!0;var k=b("../math");b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.worldTransform=new k.Matrix;this.localTransform=new k.Matrix;this._parentID=this._worldID=0}b.prototype.updateLocalTransform=function(){};b.prototype.updateTransform=function(e){e=e.worldTransform;var d=this.worldTransform,c=this.localTransform;
d.a=c.a*e.a+c.b*e.c;d.b=c.a*e.b+c.b*e.d;d.c=c.c*e.a+c.d*e.c;d.d=c.c*e.b+c.d*e.d;d.tx=c.tx*e.a+c.ty*e.c+e.tx;d.ty=c.tx*e.b+c.ty*e.d+e.ty;this._worldID++};return b}();f["default"]=b;b.prototype.updateWorldTransform=b.prototype.updateTransform;b.IDENTITY=new b},{"../math":68}],50:[function(b,l,f){function k(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,
writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}f.__esModule=!0;var g=function(){function d(c,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,a,e){a&&d(c.prototype,a);e&&d(c,e);return c}}(),e=b("../math");b=b("./TransformBase");b=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var a;a=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.position=new e.ObservablePoint(a.onChange,a,0,0);a.scale=new e.ObservablePoint(a.onChange,a,1,1);a.pivot=new e.ObservablePoint(a.onChange,a,0,0);a.skew=new e.ObservablePoint(a.updateSkew,a,0,0);a._rotation=0;a._cx=1;a._sx=0;a._cy=0;a._sy=1;a._localID=0;a._currentLocalID=0;return a}k(c,d);c.prototype.onChange=function(){this._localID++};
c.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++};c.prototype.updateLocalTransform=function(){var a=this.localTransform;this._localID!==this._currentLocalID&&(a.a=this._cx*this.scale._x,a.b=this._sx*this.scale._x,a.c=this._cy*this.scale._y,a.d=this._sy*this.scale._y,a.tx=this.position._x-(this.pivot._x*a.a+this.pivot._y*
a.c),a.ty=this.position._y-(this.pivot._x*a.b+this.pivot._y*a.d),this._currentLocalID=this._localID,this._parentID=-1)};c.prototype.updateTransform=function(a){var c=this.localTransform;this._localID!==this._currentLocalID&&(c.a=this._cx*this.scale._x,c.b=this._sx*this.scale._x,c.c=this._cy*this.scale._y,c.d=this._sy*this.scale._y,c.tx=this.position._x-(this.pivot._x*c.a+this.pivot._y*c.c),c.ty=this.position._y-(this.pivot._x*c.b+this.pivot._y*c.d),this._currentLocalID=this._localID,this._parentID=
-1);if(this._parentID!==a._worldID){var d=a.worldTransform,e=this.worldTransform;e.a=c.a*d.a+c.b*d.c;e.b=c.a*d.b+c.b*d.d;e.c=c.c*d.a+c.d*d.c;e.d=c.c*d.b+c.d*d.d;e.tx=c.tx*d.a+c.ty*d.c+d.tx;e.ty=c.tx*d.b+c.ty*d.d+d.ty;this._parentID=a._worldID;this._worldID++}};c.prototype.setFromMatrix=function(a){a.decompose(this);this._localID++};g(c,[{key:"rotation",get:function(){return this._rotation},set:function(a){this._rotation=a;this.updateSkew()}}]);return c}((b&&b.__esModule?b:{"default":b})["default"]);
f["default"]=b},{"../math":68,"./TransformBase":49}],51:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;l=b("../display/Container");l=k(l);var e=b("../textures/RenderTexture"),
d=k(e),e=b("../textures/Texture"),c=k(e),e=b("./GraphicsData"),a=k(e),e=b("../sprites/Sprite"),h=k(e),m=b("../math"),p=b("../utils"),n=b("../const"),e=b("../display/Bounds"),q=k(e),e=b("./utils/bezierCurveTo"),w=k(e);b=b("../renderers/canvas/CanvasRenderer");var z=k(b),v=void 0,r=new m.Matrix,x=new m.Point,t=new Float32Array(4),y=new Float32Array(4);b=function(e){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var c;c=e.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.fillAlpha=1;c.lineWidth=0;c.nativeLines=a;c.lineColor=0;c.graphicsData=[];c.tint=16777215;c._prevTint=16777215;c.blendMode=n.BLEND_MODES.NORMAL;c.currentPath=null;c._webGL={};c.isMask=!1;c.boundsPadding=0;c._localBounds=new q["default"];c.dirty=0;c.fastRectDirty=-1;c.clearDirty=0;c.boundsDirty=-1;c.cachedSpriteDirty=!1;c._spriteRect=
null;c._fastRect=!1;return c}g(b,e);b.prototype.clone=function(){var a=new b;a.renderable=this.renderable;a.fillAlpha=this.fillAlpha;a.lineWidth=this.lineWidth;a.lineColor=this.lineColor;a.tint=this.tint;a.blendMode=this.blendMode;a.isMask=this.isMask;a.boundsPadding=this.boundsPadding;a.dirty=0;a.cachedSpriteDirty=this.cachedSpriteDirty;for(var c=0;c<this.graphicsData.length;++c)a.graphicsData.push(this.graphicsData[c].clone());a.currentPath=a.graphicsData[a.graphicsData.length-1];a.updateLocalBounds();
return a};b.prototype.lineStyle=function(){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.lineWidth=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.lineColor=a;this.lineAlpha=c;this.currentPath&&(this.currentPath.shape.points.length?(a=new m.Polygon(this.currentPath.shape.points.slice(-2)),a.closed=!1,this.drawShape(a)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,
this.currentPath.lineAlpha=this.lineAlpha));return this};b.prototype.moveTo=function(a,c){var d=new m.Polygon([a,c]);d.closed=!1;this.drawShape(d);return this};b.prototype.lineTo=function(a,c){this.currentPath.shape.points.push(a,c);this.dirty++;return this};b.prototype.quadraticCurveTo=function(a,c,d,e){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var b=this.currentPath.shape.points,h,m;0===b.length&&this.moveTo(0,0);for(var g=
b[b.length-2],n=b[b.length-1],k=1;20>=k;++k){var p=k/20;h=g+(a-g)*p;m=n+(c-n)*p;b.push(h+(a+(d-a)*p-h)*p,m+(c+(e-c)*p-m)*p)}this.dirty++;return this};b.prototype.bezierCurveTo=function(a,c,d,e,b,h){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var m=this.currentPath.shape.points,g=m[m.length-2],n=m[m.length-1];m.length-=2;(0,w["default"])(g,n,a,c,d,e,b,h,m);this.dirty++;return this};b.prototype.arcTo=function(a,c,d,e,b){this.currentPath?
0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,c):this.moveTo(a,c);var h=this.currentPath.shape.points,m=h[h.length-1]-c,g=h[h.length-2]-a;e-=c;d-=a;var n=Math.abs(m*d-g*e);if(1E-8>n||0===b)h[h.length-2]===a&&h[h.length-1]===c||h.push(a,c);else{var k=m*m+g*g,p=e*e+d*d,q=m*e+g*d,h=b*Math.sqrt(k)/n,n=b*Math.sqrt(p)/n,k=h*q/k,p=n*q/p,q=h*d+n*g,f=h*e+n*m;this.arc(q+a,f+c,b,Math.atan2(m*(n+k)-f,g*(n+k)-q),Math.atan2(e*(h+p)-f,d*(h+p)-q),g*e>d*m)}this.dirty++;return this};
b.prototype.arc=function(a,c,d,e,b){var h=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(e===b)return this;!h&&b<=e?b+=2*Math.PI:h&&e<=b&&(e+=2*Math.PI);var m=b-e,g=40*Math.ceil(Math.abs(m)/(2*Math.PI));if(0===m)return this;var n=a+Math.cos(e)*d,k=c+Math.sin(e)*d;(h=this.currentPath?this.currentPath.shape.points:null)?h[h.length-2]===n&&h[h.length-1]===k||h.push(n,k):(this.moveTo(n,k),h=this.currentPath.shape.points);for(var m=m/(2*g),n=2*m,k=Math.cos(m),p=Math.sin(m),g=g-1,q=g%1/g,
f=0;f<=g;++f){var w=m+e+n*(f+q*f),l=Math.cos(w),w=-Math.sin(w);h.push((k*l+p*w)*d+a,(k*-w+p*l)*d+c)}this.dirty++;return this};b.prototype.beginFill=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.filling=!0;this.fillColor=a;this.fillAlpha=c;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha);
return this};b.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};b.prototype.drawRect=function(a,c,d,e){this.drawShape(new m.Rectangle(a,c,d,e));return this};b.prototype.drawRoundedRect=function(a,c,d,e,b){this.drawShape(new m.RoundedRectangle(a,c,d,e,b));return this};b.prototype.drawCircle=function(a,c,d){this.drawShape(new m.Circle(a,c,d));return this};b.prototype.drawEllipse=function(a,c,d,e){this.drawShape(new m.Ellipse(a,c,d,e));return this};b.prototype.drawPolygon=
function(a){var c=a,d=!0;c instanceof m.Polygon&&(d=c.closed,c=c.points);if(!Array.isArray(c))for(var c=Array(arguments.length),e=0;e<c.length;++e)c[e]=arguments[e];c=new m.Polygon(c);c.closed=d;this.drawShape(c);return this};b.prototype.clear=function(){if(this.lineWidth||this.filling||0<this.graphicsData.length)this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0;this._spriteRect=this.currentPath=null;return this};b.prototype.isFastRect=
function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===n.SHAPES.RECT&&!this.graphicsData[0].lineWidth};b.prototype._renderWebGL=function(a){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(a):(a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this))};b.prototype._renderSpriteRect=function(a){var d=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new h["default"](new c["default"](c["default"].WHITE)));
var e=this._spriteRect;16777215===this.tint?e.tint=this.graphicsData[0].fillColor:((0,p.hex2rgb)(this.graphicsData[0].fillColor,t),(0,p.hex2rgb)(this.tint,y),t[0]*=y[0],t[1]*=y[1],t[2]*=y[2],e.tint=(0,p.rgb2hex)(t));e.alpha=this.graphicsData[0].fillAlpha;e.worldAlpha=this.worldAlpha*e.alpha;e.blendMode=this.blendMode;e.texture._frame.width=d.width;e.texture._frame.height=d.height;e.transform.worldTransform=this.transform.worldTransform;e.anchor.set(-d.x/d.width,-d.y/d.height);e._onAnchorUpdate();
e._renderWebGL(a)};b.prototype._renderCanvas=function(a){!0!==this.isMask&&a.plugins.graphics.render(this)};b.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var a=this._localBounds;this._bounds.addFrame(this.transform,a.minX,a.minY,a.maxX,a.maxY)};b.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,x);a=this.graphicsData;for(var c=0;c<a.length;++c){var d=a[c];if(d.fill&&d.shape&&
d.shape.contains(x.x,x.y))return!0}return!1};b.prototype.updateLocalBounds=function(){var a=Infinity,c=-Infinity,d=Infinity,e=-Infinity;if(this.graphicsData.length)for(var b,h,m,g,k,p=0;p<this.graphicsData.length;p++){b=this.graphicsData[p];m=b.type;var q=b.lineWidth;b=b.shape;if(m===n.SHAPES.RECT||m===n.SHAPES.RREC)h=b.x-q/2,m=b.y-q/2,g=b.width+q,k=b.height+q,a=h<a?h:a,c=h+g>c?h+g:c,d=m<d?m:d,e=m+k>e?m+k:e;else if(m===n.SHAPES.CIRC)h=b.x,m=b.y,g=b.radius+q/2,k=b.radius+q/2,a=h-g<a?h-g:a,c=h+g>c?
h+g:c,d=m-k<d?m-k:d,e=m+k>e?m+k:e;else if(m===n.SHAPES.ELIP)h=b.x,m=b.y,g=b.width+q/2,k=b.height+q/2,a=h-g<a?h-g:a,c=h+g>c?h+g:c,d=m-k<d?m-k:d,e=m+k>e?m+k:e;else{b=b.points;for(var f,w,l,r,z,v=0;v+2<b.length;v+=2)h=b[v],m=b[v+1],f=b[v+2],w=b[v+3],l=Math.abs(f-h),r=Math.abs(w-m),k=q,g=Math.sqrt(l*l+r*r),1E-9>g||(z=(k/g*r+l)/2,g=(k/g*l+r)/2,h=(f+h)/2,m=(w+m)/2,a=h-z<a?h-z:a,c=h+z>c?h+z:c,d=m-g<d?m-g:d,e=m+g>e?m+g:e)}}else e=d=c=a=0;p=this.boundsPadding;this._localBounds.minX=a-p;this._localBounds.maxX=
c+2*p;this._localBounds.minY=d-p;this._localBounds.maxY=e+2*p};b.prototype.drawShape=function(c){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop();this.currentPath=null;c=new a["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,c);this.graphicsData.push(c);c.type===n.SHAPES.POLY&&(c.shape.closed=c.shape.closed||this.filling,this.currentPath=c);this.dirty++;return c};b.prototype.generateCanvasTexture=
function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,b=this.getLocalBounds(),h=d["default"].create(b.width,b.height,a,e);v||(v=new z["default"]);this.transform.updateLocalTransform();this.transform.localTransform.copy(r);r.invert();r.tx-=b.x;r.ty-=b.y;v.render(this,h,!0,r);b=c["default"].fromCanvas(h.baseTexture._canvasRenderTarget.canvas,a);b.baseTexture.resolution=e;b.baseTexture.update();return b};b.prototype.closePath=function(){var a=this.currentPath;a&&a.shape&&a.shape.close();
return this};b.prototype.addHole=function(){var a=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(a.shape);this.currentPath=null;return this};b.prototype.destroy=function(a){e.prototype.destroy.call(this,a);for(a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();for(var c in this._webgl)for(a=0;a<this._webgl[c].data.length;++a)this._webgl[c].data[a].destroy();this._spriteRect&&this._spriteRect.destroy();this._localBounds=
this._webgl=this.currentPath=this.graphicsData=null};return b}(l["default"]);f["default"]=b;b._SPRITE_TEXTURE=null},{"../const":44,"../display/Bounds":45,"../display/Container":46,"../math":68,"../renderers/canvas/CanvasRenderer":75,"../sprites/Sprite":100,"../textures/RenderTexture":110,"../textures/Texture":112,"../utils":120,"./GraphicsData":52,"./utils/bezierCurveTo":54}],52:[function(b,l,f){f.__esModule=!0;b=function(){function b(g,e,d,c,a,h,m,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.lineWidth=g;this.nativeLines=m;this.lineColor=e;this.lineAlpha=d;this._lineTint=e;this.fillColor=c;this.fillAlpha=a;this._fillTint=c;this.fill=h;this.holes=[];this.shape=k;this.type=k.type}b.prototype.clone=function(){return new b(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)};b.prototype.addHole=function(b){this.holes.push(b)};b.prototype.destroy=function(){this.holes=this.shape=null};return b}();f["default"]=b},{}],53:[function(b,
l,f){f.__esModule=!0;l=(l=b("../../renderers/canvas/CanvasRenderer"))&&l.__esModule?l:{"default":l};var k=b("../../const");b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=e}b.prototype.render=function(e){var d=this.renderer,c=d.context,a=e.worldAlpha,b=e.transform.worldTransform,m=d.resolution;this._prevTint!==this.tint&&(this.dirty=!0);c.setTransform(b.a*m,b.b*m,b.c*m,b.d*m,b.tx*m,b.ty*m);e.dirty&&(this.updateGraphicsTint(e),
e.dirty=!1);d.setBlendMode(e.blendMode);for(d=0;d<e.graphicsData.length;d++){var b=e.graphicsData[d],g=b.shape,m=b._fillTint,n=b._lineTint;c.lineWidth=b.lineWidth;if(b.type===k.SHAPES.POLY){c.beginPath();this.renderPolygon(g.points,g.closed,c);for(var q=0;q<b.holes.length;q++)this.renderPolygon(b.holes[q].points,!0,c);b.fill&&(c.globalAlpha=b.fillAlpha*a,c.fillStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.fill());b.lineWidth&&(c.globalAlpha=b.lineAlpha*a,c.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),
c.stroke())}else if(b.type===k.SHAPES.RECT){if(b.fillColor||0===b.fillColor)c.globalAlpha=b.fillAlpha*a,c.fillStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.fillRect(g.x,g.y,g.width,g.height);b.lineWidth&&(c.globalAlpha=b.lineAlpha*a,c.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),c.strokeRect(g.x,g.y,g.width,g.height))}else if(b.type===k.SHAPES.CIRC)c.beginPath(),c.arc(g.x,g.y,g.radius,0,2*Math.PI),c.closePath(),b.fill&&(c.globalAlpha=b.fillAlpha*a,c.fillStyle="#"+("00000"+(m|0).toString(16)).substr(-6),
c.fill()),b.lineWidth&&(c.globalAlpha=b.lineAlpha*a,c.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),c.stroke());else if(b.type===k.SHAPES.ELIP){var f=2*g.width,l=2*g.height,q=g.x-f/2,g=g.y-l/2;c.beginPath();var v=f/2*.5522848,r=l/2*.5522848,x=q+f,t=g+l,f=q+f/2,l=g+l/2;c.moveTo(q,l);c.bezierCurveTo(q,l-r,f-v,g,f,g);c.bezierCurveTo(f+v,g,x,l-r,x,l);c.bezierCurveTo(x,l+r,f+v,t,f,t);c.bezierCurveTo(f-v,t,q,l+r,q,l);c.closePath();b.fill&&(c.globalAlpha=b.fillAlpha*a,c.fillStyle="#"+("00000"+
(m|0).toString(16)).substr(-6),c.fill());b.lineWidth&&(c.globalAlpha=b.lineAlpha*a,c.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),c.stroke())}else if(b.type===k.SHAPES.RREC){q=g.x;l=g.y;v=g.width;r=g.height;g=g.radius;x=Math.min(v,r)/2|0;g=g>x?x:g;c.beginPath();c.moveTo(q,l+g);c.lineTo(q,l+r-g);c.quadraticCurveTo(q,l+r,q+g,l+r);c.lineTo(q+v-g,l+r);c.quadraticCurveTo(q+v,l+r,q+v,l+r-g);c.lineTo(q+v,l+g);c.quadraticCurveTo(q+v,l,q+v-g,l);c.lineTo(q+g,l);c.quadraticCurveTo(q,l,q,l+g);c.closePath();
if(b.fillColor||0===b.fillColor)c.globalAlpha=b.fillAlpha*a,c.fillStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.fill();b.lineWidth&&(c.globalAlpha=b.lineAlpha*a,c.strokeStyle="#"+("00000"+(n|0).toString(16)).substr(-6),c.stroke())}}};b.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint;for(var d=(e.tint>>16&255)/255,c=(e.tint>>8&255)/255,a=(e.tint&255)/255,b=0;b<e.graphicsData.length;++b){var m=e.graphicsData[b],g=m.fillColor|0,n=m.lineColor|0;m._fillTint=((g>>16&255)/255*d*255<<16)+
((g>>8&255)/255*c*255<<8)+(g&255)/255*a*255;m._lineTint=((n>>16&255)/255*d*255<<16)+((n>>8&255)/255*c*255<<8)+(n&255)/255*a*255}};b.prototype.renderPolygon=function(e,d,c){c.moveTo(e[0],e[1]);for(var a=1;a<e.length/2;++a)c.lineTo(e[2*a],e[2*a+1]);d&&c.closePath()};b.prototype.destroy=function(){this.renderer=null};return b}();f["default"]=b;l["default"].registerPlugin("graphics",b)},{"../../const":44,"../../renderers/canvas/CanvasRenderer":75}],54:[function(b,l,f){f.__esModule=!0;f["default"]=function(b,
g,e,d,c,a,h,m){var k=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],n,q,f,l,v;k.push(b,g);for(var r=1,x;20>=r;++r)x=r/20,n=1-x,q=n*n,f=q*n,l=x*x,v=l*x,k.push(f*b+3*q*x*e+3*n*l*c+v*h,f*g+3*q*x*d+3*n*l*a+v*m);return k}},{}],55:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e=b("../../utils"),d=b("../../const");l=b("../../renderers/webgl/utils/ObjectRenderer");var c=k(l);l=b("../../renderers/webgl/WebGLRenderer");l=k(l);var a=b("./WebGLGraphicsData"),h=k(a),a=b("./shaders/PrimitiveShader"),m=k(a),a=b("./utils/buildPoly"),p=k(a),a=b("./utils/buildRectangle"),n=k(a),a=b("./utils/buildRoundedRectangle"),q=k(a);b=b("./utils/buildCircle");var w=
k(b);b=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d;d=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.graphicsDataPool=[];d.primitiveShader=null;d.gl=c.gl;d.CONTEXT_UID=0;return d}g(b,a);b.prototype.onContextChange=function(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=
new m["default"](this.gl)};b.prototype.destroy=function(){c["default"].prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null};b.prototype.render=function(a){var c=this.renderer,d=c.gl,b,h=a._webGL[this.CONTEXT_UID];h&&a.dirty===h.dirty||(this.updateGraphics(a),h=a._webGL[this.CONTEXT_UID]);c.bindShader(this.primitiveShader);c.state.setBlendMode(a.blendMode);for(var m=0,g=h.data.length;m<g;m++){b=h.data[m];var n=b.shader;
c.bindShader(n);n.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);n.uniforms.tint=(0,e.hex2rgb)(a.tint);n.uniforms.alpha=a.worldAlpha;c.bindVao(b.vao);a.nativeLines?d.drawArrays(d.LINES,0,b.points.length/6):b.vao.draw(d.TRIANGLE_STRIP,b.indices.length)}};b.prototype.updateGraphics=function(a){var c=this.renderer.gl,e=a._webGL[this.CONTEXT_UID];e||(e=a._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:c,clearDirty:-1,dirty:-1});e.dirty=a.dirty;if(a.clearDirty!==e.clearDirty){e.clearDirty=
a.clearDirty;for(c=0;c<e.data.length;c++)this.graphicsDataPool.push(e.data[c]);e.data.length=0;e.lastIndex=0}for(var b=e.lastIndex;b<a.graphicsData.length;b++){var h=a.graphicsData[b],c=this.getWebGLData(e,0);h.type===d.SHAPES.POLY&&(0,p["default"])(h,c);h.type===d.SHAPES.RECT?(0,n["default"])(h,c):h.type===d.SHAPES.CIRC||h.type===d.SHAPES.ELIP?(0,w["default"])(h,c):h.type===d.SHAPES.RREC&&(0,q["default"])(h,c);e.lastIndex++}this.renderer.bindVao(null);for(a=0;a<e.data.length;a++)c=e.data[a],c.dirty&&
c.upload()};b.prototype.getWebGLData=function(a,c){var d=a.data[a.data.length-1];if(!d||32E4<d.points.length)d=this.graphicsDataPool.pop()||new h["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.reset(c),a.data.push(d);d.dirty=!0;return d};return b}(c["default"]);f["default"]=b;l["default"].registerPlugin("graphics",b)},{"../../const":44,"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,"../../utils":120,"./WebGLGraphicsData":56,
"./shaders/PrimitiveShader":57,"./utils/buildCircle":58,"./utils/buildPoly":60,"./utils/buildRectangle":61,"./utils/buildRoundedRectangle":62}],56:[function(b,l,f){f.__esModule=!0;var k=(b=b("pixi-gl-core"))&&b.__esModule?b:{"default":b};b=function(){function b(e,d,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.gl=e;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=k["default"].GLBuffer.createVertexBuffer(e);this.indexBuffer=k["default"].GLBuffer.createIndexBuffer(e);
this.dirty=!0;this.glIndices=this.glPoints=null;this.shader=d;this.vao=(new k["default"].VertexArrayObject(e,c)).addIndex(this.indexBuffer).addAttribute(this.buffer,d.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,d.attributes.aColor,e.FLOAT,!1,24,8)}b.prototype.reset=function(){this.points.length=0;this.indices.length=0};b.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);
this.dirty=!1};b.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null};return b}();f["default"]=b},{"pixi-gl-core":12}],57:[function(b,l,f){function k(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,
writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}f.__esModule=!0;b=b("../../../Shader");b=function(b){function e(d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");d=b.call(this,d,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}k(e,b);return e}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"../../../Shader":42}],58:[function(b,l,f){f.__esModule=!0;f["default"]=function(d,c){var a=d.shape,b=a.x,m=a.y,f,n;d.type===g.SHAPES.CIRC?n=f=a.radius:(f=a.width,n=a.height);if(0!==f&&0!==n){var a=
Math.floor(30*Math.sqrt(a.radius))||Math.floor(15*Math.sqrt(a.width+a.height)),q=2*Math.PI/a;if(d.fill){var w=(0,e.hex2rgb)(d.fillColor),l=d.fillAlpha,v=w[0]*l,r=w[1]*l,w=w[2]*l,x=c.points,t=c.indices,y=x.length/6;t.push(y);for(var A=0;A<a+1;A++)x.push(b,m,v,r,w,l),x.push(b+Math.sin(q*A)*f,m+Math.cos(q*A)*n,v,r,w,l),t.push(y++,y++);t.push(y-1)}if(d.lineWidth){l=d.points;d.points=[];for(v=0;v<a+1;v++)d.points.push(b+Math.sin(q*v)*f,m+Math.cos(q*v)*n);(0,k["default"])(d,c);d.points=l}}};var k=(l=b("./buildLine"))&&
l.__esModule?l:{"default":l},g=b("../../../const"),e=b("../../../utils")},{"../../../const":44,"../../../utils":120,"./buildLine":59}],59:[function(b,l,f){f.__esModule=!0;f["default"]=function(b,d){if(b.nativeLines){var c,a=b.points;if(0!==a.length){var e=d.points,m=a.length/2;c=(0,g.hex2rgb)(b.lineColor);var f=b.lineAlpha,n=c[0]*f,q=c[1]*f,l=c[2]*f;for(c=1;c<m;c++){var z=a[2*c],v=a[2*c+1];e.push(a[2*(c-1)],a[2*(c-1)+1]);e.push(n,q,l,f);e.push(z,v);e.push(n,q,l,f)}}}else if(a=b.points,0!==a.length){m=
new k.Point(a[0],a[1]);f=new k.Point(a[a.length-2],a[a.length-1]);m.x===f.x&&m.y===f.y&&(a=a.slice(),a.pop(),a.pop(),f=new k.Point(a[a.length-2],a[a.length-1]),e=f.x+.5*(m.x-f.x),m=f.y+.5*(m.y-f.y),a.unshift(e,m),a.push(e,m));n=d.points;e=d.indices;q=a.length/2;m=a.length;f=n.length/6;c=b.lineWidth/2;var r=(0,g.hex2rgb)(b.lineColor),l=b.lineAlpha,z=r[0]*l,v=r[1]*l,r=r[2]*l,x=a[0],t=a[1],y=a[2],A=a[3],C,E,F=-(t-A),B=x-y,G,I,H=Math.sqrt(F*F+B*B),F=F/H*c,B=B/H*c;n.push(x-F,t-B,z,v,r,l);n.push(x+F,t+
B,z,v,r,l);for(var M=1;M<q-1;++M){x=a[2*(M-1)];t=a[2*(M-1)+1];y=a[2*M];A=a[2*M+1];C=a[2*(M+1)];E=a[2*(M+1)+1];F=-(t-A);B=x-y;H=Math.sqrt(F*F+B*B);F/=H;B/=H;F*=c;B*=c;G=-(A-E);I=y-C;H=Math.sqrt(G*G+I*I);G/=H;I/=H;G*=c;I*=c;var H=-B+t-(-B+A),N=-F+y-(-F+x),x=(-F+x)*(-B+A)-(-F+y)*(-B+t),t=-I+E-(-I+A),U=-G+y-(-G+C);C=(-G+C)*(-I+A)-(-G+y)*(-I+E);E=H*U-t*N;.1>Math.abs(E)?(n.push(y-F,A-B,z,v,r,l),n.push(y+F,A+B,z,v,r,l)):(N=(N*C-U*x)/E,H=(t*x-H*C)/E,(N-y)*(N-y)+(H-A)*(H-A)>196*c*c?(F-=G,B-=I,H=Math.sqrt(F*
F+B*B),F/=H,B/=H,F*=c,B*=c,n.push(y-F,A-B),n.push(z,v,r,l),n.push(y+F,A+B),n.push(z,v,r,l),n.push(y-F,A-B),n.push(z,v,r,l),m++):(n.push(N,H),n.push(z,v,r,l),n.push(y-(N-y),A-(H-A)),n.push(z,v,r,l)))}x=a[2*(q-2)];t=a[2*(q-2)+1];y=a[2*(q-1)];A=a[2*(q-1)+1];F=-(t-A);B=x-y;H=Math.sqrt(F*F+B*B);F=F/H*c;B=B/H*c;n.push(y-F,A-B);n.push(z,v,r,l);n.push(y+F,A+B);n.push(z,v,r,l);e.push(f);for(a=0;a<m;++a)e.push(f++);e.push(f-1)}};var k=b("../../../math"),g=b("../../../utils")},{"../../../math":68,"../../../utils":120}],
60:[function(b,l,f){f.__esModule=!0;f["default"]=function(d,c){d.points=d.shape.points.slice();var a=d.points;if(d.fill&&6<=a.length){for(var b=[],m=d.holes,f=0;f<m.length;f++){var n=m[f];b.push(a.length/2);a=a.concat(n.points)}var m=c.points,q=c.indices,f=a.length/2,l=(0,g.hex2rgb)(d.fillColor),n=d.fillAlpha,z=l[0]*n,v=l[1]*n,l=l[2]*n,b=(0,e["default"])(a,b,2);if(!b)return;for(var r=m.length/6,x=0;x<b.length;x+=3)q.push(b[x]+r),q.push(b[x]+r),q.push(b[x+1]+r),q.push(b[x+2]+r),q.push(b[x+2]+r);for(b=
0;b<f;b++)m.push(a[2*b],a[2*b+1],z,v,l,n)}0<d.lineWidth&&(0,k["default"])(d,c)};var k=(l=b("./buildLine"))&&l.__esModule?l:{"default":l},g=b("../../../utils"),e=(b=b("earcut"))&&b.__esModule?b:{"default":b}},{"../../../utils":120,"./buildLine":59,earcut:2}],61:[function(b,l,f){f.__esModule=!0;f["default"]=function(b,d){var c=b.shape,a=c.x,e=c.y,m=c.width,c=c.height;if(b.fill){var f=(0,g.hex2rgb)(b.fillColor),n=b.fillAlpha,q=f[0]*n,l=f[1]*n,f=f[2]*n,z=d.points,v=d.indices,r=z.length/6;z.push(a,e);
z.push(q,l,f,n);z.push(a+m,e);z.push(q,l,f,n);z.push(a,e+c);z.push(q,l,f,n);z.push(a+m,e+c);z.push(q,l,f,n);v.push(r,r,r+1,r+2,r+3,r+3)}b.lineWidth&&(n=b.points,b.points=[a,e,a+m,e,a+m,e+c,a,e+c,a,e],(0,k["default"])(b,d),b.points=n)};var k=(l=b("./buildLine"))&&l.__esModule?l:{"default":l},g=b("../../../utils")},{"../../../utils":120,"./buildLine":59}],62:[function(b,l,f){function k(c,a,d,b,e,g){for(var h=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],m,n,k,f,p=0,l;20>=p;++p)l=p/20,m=
c+(d-c)*l,n=a+(b-a)*l,k=d+(e-d)*l,f=b+(g-b)*l,m+=(k-m)*l,n+=(f-n)*l,h.push(m,n);return h}f.__esModule=!0;f["default"]=function(c,a){var b=c.shape,m=b.x,f=b.y,n=b.width,q=b.height,l=b.radius,b=[];b.push(m,f+l);k(m,f+q-l,m,f+q,m+l,f+q,b);k(m+n-l,f+q,m+n,f+q,m+n,f+q-l,b);k(m+n,f+l,m+n,f,m+n-l,f,b);k(m+l,f,m,f,m,f+l+1E-10,b);if(c.fill){for(var q=(0,d.hex2rgb)(c.fillColor),m=c.fillAlpha,f=q[0]*m,n=q[1]*m,q=q[2]*m,l=a.points,z=a.indices,v=l.length/6,r=(0,g["default"])(b,null,2),x=0,t=r.length;x<t;x+=3)z.push(r[x]+
v),z.push(r[x]+v),z.push(r[x+1]+v),z.push(r[x+2]+v),z.push(r[x+2]+v);z=0;for(v=b.length;z<v;z++)l.push(b[z],b[++z],f,n,q,m)}c.lineWidth&&(m=c.points,c.points=b,(0,e["default"])(c,a),c.points=m)};var g=(l=b("earcut"))&&l.__esModule?l:{"default":l},e=(l=b("./buildLine"))&&l.__esModule?l:{"default":l},d=b("../../../utils")},{"../../../utils":120,"./buildLine":59,earcut:2}],63:[function(b,l,f){function k(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,
d)&&(c[d]=a[d]);c["default"]=a;return c}function g(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;f.autoDetectRenderer=f.Application=f.Filter=f.SpriteMaskFilter=f.Quad=f.RenderTarget=f.ObjectRenderer=f.WebGLManager=f.Shader=f.CanvasRenderTarget=f.TextureUvs=f.VideoBaseTexture=f.BaseRenderTexture=f.RenderTexture=f.BaseTexture=f.Texture=f.Spritesheet=f.CanvasGraphicsRenderer=f.GraphicsRenderer=f.GraphicsData=f.Graphics=f.TextStyle=f.Text=f.SpriteRenderer=f.CanvasTinter=f.CanvasSpriteRenderer=
f.Sprite=f.TransformBase=f.TransformStatic=f.Transform=f.Container=f.DisplayObject=f.Bounds=f.glCore=f.WebGLRenderer=f.CanvasRenderer=f.ticker=f.utils=f.settings=void 0;var e=b("./const");Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return e[a]}})});var d=b("./math");Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return d[a]}})});var c=b("pixi-gl-core");
Object.defineProperty(f,"glCore",{enumerable:!0,get:function(){return g(c)["default"]}});var a=b("./display/Bounds");Object.defineProperty(f,"Bounds",{enumerable:!0,get:function(){return g(a)["default"]}});var h=b("./display/DisplayObject");Object.defineProperty(f,"DisplayObject",{enumerable:!0,get:function(){return g(h)["default"]}});var m=b("./display/Container");Object.defineProperty(f,"Container",{enumerable:!0,get:function(){return g(m)["default"]}});var p=b("./display/Transform");Object.defineProperty(f,
"Transform",{enumerable:!0,get:function(){return g(p)["default"]}});var n=b("./display/TransformStatic");Object.defineProperty(f,"TransformStatic",{enumerable:!0,get:function(){return g(n)["default"]}});var q=b("./display/TransformBase");Object.defineProperty(f,"TransformBase",{enumerable:!0,get:function(){return g(q)["default"]}});var w=b("./sprites/Sprite");Object.defineProperty(f,"Sprite",{enumerable:!0,get:function(){return g(w)["default"]}});var z=b("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(f,
"CanvasSpriteRenderer",{enumerable:!0,get:function(){return g(z)["default"]}});var v=b("./sprites/canvas/CanvasTinter");Object.defineProperty(f,"CanvasTinter",{enumerable:!0,get:function(){return g(v)["default"]}});var r=b("./sprites/webgl/SpriteRenderer");Object.defineProperty(f,"SpriteRenderer",{enumerable:!0,get:function(){return g(r)["default"]}});var x=b("./text/Text");Object.defineProperty(f,"Text",{enumerable:!0,get:function(){return g(x)["default"]}});var t=b("./text/TextStyle");Object.defineProperty(f,
"TextStyle",{enumerable:!0,get:function(){return g(t)["default"]}});var y=b("./graphics/Graphics");Object.defineProperty(f,"Graphics",{enumerable:!0,get:function(){return g(y)["default"]}});var A=b("./graphics/GraphicsData");Object.defineProperty(f,"GraphicsData",{enumerable:!0,get:function(){return g(A)["default"]}});var C=b("./graphics/webgl/GraphicsRenderer");Object.defineProperty(f,"GraphicsRenderer",{enumerable:!0,get:function(){return g(C)["default"]}});var E=b("./graphics/canvas/CanvasGraphicsRenderer");
Object.defineProperty(f,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return g(E)["default"]}});var F=b("./textures/Spritesheet");Object.defineProperty(f,"Spritesheet",{enumerable:!0,get:function(){return g(F)["default"]}});var B=b("./textures/Texture");Object.defineProperty(f,"Texture",{enumerable:!0,get:function(){return g(B)["default"]}});var G=b("./textures/BaseTexture");Object.defineProperty(f,"BaseTexture",{enumerable:!0,get:function(){return g(G)["default"]}});var I=b("./textures/RenderTexture");
Object.defineProperty(f,"RenderTexture",{enumerable:!0,get:function(){return g(I)["default"]}});var H=b("./textures/BaseRenderTexture");Object.defineProperty(f,"BaseRenderTexture",{enumerable:!0,get:function(){return g(H)["default"]}});var M=b("./textures/VideoBaseTexture");Object.defineProperty(f,"VideoBaseTexture",{enumerable:!0,get:function(){return g(M)["default"]}});var N=b("./textures/TextureUvs");Object.defineProperty(f,"TextureUvs",{enumerable:!0,get:function(){return g(N)["default"]}});var U=
b("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(f,"CanvasRenderTarget",{enumerable:!0,get:function(){return g(U)["default"]}});var Q=b("./Shader");Object.defineProperty(f,"Shader",{enumerable:!0,get:function(){return g(Q)["default"]}});var O=b("./renderers/webgl/managers/WebGLManager");Object.defineProperty(f,"WebGLManager",{enumerable:!0,get:function(){return g(O)["default"]}});var J=b("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(f,"ObjectRenderer",{enumerable:!0,
get:function(){return g(J)["default"]}});var P=b("./renderers/webgl/utils/RenderTarget");Object.defineProperty(f,"RenderTarget",{enumerable:!0,get:function(){return g(P)["default"]}});var T=b("./renderers/webgl/utils/Quad");Object.defineProperty(f,"Quad",{enumerable:!0,get:function(){return g(T)["default"]}});var K=b("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(f,"SpriteMaskFilter",{enumerable:!0,get:function(){return g(K)["default"]}});var S=b("./renderers/webgl/filters/Filter");
Object.defineProperty(f,"Filter",{enumerable:!0,get:function(){return g(S)["default"]}});var D=b("./Application");Object.defineProperty(f,"Application",{enumerable:!0,get:function(){return g(D)["default"]}});var V=b("./autoDetectRenderer");Object.defineProperty(f,"autoDetectRenderer",{enumerable:!0,get:function(){return V.autoDetectRenderer}});l=b("./utils");l=k(l);var L=b("./ticker"),L=k(L),R=b("./settings"),R=g(R),W=b("./renderers/canvas/CanvasRenderer"),W=g(W);b=b("./renderers/webgl/WebGLRenderer");
b=g(b);f.settings=R["default"];f.utils=l;f.ticker=L;f.CanvasRenderer=W["default"];f.WebGLRenderer=b["default"]},{"./Application":41,"./Shader":42,"./autoDetectRenderer":43,"./const":44,"./display/Bounds":45,"./display/Container":46,"./display/DisplayObject":47,"./display/Transform":48,"./display/TransformBase":49,"./display/TransformStatic":50,"./graphics/Graphics":51,"./graphics/GraphicsData":52,"./graphics/canvas/CanvasGraphicsRenderer":53,"./graphics/webgl/GraphicsRenderer":55,"./math":68,"./renderers/canvas/CanvasRenderer":75,
"./renderers/canvas/utils/CanvasRenderTarget":77,"./renderers/webgl/WebGLRenderer":82,"./renderers/webgl/filters/Filter":84,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":87,"./renderers/webgl/managers/WebGLManager":91,"./renderers/webgl/utils/ObjectRenderer":92,"./renderers/webgl/utils/Quad":93,"./renderers/webgl/utils/RenderTarget":94,"./settings":99,"./sprites/Sprite":100,"./sprites/canvas/CanvasSpriteRenderer":101,"./sprites/canvas/CanvasTinter":102,"./sprites/webgl/SpriteRenderer":104,
"./text/Text":106,"./text/TextStyle":107,"./textures/BaseRenderTexture":108,"./textures/BaseTexture":109,"./textures/RenderTexture":110,"./textures/Spritesheet":111,"./textures/Texture":112,"./textures/TextureUvs":113,"./textures/VideoBaseTexture":114,"./ticker":116,"./utils":120,"pixi-gl-core":12}],64:[function(b,l,f){function k(a){return 0>a?-1:0<a?1:0}f.__esModule=!0;var g=(b=b("./Matrix"))&&b.__esModule?b:{"default":b},e=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,
-1,-1,-1],c=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],a=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],m=[];(function(){for(var b=0;16>b;b++){var f=[];m.push(f);for(var p=0;16>p;p++)for(var l=k(e[b]*e[p]+c[b]*d[p]),v=k(d[b]*e[p]+a[b]*d[p]),r=k(e[b]*c[p]+c[b]*a[p]),x=k(d[b]*c[p]+a[b]*a[p]),t=0;16>t;t++)if(e[t]===l&&d[t]===v&&c[t]===r&&a[t]===x){f.push(t);break}}for(b=0;16>b;b++)f=new g["default"],f.set(e[b],d[b],c[b],a[b],0,0),h.push(f)})();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,
MIRROR_HORIZONTAL:12,uX:function(a){return e[a]},uY:function(a){return d[a]},vX:function(a){return c[a]},vY:function(c){return a[c]},inv:function(a){return a&8?a&15:-a&7},add:function(a,c){return m[a][c]},sub:function(a,c){return m[a][p.inv(c)]},rotate180:function(a){return a^4},isSwapWidthHeight:function(a){return 2===(a&3)},byDirection:function(a,c){return 2*Math.abs(a)<=Math.abs(c)?0<=c?p.S:p.N:2*Math.abs(c)<=Math.abs(a)?0<a?p.E:p.W:0<c?0<a?p.SE:p.SW:0<a?p.NE:p.NW},matrixAppendRotationInv:function(a,
c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,e=h[p.inv(c)];e.tx=d;e.ty=b;a.append(e)}};f["default"]=p},{"./Matrix":65}],65:[function(b,l,f){f.__esModule=!0;var k=function(){function b(d,c){for(var a=0;a<c.length;a++){var b=c[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}return function(d,c,a){c&&b(d.prototype,c);a&&b(d,a);return d}}(),g=(b=b("./Point"))&&
b.__esModule?b:{"default":b};b=function(){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,m=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.a=
d;this.b=c;this.c=a;this.d=e;this.tx=m;this.ty=g;this.array=null}b.prototype.fromArray=function(d){this.a=d[0];this.b=d[1];this.c=d[3];this.d=d[4];this.tx=d[2];this.ty=d[5]};b.prototype.set=function(d,c,a,b,e,g){this.a=d;this.b=c;this.c=a;this.d=b;this.tx=e;this.ty=g;return this};b.prototype.toArray=function(d,c){this.array||(this.array=new Float32Array(9));var a=c||this.array;d?(a[0]=this.a,a[1]=this.b,a[2]=0,a[3]=this.c,a[4]=this.d,a[5]=0,a[6]=this.tx,a[7]=this.ty):(a[0]=this.a,a[1]=this.c,a[2]=
this.tx,a[3]=this.b,a[4]=this.d,a[5]=this.ty,a[6]=0,a[7]=0);a[8]=1;return a};b.prototype.apply=function(d,c){c=c||new g["default"];var a=d.x,b=d.y;c.x=this.a*a+this.c*b+this.tx;c.y=this.b*a+this.d*b+this.ty;return c};b.prototype.applyInverse=function(d,c){c=c||new g["default"];var a=1/(this.a*this.d+this.c*-this.b),b=d.x,e=d.y;c.x=this.d*a*b+-this.c*a*e+(this.ty*this.c-this.tx*this.d)*a;c.y=this.a*a*e+-this.b*a*b+(-this.ty*this.a+this.tx*this.b)*a;return c};b.prototype.translate=function(d,c){this.tx+=
d;this.ty+=c;return this};b.prototype.scale=function(d,c){this.a*=d;this.d*=c;this.c*=d;this.b*=c;this.tx*=d;this.ty*=c;return this};b.prototype.rotate=function(d){var c=Math.cos(d);d=Math.sin(d);var a=this.a,b=this.c,e=this.tx;this.a=a*c-this.b*d;this.b=a*d+this.b*c;this.c=b*c-this.d*d;this.d=b*d+this.d*c;this.tx=e*c-this.ty*d;this.ty=e*d+this.ty*c;return this};b.prototype.append=function(d){var c=this.a,a=this.b,b=this.c,e=this.d;this.a=d.a*c+d.b*b;this.b=d.a*a+d.b*e;this.c=d.c*c+d.d*b;this.d=d.c*
a+d.d*e;this.tx=d.tx*c+d.ty*b+this.tx;this.ty=d.tx*a+d.ty*e+this.ty;return this};b.prototype.setTransform=function(d,c,a,b,e,g,n,f,k){var h=Math.sin(n),m=Math.cos(n);n=Math.cos(k);k=Math.sin(k);var q=-Math.sin(f);f=Math.cos(f);var p=m*e;e*=h;h=-h*g;g*=m;this.a=n*p+k*h;this.b=n*e+k*g;this.c=q*p+f*h;this.d=q*e+f*g;this.tx=d+(a*p+b*h);this.ty=c+(a*e+b*g);return this};b.prototype.prepend=function(d){var c=this.tx;if(1!==d.a||0!==d.b||0!==d.c||1!==d.d){var a=this.a,b=this.c;this.a=a*d.a+this.b*d.c;this.b=
a*d.b+this.b*d.d;this.c=b*d.a+this.d*d.c;this.d=b*d.b+this.d*d.d}this.tx=c*d.a+this.ty*d.c+d.tx;this.ty=c*d.b+this.ty*d.d+d.ty;return this};b.prototype.decompose=function(d){var c=this.a,a=this.b,b=this.c,e=this.d,g=-Math.atan2(-b,e),n=Math.atan2(a,c);1E-5>Math.abs(g+n)?(d.rotation=n,0>c&&0<=e&&(d.rotation+=0>=d.rotation?Math.PI:-Math.PI),d.skew.x=d.skew.y=0):(d.skew.x=g,d.skew.y=n);d.scale.x=Math.sqrt(c*c+a*a);d.scale.y=Math.sqrt(b*b+e*e);d.position.x=this.tx;d.position.y=this.ty;return d};b.prototype.invert=
function(){var d=this.a,c=this.b,a=this.c,b=this.d,e=this.tx,g=d*b-c*a;this.a=b/g;this.b=-c/g;this.c=-a/g;this.d=d/g;this.tx=(a*this.ty-b*e)/g;this.ty=-(d*this.ty-c*e)/g;return this};b.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};b.prototype.clone=function(){var d=new b;d.a=this.a;d.b=this.b;d.c=this.c;d.d=this.d;d.tx=this.tx;d.ty=this.ty;return d};b.prototype.copy=function(d){d.a=this.a;d.b=this.b;d.c=this.c;d.d=this.d;d.tx=this.tx;d.ty=this.ty;return d};
k(b,null,[{key:"IDENTITY",get:function(){return new b}},{key:"TEMP_MATRIX",get:function(){return new b}}]);return b}();f["default"]=b},{"./Point":67}],66:[function(b,l,f){f.__esModule=!0;var k=function(){function b(b,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,d,c){d&&b(e.prototype,d);c&&b(e,c);return e}}();b=function(){function b(e,d){var c=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._x=c;this._y=a;this.cb=e;this.scope=d}b.prototype.set=function(b,d){var c=b||0,a=d||(0!==d?c:0);if(this._x!==c||this._y!==a)this._x=c,this._y=a,this.cb.call(this.scope)};b.prototype.copy=function(b){if(this._x!==b.x||this._y!==b.y)this._x=b.x,this._y=b.y,this.cb.call(this.scope)};k(b,[{key:"x",get:function(){return this._x},set:function(b){this._x!==
b&&(this._x=b,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(b){this._y!==b&&(this._y=b,this.cb.call(this.scope))}}]);return b}();f["default"]=b},{}],67:[function(b,l,f){f.__esModule=!0;b=function(){function b(){var g=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=g;this.y=e}b.prototype.clone=function(){return new b(this.x,
this.y)};b.prototype.copy=function(b){this.set(b.x,b.y)};b.prototype.equals=function(b){return b.x===this.x&&b.y===this.y};b.prototype.set=function(b,e){this.x=b||0;this.y=e||(0!==e?this.x:0)};return b}();f["default"]=b},{}],68:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var g=b("./Point");Object.defineProperty(f,"Point",{enumerable:!0,get:function(){return k(g)["default"]}});var e=b("./ObservablePoint");Object.defineProperty(f,"ObservablePoint",{enumerable:!0,
get:function(){return k(e)["default"]}});var d=b("./Matrix");Object.defineProperty(f,"Matrix",{enumerable:!0,get:function(){return k(d)["default"]}});var c=b("./GroupD8");Object.defineProperty(f,"GroupD8",{enumerable:!0,get:function(){return k(c)["default"]}});var a=b("./shapes/Circle");Object.defineProperty(f,"Circle",{enumerable:!0,get:function(){return k(a)["default"]}});var h=b("./shapes/Ellipse");Object.defineProperty(f,"Ellipse",{enumerable:!0,get:function(){return k(h)["default"]}});var m=
b("./shapes/Polygon");Object.defineProperty(f,"Polygon",{enumerable:!0,get:function(){return k(m)["default"]}});var p=b("./shapes/Rectangle");Object.defineProperty(f,"Rectangle",{enumerable:!0,get:function(){return k(p)["default"]}});var n=b("./shapes/RoundedRectangle");Object.defineProperty(f,"RoundedRectangle",{enumerable:!0,get:function(){return k(n)["default"]}})},{"./GroupD8":64,"./Matrix":65,"./ObservablePoint":66,"./Point":67,"./shapes/Circle":69,"./shapes/Ellipse":70,"./shapes/Polygon":71,
"./shapes/Rectangle":72,"./shapes/RoundedRectangle":73}],69:[function(b,l,f){f.__esModule=!0;var k=(l=b("./Rectangle"))&&l.__esModule?l:{"default":l},g=b("../../const");b=function(){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=d;this.y=c;this.radius=a;this.type=g.SHAPES.CIRC}
b.prototype.clone=function(){return new b(this.x,this.y,this.radius)};b.prototype.contains=function(d,c){if(0>=this.radius)return!1;var a=this.x-d,b=this.y-c;return a*a+b*b<=this.radius*this.radius};b.prototype.getBounds=function(){return new k["default"](this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};return b}();f["default"]=b},{"../../const":44,"./Rectangle":72}],70:[function(b,l,f){f.__esModule=!0;var k=(l=b("./Rectangle"))&&l.__esModule?l:{"default":l},g=b("../../const");
b=function(){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=d;this.y=c;this.width=a;this.height=e;this.type=g.SHAPES.ELIP}b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)};b.prototype.contains=
function(d,c){if(0>=this.width||0>=this.height)return!1;var a=(d-this.x)/this.width,b=(c-this.y)/this.height;return 1>=a*a+b*b};b.prototype.getBounds=function(){return new k["default"](this.x-this.width,this.y-this.height,this.width,this.height)};return b}();f["default"]=b},{"../../const":44,"./Rectangle":72}],71:[function(b,l,f){f.__esModule=!0;var k=(l=b("../Point"))&&l.__esModule?l:{"default":l},g=b("../../const");b=function(){function b(){for(var d=arguments.length,c=Array(d),a=0;a<d;a++)c[a]=
arguments[a];if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");Array.isArray(c[0])&&(c=c[0]);if(c[0]instanceof k["default"]){for(var d=[],a=0,e=c.length;a<e;a++)d.push(c[a].x,c[a].y);c=d}this.closed=!0;this.points=c;this.type=g.SHAPES.POLY}b.prototype.clone=function(){return new b(this.points.slice())};b.prototype.close=function(){var d=this.points;d[0]===d[d.length-2]&&d[1]===d[d.length-1]||d.push(d[0],d[1])};b.prototype.contains=function(d,c){for(var a=!1,b=this.points.length/
2,e=0,g=b-1;e<b;g=e++){var n=this.points[2*e],f=this.points[2*e+1],k=this.points[2*g],g=this.points[2*g+1];f>c!==g>c&&d<(c-f)/(g-f)*(k-n)+n&&(a=!a)}return a};return b}();f["default"]=b},{"../../const":44,"../Point":67}],72:[function(b,l,f){f.__esModule=!0;var k=function(){function b(d,c){for(var a=0;a<c.length;a++){var b=c[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}return function(d,c,a){c&&b(d.prototype,c);a&&b(d,a);return d}}(),
g=b("../../const");b=function(){function b(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=d;this.y=c;this.width=a;this.height=e;this.type=g.SHAPES.RECT}b.prototype.clone=function(){return new b(this.x,this.y,this.width,
this.height)};b.prototype.copy=function(d){this.x=d.x;this.y=d.y;this.width=d.width;this.height=d.height;return this};b.prototype.contains=function(d,c){return 0>=this.width||0>=this.height?!1:d>=this.x&&d<this.x+this.width&&c>=this.y&&c<this.y+this.height?!0:!1};b.prototype.pad=function(d,c){d=d||0;c=c||(0!==c?d:0);this.x-=d;this.y-=c;this.width+=2*d;this.height+=2*c};b.prototype.fit=function(d){this.x<d.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=d.x);this.y<d.y&&(this.height+=this.y,
0>this.height&&(this.height=0),this.y=d.y);this.x+this.width>d.x+d.width&&(this.width=d.width-this.x,0>this.width&&(this.width=0));this.y+this.height>d.y+d.height&&(this.height=d.height-this.y,0>this.height&&(this.height=0))};b.prototype.enlarge=function(d){var c=Math.min(this.x,d.x),a=Math.max(this.x+this.width,d.x+d.width),b=Math.min(this.y,d.y);d=Math.max(this.y+this.height,d.y+d.height);this.x=c;this.width=a-c;this.y=b;this.height=d-b};k(b,[{key:"left",get:function(){return this.x}},{key:"right",
get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new b(0,0,0,0)}}]);return b}();f["default"]=b},{"../../const":44}],73:[function(b,l,f){f.__esModule=!0;var k=b("../../const");b=function(){function b(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.x=e;this.y=d;this.width=c;this.height=a;this.radius=h;this.type=k.SHAPES.RREC}b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height,this.radius)};b.prototype.contains=function(b,d){if(0>=this.width||0>=this.height)return!1;if(b>=this.x&&b<=this.x+this.width&&d>=this.y&&
d<=this.y+this.height){if(d>=this.y+this.radius&&d<=this.y+this.height-this.radius||b>=this.x+this.radius&&b<=this.x+this.width-this.radius)return!0;var c=b-(this.x+this.radius),a=d-(this.y+this.radius),e=this.radius*this.radius;if(c*c+a*a<=e)return!0;c=b-(this.x+this.width-this.radius);if(c*c+a*a<=e)return!0;a=d-(this.y+this.height-this.radius);if(c*c+a*a<=e)return!0;c=b-(this.x+this.radius);if(c*c+a*a<=e)return!0}return!1};return b}();f["default"]=b},{"../../const":44}],74:[function(b,l,f){function k(a){return a&&
a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=
!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),d=b("../utils"),c=b("../math"),a=b("../const");l=b("../settings");var h=k(l);l=b("../display/Container");var m=k(l);l=b("../textures/RenderTexture");var p=k(l);b=b("eventemitter3");b=k(b);var n=new c.Matrix;b=function(b){function f(e,g,n,k){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var q;q=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
q=!q||"object"!==typeof q&&"function"!==typeof q?this:q;(0,d.sayHello)(e);if(k)for(var p in h["default"].RENDER_OPTIONS)"undefined"===typeof k[p]&&(k[p]=h["default"].RENDER_OPTIONS[p]);else k=h["default"].RENDER_OPTIONS;q.type=a.RENDERER_TYPE.UNKNOWN;q.screen=new c.Rectangle(0,0,g||800,n||600);q.view=k.view||document.createElement("canvas");q.resolution=k.resolution||h["default"].RESOLUTION;q.transparent=k.transparent;q.autoResize=k.autoResize||!1;q.blendModes=null;q.preserveDrawingBuffer=k.preserveDrawingBuffer;
q.clearBeforeRender=k.clearBeforeRender;q.roundPixels=k.roundPixels;q._backgroundColor=0;q._backgroundColorRgba=[0,0,0,0];q._backgroundColorString="#000000";q.backgroundColor=k.backgroundColor||q._backgroundColor;q._tempDisplayObjectParent=new m["default"];q._lastObjectRendered=q._tempDisplayObjectParent;return q}g(f,b);f.prototype.resize=function(a,c){this.screen.width=a;this.screen.height=c;this.view.width=a*this.resolution;this.view.height=c*this.resolution;this.autoResize&&(this.view.style.width=
a+"px",this.view.style.height=c+"px")};f.prototype.generateTexture=function(a,c,d){var b=a.getLocalBounds();c=p["default"].create(b.width|0,b.height|0,c,d);n.tx=-b.x;n.ty=-b.y;this.render(a,c,!1,n,!0);return c};f.prototype.destroy=function(c){c&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=a.RENDERER_TYPE.UNKNOWN;this.screen=this.view=null;this.resolution=0;this.autoResize=this.transparent=!1;this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=
!1;this._backgroundColor=0;this._backgroundColorString=this._backgroundColorRgba=null;this.backgroundColor=0;this._lastObjectRendered=this._tempDisplayObjectParent=null};e(f,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a;this._backgroundColorString=(0,d.hex2string)(a);(0,d.hex2rgb)(a,this._backgroundColorRgba)}}]);return f}(b["default"]);
f["default"]=b},{"../const":44,"../display/Container":46,"../math":68,"../settings":99,"../textures/RenderTexture":110,"../utils":120,eventemitter3:3}],75:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
c):a.__proto__=c)}f.__esModule=!0;l=b("../SystemRenderer");l=k(l);var e=b("./utils/CanvasMaskManager"),d=k(e),e=b("./utils/CanvasRenderTarget"),c=k(e),e=b("./utils/mapCanvasBlendModesToPixi"),a=k(e),e=b("../../utils"),h=b("../../const");b=b("../../settings");var m=k(b);b=function(b){function e(c,m){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");g=b.call(this,"Canvas",c,m,g);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.type=h.RENDERER_TYPE.CANVAS;g.rootContext=g.view.getContext("2d",{alpha:g.transparent});g.refresh=!0;g.maskManager=new d["default"](g);g.smoothProperty="imageSmoothingEnabled";g.rootContext.imageSmoothingEnabled||(g.rootContext.webkitImageSmoothingEnabled?g.smoothProperty="webkitImageSmoothingEnabled":g.rootContext.mozImageSmoothingEnabled?g.smoothProperty="mozImageSmoothingEnabled":g.rootContext.oImageSmoothingEnabled?g.smoothProperty="oImageSmoothingEnabled":
g.rootContext.msImageSmoothingEnabled&&(g.smoothProperty="msImageSmoothingEnabled"));g.initPlugins();g.blendModes=(0,a["default"])();g._activeBlendMode=null;g.context=null;g.renderingToScreen=!1;g.resize(c,m);return g}g(e,b);e.prototype.render=function(a,d,b,e,m){if(this.view){this.renderingToScreen=!d;this.emit("prerender");var g=this.resolution;d?(d=d.baseTexture||d,d._canvasRenderTarget||(d._canvasRenderTarget=new c["default"](d.width,d.height,d.resolution),d.source=d._canvasRenderTarget.canvas,
d.valid=!0),this.context=d._canvasRenderTarget.context,this.resolution=d._canvasRenderTarget.resolution):this.context=this.rootContext;var n=this.context;d||(this._lastObjectRendered=a);m||(d=a.parent,m=this._tempDisplayObjectParent.transform.worldTransform,e?(e.copy(m),this._tempDisplayObjectParent.transform._worldID=-1):m.identity(),a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=d);n.setTransform(1,0,0,1,0,0);n.globalAlpha=1;n.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL];
navigator.isCocoonJS&&this.view.screencanvas&&(n.fillStyle="black",n.clear());(void 0!==b?b:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?n.clearRect(0,0,this.width,this.height):(n.fillStyle=this._backgroundColorString,n.fillRect(0,0,this.width,this.height)));b=this.context;this.context=n;a.renderCanvas(this);this.context=b;this.resolution=g;this.emit("postrender")}};e.prototype.clear=function(a){var c=this.context;a=a||this._backgroundColorString;!this.transparent&&a?(c.fillStyle=
a,c.fillRect(0,0,this.width,this.height)):c.clearRect(0,0,this.width,this.height)};e.prototype.setBlendMode=function(a){this._activeBlendMode!==a&&(this._activeBlendMode=a,this.context.globalCompositeOperation=this.blendModes[a])};e.prototype.destroy=function(a){this.destroyPlugins();b.prototype.destroy.call(this,a);this.context=null;this.refresh=!0;this.maskManager.destroy();this.smoothProperty=this.maskManager=null};e.prototype.resize=function(a,c){b.prototype.resize.call(this,a,c);this.smoothProperty&&
(this.rootContext[this.smoothProperty]=m["default"].SCALE_MODE===h.SCALE_MODES.LINEAR)};return e}(l["default"]);f["default"]=b;e.pluginTarget.mixin(b)},{"../../const":44,"../../settings":99,"../../utils":120,"../SystemRenderer":74,"./utils/CanvasMaskManager":76,"./utils/CanvasRenderTarget":77,"./utils/mapCanvasBlendModesToPixi":79}],76:[function(b,l,f){f.__esModule=!0;var k=b("../../../const");b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.renderer=e}b.prototype.pushMask=function(b){var d=this.renderer;d.context.save();var c=b.alpha,a=b.transform.worldTransform,e=d.resolution;d.context.setTransform(a.a*e,a.b*e,a.c*e,a.d*e,a.tx*e,a.ty*e);b._texture||(this.renderGraphicsShape(b),d.context.clip());b.worldAlpha=c};b.prototype.renderGraphicsShape=function(b){var d=this.renderer.context,c=b.graphicsData.length;if(0!==c){d.beginPath();for(var a=0;a<c;a++){var e=b.graphicsData[a],m=e.shape;if(e.type===k.SHAPES.POLY){e=m.points;d.moveTo(e[0],
e[1]);for(var g=1;g<e.length/2;g++)d.lineTo(e[2*g],e[2*g+1]);e[0]===e[e.length-2]&&e[1]===e[e.length-1]&&d.closePath()}else if(e.type===k.SHAPES.RECT)d.rect(m.x,m.y,m.width,m.height),d.closePath();else if(e.type===k.SHAPES.CIRC)d.arc(m.x,m.y,m.radius,0,2*Math.PI),d.closePath();else if(e.type===k.SHAPES.ELIP){var n=2*m.width,g=2*m.height,e=m.x-n/2,m=m.y-g/2,f=n/2*.5522848,l=g/2*.5522848,z=e+n,v=m+g,n=e+n/2,g=m+g/2;d.moveTo(e,g);d.bezierCurveTo(e,g-l,n-f,m,n,m);d.bezierCurveTo(n+f,m,z,g-l,z,g);d.bezierCurveTo(z,
g+l,n+f,v,n,v);d.bezierCurveTo(n-f,v,e,g+l,e,g);d.closePath()}else e.type===k.SHAPES.RREC&&(e=m.x,g=m.y,f=m.width,l=m.height,m=m.radius,z=Math.min(f,l)/2|0,m=m>z?z:m,d.moveTo(e,g+m),d.lineTo(e,g+l-m),d.quadraticCurveTo(e,g+l,e+m,g+l),d.lineTo(e+f-m,g+l),d.quadraticCurveTo(e+f,g+l,e+f,g+l-m),d.lineTo(e+f,g+m),d.quadraticCurveTo(e+f,g,e+f-m,g),d.lineTo(e+m,g),d.quadraticCurveTo(e,g,e,g+m),d.closePath())}}};b.prototype.popMask=function(b){b.context.restore()};b.prototype.destroy=function(){};return b}();
f["default"]=b},{"../../../const":44}],77:[function(b,l,f){f.__esModule=!0;var k=function(){function b(d,c){for(var a=0;a<c.length;a++){var b=c[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}return function(d,c,a){c&&b(d.prototype,c);a&&b(d,a);return d}}(),g=(b=b("../../../settings"))&&b.__esModule?b:{"default":b};b=function(){function b(d,c,a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.canvas=
document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=a||g["default"].RESOLUTION;this.resize(d,c)}b.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};b.prototype.resize=function(d,c){this.canvas.width=d*this.resolution;this.canvas.height=c*this.resolution};b.prototype.destroy=function(){this.canvas=this.context=null};k(b,[{key:"width",get:function(){return this.canvas.width},set:function(d){this.canvas.width=
d}},{key:"height",get:function(){return this.canvas.height},set:function(d){this.canvas.height=d}}]);return b}();f["default"]=b},{"../../../settings":99}],78:[function(b,l,f){function k(b){var e=document.createElement("canvas");e.width=6;e.height=1;var d=e.getContext("2d");d.fillStyle=b;d.fillRect(0,0,6,1);return e}f.__esModule=!0;f["default"]=function(){if("undefined"===typeof document)return!1;var b=k("#ff00ff"),e=k("#ffff00"),d=document.createElement("canvas");d.width=6;d.height=1;d=d.getContext("2d");
d.globalCompositeOperation="multiply";d.drawImage(b,0,0);d.drawImage(e,2,0);b=d.getImageData(2,0,1,1);if(!b)return!1;b=b.data;return 255===b[0]&&0===b[1]&&0===b[2]}},{}],79:[function(b,l,f){f.__esModule=!0;f["default"]=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,g["default"])()?(b[k.BLEND_MODES.NORMAL]="source-over",b[k.BLEND_MODES.ADD]="lighter",b[k.BLEND_MODES.MULTIPLY]="multiply",b[k.BLEND_MODES.SCREEN]="screen",b[k.BLEND_MODES.OVERLAY]="overlay",b[k.BLEND_MODES.DARKEN]=
"darken",b[k.BLEND_MODES.LIGHTEN]="lighten",b[k.BLEND_MODES.COLOR_DODGE]="color-dodge",b[k.BLEND_MODES.COLOR_BURN]="color-burn",b[k.BLEND_MODES.HARD_LIGHT]="hard-light",b[k.BLEND_MODES.SOFT_LIGHT]="soft-light",b[k.BLEND_MODES.DIFFERENCE]="difference",b[k.BLEND_MODES.EXCLUSION]="exclusion",b[k.BLEND_MODES.HUE]="hue",b[k.BLEND_MODES.SATURATION]="saturate",b[k.BLEND_MODES.COLOR]="color",b[k.BLEND_MODES.LUMINOSITY]="luminosity"):(b[k.BLEND_MODES.NORMAL]="source-over",b[k.BLEND_MODES.ADD]="lighter",b[k.BLEND_MODES.MULTIPLY]=
"source-over",b[k.BLEND_MODES.SCREEN]="source-over",b[k.BLEND_MODES.OVERLAY]="source-over",b[k.BLEND_MODES.DARKEN]="source-over",b[k.BLEND_MODES.LIGHTEN]="source-over",b[k.BLEND_MODES.COLOR_DODGE]="source-over",b[k.BLEND_MODES.COLOR_BURN]="source-over",b[k.BLEND_MODES.HARD_LIGHT]="source-over",b[k.BLEND_MODES.SOFT_LIGHT]="source-over",b[k.BLEND_MODES.DIFFERENCE]="source-over",b[k.BLEND_MODES.EXCLUSION]="source-over",b[k.BLEND_MODES.HUE]="source-over",b[k.BLEND_MODES.SATURATION]="source-over",b[k.BLEND_MODES.COLOR]=
"source-over",b[k.BLEND_MODES.LUMINOSITY]="source-over");return b};var k=b("../../../const"),g=(b=b("./canUseNewCanvasBlendModes"))&&b.__esModule?b:{"default":b}},{"../../../const":44,"./canUseNewCanvasBlendModes":78}],80:[function(b,l,f){f.__esModule=!0;var k=b("../../const"),g=(b=b("../../settings"))&&b.__esModule?b:{"default":b};b=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=d;this.checkCount=this.count=0;this.maxIdle=g["default"].GC_MAX_IDLE;
this.checkCountMax=g["default"].GC_MAX_CHECK_COUNT;this.mode=g["default"].GC_MODE}b.prototype.update=function(){this.count++;this.mode!==k.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))};b.prototype.run=function(){for(var d=this.renderer.textureManager,c=d._managedTextures,a=!1,b=0;b<c.length;b++){var e=c[b];!e._glRenderTargets&&this.count-e.touched>this.maxIdle&&(d.destroyTexture(e,!0),c[b]=null,a=!0)}if(a){for(a=d=0;a<c.length;a++)null!==
c[a]&&(c[d++]=c[a]);c.length=d}};b.prototype.unload=function(d){var c=this.renderer.textureManager;d._texture&&d._texture._glRenderTargets&&c.destroyTexture(d._texture,!0);for(c=d.children.length-1;0<=c;c--)this.unload(d.children[c])};return b}();f["default"]=b},{"../../const":44,"../../settings":99}],81:[function(b,l,f){f.__esModule=!0;var k=b("pixi-gl-core"),g=b("../../const"),e=(l=b("./utils/RenderTarget"))&&l.__esModule?l:{"default":l},d=b("../../utils");b=function(){function c(a){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");this.renderer=a;this.gl=a.gl;this._managedTextures=[]}c.prototype.bindTexture=function(){};c.prototype.getTexture=function(){};c.prototype.updateTexture=function(a,c){var d=this.gl,b=!!a._glRenderTargets;if(!a.hasLoaded)return null;var h=this.renderer.boundTextures;if(void 0===c)for(var f=c=0;f<h.length;++f)if(h[f]===a){c=f;break}h[c]=a;d.activeTexture(d.TEXTURE0+c);(d=a._glTextures[this.renderer.CONTEXT_UID])?b?a._glRenderTargets[this.renderer.CONTEXT_UID].resize(a.width,
a.height):d.upload(a.source):(b?(b=new e["default"](this.gl,a.width,a.height,a.scaleMode,a.resolution),b.resize(a.width,a.height),a._glRenderTargets[this.renderer.CONTEXT_UID]=b,d=b.texture):(d=new k.GLTexture(this.gl,null,null,null,null),d.bind(c),d.premultiplyAlpha=!0,d.upload(a.source)),a._glTextures[this.renderer.CONTEXT_UID]=d,a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,this),this._managedTextures.push(a),a.isPowerOfTwo?(a.mipmap&&d.enableMipmap(),a.wrapMode===g.WRAP_MODES.CLAMP?
d.enableWrapClamp():a.wrapMode===g.WRAP_MODES.REPEAT?d.enableWrapRepeat():d.enableWrapMirrorRepeat()):d.enableWrapClamp(),a.scaleMode===g.SCALE_MODES.NEAREST?d.enableNearestScaling():d.enableLinearScaling());return d};c.prototype.destroyTexture=function(a,c){a=a.baseTexture||a;if(a.hasLoaded&&a._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(a),a._glTextures[this.renderer.CONTEXT_UID].destroy(),a.off("update",this.updateTexture,this),a.off("dispose",this.destroyTexture,this),
delete a._glTextures[this.renderer.CONTEXT_UID],!c)){var b=this._managedTextures.indexOf(a);-1!==b&&(0,d.removeItems)(this._managedTextures,b,1)}};c.prototype.removeAll=function(){for(var a=0;a<this._managedTextures.length;++a){var c=this._managedTextures[a];c._glTextures[this.renderer.CONTEXT_UID]&&delete c._glTextures[this.renderer.CONTEXT_UID]}};c.prototype.destroy=function(){for(var a=0;a<this._managedTextures.length;++a){var c=this._managedTextures[a];this.destroyTexture(c,!0);c.off("update",
this.updateTexture,this);c.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return c}();f["default"]=b},{"../../const":44,"../../utils":120,"./utils/RenderTarget":94,"pixi-gl-core":12}],82:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;l=b("../SystemRenderer");var e=k(l);l=b("./managers/MaskManager");var d=k(l);l=b("./managers/StencilManager");var c=k(l);l=b("./managers/FilterManager");var a=k(l);l=b("./utils/RenderTarget");var h=k(l);l=b("./utils/ObjectRenderer");var m=k(l);l=b("./TextureManager");var p=k(l);l=b("../../textures/BaseTexture");var n=k(l);l=b("./TextureGarbageCollector");var q=k(l);l=b("./WebGLState");var w=k(l);
l=b("./utils/mapWebGLDrawModesToPixi");var z=k(l);l=b("./utils/validateContext");var v=k(l);l=b("../../utils");var r=b("pixi-gl-core"),x=k(r),t=b("../../const"),y=0;b=function(b){function f(e,h){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var n;n=b.call(this,"WebGL",e,h,g);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");n=!n||"object"!==typeof n&&"function"!==
typeof n?this:n;n.legacy=!!g.legacy;n.legacy&&(x["default"].VertexArrayObject.FORCE_NATIVE=!0);n.type=t.RENDERER_TYPE.WEBGL;n.handleContextLost=n.handleContextLost.bind(n);n.handleContextRestored=n.handleContextRestored.bind(n);n.view.addEventListener("webglcontextlost",n.handleContextLost,!1);n.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1);n._contextOptions={alpha:n.transparent,antialias:g.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,
preserveDrawingBuffer:g.preserveDrawingBuffer};n._backgroundColorRgba[3]=n.transparent?0:1;n.maskManager=new d["default"](n);n.stencilManager=new c["default"](n);n.emptyRenderer=new m["default"](n);n.currentRenderer=n.emptyRenderer;n.initPlugins();g.context&&(0,v["default"])(g.context);n.gl=g.context||x["default"].createContext(n.view,n._contextOptions);n.CONTEXT_UID=y++;n.state=new w["default"](n.gl);n.renderingToScreen=!0;n.boundTextures=null;n._activeShader=null;n._activeVao=null;n._activeRenderTarget=
null;n._initContext();n.filterManager=new a["default"](n);n.drawModes=(0,z["default"])(n.gl);n._nextTextureLocation=0;n.setBlendMode(0);return n}g(f,b);f.prototype._initContext=function(){var a=this.gl;a.isContextLost()&&a.getExtension("WEBGL_lose_context")&&a.getExtension("WEBGL_lose_context").restoreContext();var c=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=Array(c);this.emptyTextures=Array(c);this.textureManager=new p["default"](this);this.textureGC=new q["default"](this);this.state.resetToDefault();
this.rootRenderTarget=new h["default"](a,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var d=new x["default"].GLTexture.fromData(a,null,1,1),b={_glTextures:{}};b._glTextures[this.CONTEXT_UID]={};for(var e=0;e<c;e++){var m=new n["default"];m._glTextures[this.CONTEXT_UID]=d;this.boundTextures[e]=b;this.emptyTextures[e]=m;this.bindTexture(null,e)}this.emit("context",a);this.resize(this.screen.width,
this.screen.height)};f.prototype.render=function(a,c,d,b,e){this.renderingToScreen=!c;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,c||(this._lastObjectRendered=a),e||(e=a.parent,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=e),this.bindRenderTexture(c,b),this.currentRenderer.start(),(void 0!==d?d:this.clearBeforeRender)&&this._activeRenderTarget.clear(),a.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))};
f.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())};f.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};f.prototype.resize=function(a,c){e["default"].prototype.resize.call(this,a,c);this.rootRenderTarget.resize(a,c);this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};
f.prototype.setBlendMode=function(a){this.state.setBlendMode(a)};f.prototype.clear=function(a){this._activeRenderTarget.clear(a)};f.prototype.setTransform=function(a){this._activeRenderTarget.transform=a};f.prototype.clearRenderTexture=function(a,c){var d=a.baseTexture._glRenderTargets[this.CONTEXT_UID];d&&d.clear(c);return this};f.prototype.bindRenderTexture=function(a,c){var d;a?(d=a.baseTexture,d._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(d,0),this.unbindTexture(d),d=
d._glRenderTargets[this.CONTEXT_UID],d.setFrame(a.frame)):d=this.rootRenderTarget;d.transform=c;this.bindRenderTarget(d);return this};f.prototype.bindRenderTarget=function(a){a!==this._activeRenderTarget&&(this._activeRenderTarget=a,a.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=a.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(a.stencilMaskStack));return this};f.prototype.bindShader=function(a,c){this._activeShader!==a&&(this._activeShader=a,a.bind(),
!1!==c&&(a.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)));return this};f.prototype.bindTexture=function(a,c,d){a=a||this.emptyTextures[c];a=a.baseTexture||a;a.touched=this.textureGC.count;if(d)c=c||0;else{for(d=0;d<this.boundTextures.length;d++)if(this.boundTextures[d]===a)return d;void 0===c&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,c=this.boundTextures.length-this._nextTextureLocation-1)}d=this.gl;var b=a._glTextures[this.CONTEXT_UID];
b?(this.boundTextures[c]=a,d.activeTexture(d.TEXTURE0+c),d.bindTexture(d.TEXTURE_2D,b.texture)):this.textureManager.updateTexture(a,c);return c};f.prototype.unbindTexture=function(a){var c=this.gl;a=a.baseTexture||a;for(var d=0;d<this.boundTextures.length;d++)this.boundTextures[d]===a&&(this.boundTextures[d]=this.emptyTextures[d],c.activeTexture(c.TEXTURE0+d),c.bindTexture(c.TEXTURE_2D,this.emptyTextures[d]._glTextures[this.CONTEXT_UID].texture));return this};f.prototype.createVao=function(){return new x["default"].VertexArrayObject(this.gl,
this.state.attribState)};f.prototype.bindVao=function(a){if(this._activeVao===a)return this;a?a.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=a;return this};f.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;this.rootRenderTarget.activate();this.state.resetToDefault();return this};f.prototype.handleContextLost=function(a){a.preventDefault()};f.prototype.handleContextRestored=function(){this._initContext();
this.textureManager.removeAll()};f.prototype.destroy=function(a){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();b.prototype.destroy.call(this,a);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=
this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext();this.gl=null};return f}(e["default"]);f["default"]=b;l.pluginTarget.mixin(b)},{"../../const":44,"../../textures/BaseTexture":109,"../../utils":120,"../SystemRenderer":74,"./TextureGarbageCollector":80,"./TextureManager":81,"./WebGLState":83,"./managers/FilterManager":88,"./managers/MaskManager":89,"./managers/StencilManager":90,"./utils/ObjectRenderer":92,
"./utils/RenderTarget":94,"./utils/mapWebGLDrawModesToPixi":97,"./utils/validateContext":98,"pixi-gl-core":12}],83:[function(b,l,f){f.__esModule=!0;var k=(b=b("./utils/mapWebGLBlendModesToPixi"))&&b.__esModule?b:{"default":b};b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=e;this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS);
this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};this.blendModes=(0,k["default"])(e);this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}b.prototype.push=function(){var b=this.stack[this.stackIndex];b||(b=this.stack[this.stackIndex]=new Uint8Array(16));++this.stackIndex;for(var d=0;d<this.activeState.length;d++)b[d]=this.activeState[d]};b.prototype.pop=
function(){var b=this.stack[--this.stackIndex];this.setState(b)};b.prototype.setState=function(b){this.setBlend(b[0]);this.setDepthTest(b[1]);this.setFrontFace(b[2]);this.setCullFace(b[3]);this.setBlendMode(b[4])};b.prototype.setBlend=function(b){b=b?1:0;this.activeState[0]!==b&&(this.activeState[0]=b,this.gl[b?"enable":"disable"](this.gl.BLEND))};b.prototype.setBlendMode=function(b){b!==this.activeState[4]&&(this.activeState[4]=b,this.gl.blendFunc(this.blendModes[b][0],this.blendModes[b][1]))};b.prototype.setDepthTest=
function(b){b=b?1:0;this.activeState[1]!==b&&(this.activeState[1]=b,this.gl[b?"enable":"disable"](this.gl.DEPTH_TEST))};b.prototype.setCullFace=function(b){b=b?1:0;this.activeState[3]!==b&&(this.activeState[3]=b,this.gl[b?"enable":"disable"](this.gl.CULL_FACE))};b.prototype.setFrontFace=function(b){b=b?1:0;this.activeState[2]!==b&&(this.activeState[2]=b,this.gl.frontFace(this.gl[b?"CW":"CCW"]))};b.prototype.resetAttributes=function(){for(var b=0;b<this.attribState.tempAttribState.length;b++)this.attribState.tempAttribState[b]=
0;for(b=0;b<this.attribState.attribState.length;b++)this.attribState.attribState[b]=0;for(b=1;b<this.maxAttribs;b++)this.gl.disableVertexAttribArray(b)};b.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var b=0;b<this.activeState.length;++b)this.activeState[b]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1);this.setState(this.defaultState)};return b}();f["default"]=b},{"./utils/mapWebGLBlendModesToPixi":96}],
84:[function(b,l,f){f.__esModule=!0;var k=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),g=(l=b("./extractUniformsFromSrc"))&&l.__esModule?l:{"default":l},e=b("../../../utils"),d=b("../../../const"),c=(b=b("../../../settings"))&&b.__esModule?b:{"default":b},a={};b=function(){function b(h,f,n){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.vertexSrc=h||b.defaultVertexSrc;this.fragmentSrc=f||b.defaultFragmentSrc;this.blendMode=d.BLEND_MODES.NORMAL;this.uniformData=n||(0,g["default"])(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var m in this.uniformData)this.uniforms[m]=this.uniformData[m].value;this.glShaders={};a[this.vertexSrc+this.fragmentSrc]||(a[this.vertexSrc+this.fragmentSrc]=(0,e.uid)());this.glShaderKey=a[this.vertexSrc+this.fragmentSrc];
this.padding=4;this.resolution=c["default"].RESOLUTION;this.enabled=!0}b.prototype.apply=function(a,c,d,b,e){a.applyFilter(this,c,d,b)};k(b,null,[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},
{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]);
return b}();f["default"]=b},{"../../../const":44,"../../../settings":99,"../../../utils":120,"./extractUniformsFromSrc":85}],85:[function(b,l,f){function k(b){var d=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,c={},a;b=b.replace(/\s+/g," ").split(/\s*;\s*/);for(var e=0;e<b.length;e++){var m=b[e].trim();if(-1<m.indexOf("uniform")){a=m.split(" ");var m=a[1],f=a[2],n=1;-1<f.indexOf("[")&&(a=f.split(/\[|]/),f=a[0],n*=Number(a[1]));f.match(d)||(c[f]={value:g(m,n),name:f,type:m})}}return c}f.__esModule=
!0;f["default"]=function(b,d,c){b=k(b,c);d=k(d,c);return Object.assign(b,d)};b=b("pixi-gl-core");var g=(b&&b.__esModule?b:{"default":b})["default"].shader.defaultValue},{"pixi-gl-core":12}],86:[function(b,l,f){f.__esModule=!0;f.calculateScreenSpaceMatrix=function(b,e,d){b=b.identity();b.translate(e.x/d.width,e.y/d.height);b.scale(d.width,d.height);return b};f.calculateNormalizedScreenSpaceMatrix=function(b,e,d){b=b.identity();b.translate(e.x/d.width,e.y/d.height);b.scale(d.width/e.width,d.height/
e.height);return b};f.calculateSpriteMatrix=function(b,e,d,c){var a=c.worldTransform.copy(k.Matrix.TEMP_MATRIX),h=c._texture.baseTexture;b=b.identity();var m=d.height/d.width;b.translate(e.x/d.width,e.y/d.height);b.scale(1,m);e=d.width/h.width;d=d.height/h.height;a.tx/=h.width*e;a.ty/=h.width*e;a.invert();b.prepend(a);b.scale(1,1/m);b.scale(e,d);b.translate(c.anchor.x,c.anchor.y);return b};var k=b("../../../math")},{"../../../math":68}],87:[function(b,l,f){function k(b,d){if("function"!==typeof d&&
null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;l=(l=b("../Filter"))&&l.__esModule?l:{"default":l};var g=b("../../../../math");b("path");b=function(b){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a=new g.Matrix,
e;e=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;c.renderable=!1;e.maskSprite=c;e.maskMatrix=a;return e}k(d,b);d.prototype.apply=function(c,a,d){var b=this.maskSprite;this.uniforms.mask=b._texture;this.uniforms.otherMatrix=c.calculateSpriteMatrix(this.maskMatrix,b);this.uniforms.alpha=b.worldAlpha;c.applyFilter(this,a,d)};return d}(l["default"]);f["default"]=b},{"../../../../math":68,"../Filter":84,
path:22}],88:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function e(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}f.__esModule=
!0;l=b("./WebGLManager");l=k(l);var d=b("../utils/RenderTarget"),c=k(d),d=b("../utils/Quad"),a=k(d),h=b("../../../math"),d=b("../../../Shader"),m=k(d),p=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);c["default"]=a;return c}(b("../filters/filterTransforms"));b=b("bit-twiddle");var n=k(b),q=function z(){e(this,z);this.renderTarget=null;this.sourceFrame=new h.Rectangle;this.destinationFrame=new h.Rectangle;this.filters=
[];this.target=null;this.resolution=1};b=function(d){function b(c){e(this,b);var h;h=d.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.gl=h.renderer.gl;h.quad=new a["default"](h.gl,c.state.attribState);h.shaderCache={};h.pool={};h.filterData=null;return h}g(b,d);b.prototype.pushFilter=function(a,c){var d=this.renderer,b=this.filterData;if(!b){var e=new q;e.sourceFrame=e.destinationFrame=
this.renderer._activeRenderTarget.size;e.renderTarget=d._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=b={index:0,stack:[e]}}(e=b.stack[++b.index])||(e=b.stack[b.index]=new q);var h=c[0].resolution,m=c[0].padding|0,g=a.filterArea||a.getBounds(!0),n=e.sourceFrame,f=e.destinationFrame;n.x=(g.x*h|0)/h;n.y=(g.y*h|0)/h;n.width=(g.width*h|0)/h;n.height=(g.height*h|0)/h;b.stack[0].renderTarget.transform||n.fit(b.stack[0].destinationFrame);n.pad(m);f.width=n.width;f.height=
n.height;b=this.getPotRenderTarget(d.gl,n.width,n.height,h);e.target=a;e.filters=c;e.resolution=h;e.renderTarget=b;b.setFrame(f,n);d.bindRenderTarget(b);b.clear()};b.prototype.popFilter=function(){var a=this.filterData,c=a.stack[a.index-1],d=a.stack[a.index];this.quad.map(d.renderTarget.size,d.sourceFrame).upload();var b=d.filters;if(1===b.length)b[0].apply(this,d.renderTarget,c.renderTarget,!1,d),this.freePotRenderTarget(d.renderTarget);else{var e=d.renderTarget,h=this.getPotRenderTarget(this.renderer.gl,
d.sourceFrame.width,d.sourceFrame.height,d.resolution);h.setFrame(d.destinationFrame,d.sourceFrame);h.clear();var m;for(m=0;m<b.length-1;++m){b[m].apply(this,e,h,!0,d);var g=e,e=h,h=g}b[m].apply(this,e,c.renderTarget,!1,d);this.freePotRenderTarget(e);this.freePotRenderTarget(h)}a.index--;0===a.index&&(this.filterData=null)};b.prototype.applyFilter=function(a,c,d,b){var e=this.renderer,h=e.gl,g=a.glShaders[e.CONTEXT_UID];g||(a.glShaderKey?(g=this.shaderCache[a.glShaderKey],g||(g=new m["default"](this.gl,
a.vertexSrc,a.fragmentSrc),a.glShaders[e.CONTEXT_UID]=this.shaderCache[a.glShaderKey]=g)):g=a.glShaders[e.CONTEXT_UID]=new m["default"](this.gl,a.vertexSrc,a.fragmentSrc),e.bindVao(null),this.quad.initVao(g));e.bindVao(this.quad.vao);e.bindRenderTarget(d);b&&(h.disable(h.SCISSOR_TEST),e.clear(),h.enable(h.SCISSOR_TEST));d===e.maskManager.scissorRenderTarget&&e.maskManager.pushScissorMask(null,e.maskManager.scissorData);e.bindShader(g);d=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=
d;this.syncUniforms(g,a);e.state.setBlendMode(a.blendMode);h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,c.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);h.bindTexture(h.TEXTURE_2D,d._glTextures[this.renderer.CONTEXT_UID].texture)};b.prototype.syncUniforms=function(a,c){var d=c.uniformData,b=c.uniforms,e=1,h=void 0;if(a.uniforms.filterArea){var h=this.filterData.stack[this.filterData.index],m=a.uniforms.filterArea;m[0]=h.renderTarget.size.width;m[1]=h.renderTarget.size.height;
m[2]=h.sourceFrame.x;m[3]=h.sourceFrame.y;a.uniforms.filterArea=m}a.uniforms.filterClamp&&(h=h||this.filterData.stack[this.filterData.index],m=a.uniforms.filterClamp,m[0]=0,m[1]=0,m[2]=(h.sourceFrame.width-1)/h.renderTarget.size.width,m[3]=(h.sourceFrame.height-1)/h.renderTarget.size.height,a.uniforms.filterClamp=m);for(var g in d)"sampler2D"===d[g].type&&0!==b[g]?(b[g].baseTexture?a.uniforms[g]=this.renderer.bindTexture(b[g].baseTexture,e):(a.uniforms[g]=e,h=this.renderer.gl,this.renderer.boundTextures[e]=
this.renderer.emptyTextures[e],h.activeTexture(h.TEXTURE0+e),b[g].texture.bind()),e++):"mat3"===d[g].type?a.uniforms[g]=void 0!==b[g].a?b[g].toArray(!0):b[g]:"vec2"===d[g].type?void 0!==b[g].x?(h=a.uniforms[g]||new Float32Array(2),h[0]=b[g].x,h[1]=b[g].y,a.uniforms[g]=h):a.uniforms[g]=b[g]:"float"===d[g].type?a.uniforms.data[g].value!==d[g]&&(a.uniforms[g]=b[g]):a.uniforms[g]=b[g]};b.prototype.getRenderTarget=function(a,c){var d=this.filterData.stack[this.filterData.index],b=this.getPotRenderTarget(this.renderer.gl,
d.sourceFrame.width,d.sourceFrame.height,c||d.resolution);b.setFrame(d.destinationFrame,d.sourceFrame);return b};b.prototype.returnRenderTarget=function(a){this.freePotRenderTarget(a)};b.prototype.calculateScreenSpaceMatrix=function(a){var c=this.filterData.stack[this.filterData.index];return p.calculateScreenSpaceMatrix(a,c.sourceFrame,c.renderTarget.size)};b.prototype.calculateNormalizedScreenSpaceMatrix=function(a){var c=this.filterData.stack[this.filterData.index];return p.calculateNormalizedScreenSpaceMatrix(a,
c.sourceFrame,c.renderTarget.size,c.destinationFrame)};b.prototype.calculateSpriteMatrix=function(a,c){var d=this.filterData.stack[this.filterData.index];return p.calculateSpriteMatrix(a,d.sourceFrame,d.renderTarget.size,c)};b.prototype.destroy=function(){this.shaderCache={};this.emptyPool()};b.prototype.getPotRenderTarget=function(a,d,b,e){d=n["default"].nextPow2(d*e);b=n["default"].nextPow2(b*e);var h=(d&65535)<<16|b&65535;this.pool[h]||(this.pool[h]=[]);h=this.pool[h].pop();if(!h){var m=this.renderer.boundTextures[0];
a.activeTexture(a.TEXTURE0);h=new c["default"](a,d,b,null,1);a.bindTexture(a.TEXTURE_2D,m._glTextures[this.renderer.CONTEXT_UID].texture)}h.resolution=e;h.defaultFrame.width=h.size.width=d/e;h.defaultFrame.height=h.size.height=b/e;return h};b.prototype.emptyPool=function(){for(var a in this.pool){var c=this.pool[a];if(c)for(var d=0;d<c.length;d++)c[d].destroy(!0)}this.pool={}};b.prototype.freePotRenderTarget=function(a){this.pool[(a.size.width*a.resolution&65535)<<16|a.size.height*a.resolution&65535].push(a)};
return b}(l["default"]);f["default"]=b},{"../../../Shader":42,"../../../math":68,"../filters/filterTransforms":86,"../utils/Quad":93,"../utils/RenderTarget":94,"./WebGLManager":91,"bit-twiddle":1}],89:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
d):b.__proto__=d)}f.__esModule=!0;l=(l=b("./WebGLManager"))&&l.__esModule?l:{"default":l};var g=(b=b("../filters/spriteMask/SpriteMaskFilter"))&&b.__esModule?b:{"default":b};b=function(b){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.scissor=!1;c.scissorData=null;c.scissorRenderTarget=
null;c.enableScissor=!0;c.alphaMaskPool=[];c.alphaMaskIndex=0;return c}k(d,b);d.prototype.pushMask=function(c,a){if(a.texture)this.pushSpriteMask(c,a);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&a.isFastRect()){var d=a.worldTransform,d=Math.atan2(d.b,d.a),d=Math.round(180/Math.PI*d);d%90?this.pushStencilMask(a):this.pushScissorMask(c,a)}else this.pushStencilMask(a)};d.prototype.popMask=function(c,a){a.texture?
this.popSpriteMask(c,a):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(c,a):this.popStencilMask(c,a)};d.prototype.pushSpriteMask=function(c,a){var d=this.alphaMaskPool[this.alphaMaskIndex];d||(d=this.alphaMaskPool[this.alphaMaskIndex]=[new g["default"](a)]);d[0].resolution=this.renderer.resolution;d[0].maskSprite=a;c.filterArea=a.getBounds(!0);this.renderer.filterManager.pushFilter(c,d);this.alphaMaskIndex++};d.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter();
this.alphaMaskIndex--};d.prototype.pushStencilMask=function(c){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(c)};d.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};d.prototype.pushScissorMask=function(c,a){a.renderable=!0;var d=this.renderer._activeRenderTarget,b=a.getBounds();b.fit(d.size);a.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var e=this.renderer.resolution;this.renderer.gl.scissor(b.x*
e,(d.root?d.size.height-b.y-b.height:b.y)*e,b.width*e,b.height*e);this.scissorRenderTarget=d;this.scissorData=a;this.scissor=!0};d.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=!1;var c=this.renderer.gl;c.disable(c.SCISSOR_TEST)};return d}(l["default"]);f["default"]=b},{"../filters/spriteMask/SpriteMaskFilter":87,"./WebGLManager":91}],90:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;var g=(b=b("./WebGLManager"))&&b.__esModule?b:{"default":b};b=function(b){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&
"function"!==typeof c?this:c;c.stencilMaskStack=null;return c}k(d,b);d.prototype.setMaskStack=function(c){this.stencilMaskStack=c;var a=this.renderer.gl;0===c.length?a.disable(a.STENCIL_TEST):a.enable(a.STENCIL_TEST)};d.prototype.pushStencil=function(c){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var a=this.renderer.gl,d=this.stencilMaskStack;0===d.length&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),a.stencilFunc(a.ALWAYS,
1,1));d.push(c);a.colorMask(!1,!1,!1,!1);a.stencilOp(a.KEEP,a.KEEP,a.INCR);this.renderer.plugins.graphics.render(c);a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.NOTEQUAL,0,d.length);a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};d.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var c=this.renderer.gl,a=this.stencilMaskStack,d=a.pop();0===a.length?c.disable(c.STENCIL_TEST):(c.colorMask(!1,!1,!1,!1),c.stencilOp(c.KEEP,c.KEEP,c.DECR),this.renderer.plugins.graphics.render(d),
c.colorMask(!0,!0,!0,!0),c.stencilFunc(c.NOTEQUAL,0,a.length),c.stencilOp(c.KEEP,c.KEEP,c.KEEP))};d.prototype.destroy=function(){g["default"].prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null};return d}(g["default"]);f["default"]=b},{"./WebGLManager":91}],91:[function(b,l,f){f.__esModule=!0;b=function(){function b(g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=g;this.renderer.on("context",this.onContextChange,this)}b.prototype.onContextChange=
function(){};b.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this);this.renderer=null};return b}();f["default"]=b},{}],92:[function(b,l,f){function k(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}f.__esModule=!0;
b=b("../managers/WebGLManager");b=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var d=b.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}k(e,b);e.prototype.start=function(){};e.prototype.stop=function(){this.flush()};e.prototype.flush=function(){};e.prototype.render=function(d){};return e}((b&&b.__esModule?b:{"default":b})["default"]);
f["default"]=b},{"../managers/WebGLManager":91}],93:[function(b,l,f){f.__esModule=!0;var k=(l=b("pixi-gl-core"))&&l.__esModule?l:{"default":l},g=(b=b("../../../utils/createIndicesForQuads"))&&b.__esModule?b:{"default":b};b=function(){function b(d,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.gl=d;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(16);for(var a=0;4>a;a++)this.interleaved[4*
a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];this.indices=(0,g["default"])(1);this.vertexBuffer=k["default"].GLBuffer.createVertexBuffer(d,this.interleaved,d.STATIC_DRAW);this.indexBuffer=k["default"].GLBuffer.createIndexBuffer(d,this.indices,d.STATIC_DRAW);this.vao=new k["default"].VertexArrayObject(d,c)}b.prototype.initVao=function(d){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,
d.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,d.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)};b.prototype.map=function(d,c){var a=0,b=0;this.uvs[0]=a;this.uvs[1]=b;this.uvs[2]=a+c.width/d.width;this.uvs[3]=b;this.uvs[4]=a+c.width/d.width;this.uvs[5]=b+c.height/d.height;this.uvs[6]=a;this.uvs[7]=b+c.height/d.height;a=c.x;b=c.y;this.vertices[0]=a;this.vertices[1]=b;this.vertices[2]=a+c.width;this.vertices[3]=b;this.vertices[4]=a+c.width;this.vertices[5]=b+c.height;
this.vertices[6]=a;this.vertices[7]=b+c.height;return this};b.prototype.upload=function(){for(var d=0;4>d;d++)this.interleaved[4*d]=this.vertices[2*d],this.interleaved[4*d+1]=this.vertices[2*d+1],this.interleaved[4*d+2]=this.uvs[2*d],this.interleaved[4*d+3]=this.uvs[2*d+1];this.vertexBuffer.upload(this.interleaved);return this};b.prototype.destroy=function(){var d=this.gl;d.deleteBuffer(this.vertexBuffer);d.deleteBuffer(this.indexBuffer)};return b}();f["default"]=b},{"../../../utils/createIndicesForQuads":118,
"pixi-gl-core":12}],94:[function(b,l,f){f.__esModule=!0;var k=b("../../../math"),g=b("../../../const"),e=(l=b("../../../settings"))&&l.__esModule?l:{"default":l},d=b("pixi-gl-core");b=function(){function c(a,b,m,f,n,q){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.gl=a;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new k.Rectangle(0,0,1,1);this.resolution=n||e["default"].RESOLUTION;this.projectionMatrix=new k.Matrix;this.frame=this.transform=
null;this.defaultFrame=new k.Rectangle;this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=void 0!==f?f:e["default"].SCALE_MODE;(this.root=q)?(this.frameBuffer=new d.GLFramebuffer(a,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=d.GLFramebuffer.createRGBA(a,100,100),this.scaleMode===g.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=
this.frameBuffer.texture);this.setFrame();this.resize(b,m)}c.prototype.clear=function(a){a=a||this.clearColor;this.frameBuffer.clear(a[0],a[1],a[2],a[3])};c.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};c.prototype.setFrame=function(a,c){this.destinationFrame=a||this.destinationFrame||this.defaultFrame;this.sourceFrame=c||this.sourceFrame||a};c.prototype.activate=function(){var a=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,
this.sourceFrame);this.transform&&this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(a.enable(a.SCISSOR_TEST),a.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):a.disable(a.SCISSOR_TEST);a.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};c.prototype.calculateProjection=
function(a,c){var d=this.projectionMatrix;c=c||a;d.identity();this.root?(d.a=1/a.width*2,d.d=-1/a.height*2,d.tx=-1-c.x*d.a,d.ty=1-c.y*d.d):(d.a=1/a.width*2,d.d=1/a.height*2,d.tx=-1-c.x*d.a,d.ty=-1-c.y*d.d)};c.prototype.resize=function(a,c){a|=0;c|=0;if(this.size.width!==a||this.size.height!==c)this.size.width=a,this.size.height=c,this.defaultFrame.width=a,this.defaultFrame.height=c,this.frameBuffer.resize(a*this.resolution,c*this.resolution),this.calculateProjection(this.frame||this.size)};c.prototype.destroy=
function(){this.frameBuffer.destroy();this.texture=this.frameBuffer=null};return c}();f["default"]=b},{"../../../const":44,"../../../math":68,"../../../settings":99,"pixi-gl-core":12}],95:[function(b,l,f){function k(d){for(var c="",a=0;a<d;++a)0<a&&(c+="\nelse "),a<d-1&&(c+="if(test == "+a+".0){}");return c}f.__esModule=!0;f["default"]=function(d,c){var a=!c;if(0===d)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(a){var b=document.createElement("canvas");b.width=1;
b.height=1;c=g["default"].createContext(b)}for(b=c.createShader(c.FRAGMENT_SHADER);;){var m=e.replace(/%forloop%/gi,k(d));c.shaderSource(b,m);c.compileShader(b);if(c.getShaderParameter(b,c.COMPILE_STATUS))break;else d=d/2|0}a&&c.getExtension("WEBGL_lose_context")&&c.getExtension("WEBGL_lose_context").loseContext();return d};var g=(b=b("pixi-gl-core"))&&b.__esModule?b:{"default":b},e="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},{"pixi-gl-core":12}],
96:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];e[k.BLEND_MODES.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.ADD]=[b.ONE,b.DST_ALPHA];e[k.BLEND_MODES.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR];e[k.BLEND_MODES.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.COLOR_DODGE]=
[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.COLOR_BURN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.EXCLUSION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[k.BLEND_MODES.LUMINOSITY]=
[b.ONE,b.ONE_MINUS_SRC_ALPHA];return e};var k=b("../../../const")},{"../../../const":44}],97:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e[k.DRAW_MODES.POINTS]=b.POINTS;e[k.DRAW_MODES.LINES]=b.LINES;e[k.DRAW_MODES.LINE_LOOP]=b.LINE_LOOP;e[k.DRAW_MODES.LINE_STRIP]=b.LINE_STRIP;e[k.DRAW_MODES.TRIANGLES]=b.TRIANGLES;e[k.DRAW_MODES.TRIANGLE_STRIP]=b.TRIANGLE_STRIP;e[k.DRAW_MODES.TRIANGLE_FAN]=b.TRIANGLE_FAN;return e};var k=
b("../../../const")},{"../../../const":44}],98:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){b.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],99:[function(b,l,f){f.__esModule=!0;l=(l=b("./utils/maxRecommendedTextures"))&&l.__esModule?l:{"default":l};b=(b=b("./utils/canUploadSameBuffer"))&&b.__esModule?b:{"default":b};f["default"]={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,
SPRITE_MAX_TEXTURES:(0,l["default"])(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,b["default"])()}},{"./utils/canUploadSameBuffer":117,"./utils/maxRecommendedTextures":121}],
100:[function(b,l,f){function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var g=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);
Object.defineProperty(a,b.key,b)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),e=b("../math"),d=b("../utils"),c=b("../const"),a=(l=b("../textures/Texture"))&&l.__esModule?l:{"default":l};b=(b=b("../display/Container"))&&b.__esModule?b:{"default":b};var h=new e.Point;b=function(b){function m(d){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h._anchor=new e.ObservablePoint(h._onAnchorUpdate,h);h._texture=null;h._width=0;h._height=0;h._tint=null;h._tintRGB=null;h.tint=16777215;h.blendMode=c.BLEND_MODES.NORMAL;h.shader=null;h.cachedTint=16777215;h.texture=d||a["default"].EMPTY;h.vertexData=new Float32Array(8);h.vertexTrimmedData=null;h._transformID=-1;h._textureID=-1;h._transformTrimmedID=-1;h._textureTrimmedID=-1;h.pluginName="sprite";return h}k(m,b);m.prototype._onTextureUpdate=
function(){this._textureTrimmedID=this._textureID=-1;this._width&&(this.scale.x=(0,d.sign)(this.scale.x)*this._width/this.texture.orig.width);this._height&&(this.scale.y=(0,d.sign)(this.scale.y)*this._height/this.texture.orig.height)};m.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=-1};m.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID;this._textureID=
this._texture._updateID;var a=this._texture,c=this.transform.worldTransform,d=c.a,b=c.b,e=c.c,h=c.d,m=c.tx,c=c.ty,g=this.vertexData,f=a.trim,k=a.orig,l=this._anchor,p;f?(p=f.x-l._x*k.width,a=p+f.width,l=f.y-l._y*k.height,f=l+f.height):(p=-l._x*k.width,a=p+k.width,l=-l._y*k.height,f=l+k.height);g[0]=d*p+e*l+m;g[1]=h*l+b*p+c;g[2]=d*a+e*l+m;g[3]=h*l+b*a+c;g[4]=d*a+e*f+m;g[5]=h*f+b*a+c;g[6]=d*p+e*f+m;g[7]=h*f+b*p+c}};m.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=
new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var a=this.vertexTrimmedData,c=this._texture.orig,d=this._anchor,b=this.transform.worldTransform,e=b.a,h=b.b,m=b.c,g=b.d,f=b.tx,b=b.ty,k=-d._x*c.width,l=k+c.width,d=-d._y*c.height,c=d+c.height;a[0]=e*k+m*d+f;a[1]=g*d+h*k+b;a[2]=e*l+m*d+f;a[3]=g*d+h*l+b;a[4]=e*l+m*c+f;a[5]=
g*c+h*l+b;a[6]=e*k+m*c+f;a[7]=g*c+h*k+b};m.prototype._renderWebGL=function(a){this.calculateVertices();a.setObjectRenderer(a.plugins[this.pluginName]);a.plugins[this.pluginName].render(this)};m.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};m.prototype._calculateBounds=function(){var a=this._texture.trim,c=this._texture.orig;!a||a.width===c.width&&a.height===c.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};
m.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),a||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),a=this._localBoundsRect),this._bounds.getRectangle(a)):b.prototype.getLocalBounds.call(this,a)};m.prototype.containsPoint=
function(a){this.worldTransform.applyInverse(a,h);var c=this._texture.orig.width;a=this._texture.orig.height;var d=-c*this.anchor.x;return h.x>d&&h.x<d+c&&(c=-a*this.anchor.y,h.y>c&&h.y<c+a)?!0:!1};m.prototype.destroy=function(a){b.prototype.destroy.call(this,a);this._anchor=null;("boolean"===typeof a?a:a&&a.texture)&&this._texture.destroy(!!("boolean"===typeof a?a:a&&a.baseTexture));this.shader=this._texture=null};m.from=function(c){return new m(a["default"].from(c))};m.fromFrame=function(a){var c=
d.TextureCache[a];if(!c)throw Error('The frameId "'+a+'" does not exist in the texture cache');return new m(c)};m.fromImage=function(c,d,b){return new m(a["default"].fromImage(c,d,b))};g(m,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){var c=(0,d.sign)(this.scale.x)||1;this.scale.x=c*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){var c=(0,d.sign)(this.scale.y)||
1;this.scale.y=c*a/this._texture.orig.height;this._height=a}},{key:"anchor",get:function(){return this._anchor},set:function(a){this._anchor.copy(a)}},{key:"tint",get:function(){return this._tint},set:function(a){this._tint=a;this._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a,this.cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();
else a.once("update",this._onTextureUpdate,this)}}]);return m}(b["default"]);f["default"]=b},{"../const":44,"../display/Container":46,"../math":68,"../textures/Texture":112,"../utils":120}],101:[function(b,l,f){f.__esModule=!0;l=(l=b("../../renderers/canvas/CanvasRenderer"))&&l.__esModule?l:{"default":l};var k=b("../../const"),g=b("../../math"),e=(b=b("./CanvasTinter"))&&b.__esModule?b:{"default":b},d=new g.Matrix;b=function(){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.renderer=a}c.prototype.render=function(a){var c=a._texture,b=this.renderer,f=c._frame.width,n=c._frame.height,q=a.transform.worldTransform,l,z;0>=c.orig.width||0>=c.orig.height||!c.baseTexture.source||(b.setBlendMode(a.blendMode),c.valid&&(b.context.globalAlpha=a.worldAlpha,l=c.baseTexture.scaleMode===k.SCALE_MODES.LINEAR,b.smoothProperty&&b.context[b.smoothProperty]!==l&&(b.context[b.smoothProperty]=l),c.trim?(l=c.trim.width/2+c.trim.x-a.anchor.x*c.orig.width,z=c.trim.height/2+c.trim.y-a.anchor.y*
c.orig.height):(l=(.5-a.anchor.x)*c.orig.width,z=(.5-a.anchor.y)*c.orig.height),c.rotate&&(q.copy(d),q=d,g.GroupD8.matrixAppendRotationInv(q,c.rotate,l,z),z=l=0),l-=f/2,z-=n/2,b.roundPixels?(b.context.setTransform(q.a,q.b,q.c,q.d,q.tx*b.resolution|0,q.ty*b.resolution|0),l|=0,z|=0):b.context.setTransform(q.a,q.b,q.c,q.d,q.tx*b.resolution,q.ty*b.resolution),q=c.baseTexture.resolution,16777215!==a.tint?(a.cachedTint!==a.tint&&(a.cachedTint=a.tint,a.tintedTexture=e["default"].getTintedTexture(a,a.tint)),
b.context.drawImage(a.tintedTexture,0,0,f*q,n*q,l*b.resolution,z*b.resolution,f*b.resolution,n*b.resolution)):b.context.drawImage(c.baseTexture.source,c._frame.x*q,c._frame.y*q,f*q,n*q,l*b.resolution,z*b.resolution,f*b.resolution,n*b.resolution)))};c.prototype.destroy=function(){this.renderer=null};return c}();f["default"]=b;l["default"].registerPlugin("sprite",b)},{"../../const":44,"../../math":68,"../../renderers/canvas/CanvasRenderer":75,"./CanvasTinter":102}],102:[function(b,l,f){f.__esModule=
!0;var k=b("../../utils");b=(b=b("../../renderers/canvas/utils/canUseNewCanvasBlendModes"))&&b.__esModule?b:{"default":b};var g={getTintedTexture:function(b,d){var c=b.texture;d=g.roundColor(d);var a="#"+("00000"+(d|0).toString(16)).substr(-6);c.tintCache=c.tintCache||{};if(c.tintCache[a])return c.tintCache[a];var e=g.canvas||document.createElement("canvas");g.tintMethod(c,d,e);if(g.convertTintToImage){var m=new Image;m.src=e.toDataURL();c.tintCache[a]=m}else c.tintCache[a]=e,g.canvas=null;return e},
tintWithMultiply:function(b,d,c){var a=c.getContext("2d"),e=b._frame.clone(),m=b.baseTexture.resolution;e.x*=m;e.y*=m;e.width*=m;e.height*=m;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);a.fillStyle="#"+("00000"+(d|0).toString(16)).substr(-6);a.fillRect(0,0,e.width,e.height);a.globalCompositeOperation="multiply";a.drawImage(b.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);a.globalCompositeOperation="destination-atop";a.drawImage(b.baseTexture.source,e.x,e.y,e.width,e.height,
0,0,e.width,e.height)},tintWithOverlay:function(b,d,c){var a=c.getContext("2d"),e=b._frame.clone(),m=b.baseTexture.resolution;e.x*=m;e.y*=m;e.width*=m;e.height*=m;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);a.globalCompositeOperation="copy";a.fillStyle="#"+("00000"+(d|0).toString(16)).substr(-6);a.fillRect(0,0,e.width,e.height);a.globalCompositeOperation="destination-atop";a.drawImage(b.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)},tintWithPerPixel:function(b,d,c){var a=
c.getContext("2d"),e=b._frame.clone(),m=b.baseTexture.resolution;e.x*=m;e.y*=m;e.width*=m;e.height*=m;c.width=Math.ceil(e.width);c.height=Math.ceil(e.height);a.globalCompositeOperation="copy";a.drawImage(b.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);c=(0,k.hex2rgb)(d);b=c[0];d=c[1];c=c[2];for(var e=a.getImageData(0,0,e.width,e.height),m=e.data,g=0;g<m.length;g+=4)m[g+0]*=b,m[g+1]*=d,m[g+2]*=c;a.putImageData(e,0,0)},roundColor:function(b){var d=g.cacheStepsPerColorChannel;b=(0,
k.hex2rgb)(b);b[0]=Math.min(255,b[0]/d*d);b[1]=Math.min(255,b[1]/d*d);b[2]=Math.min(255,b[2]/d*d);return(0,k.rgb2hex)(b)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,b["default"])(),tintMethod:0};g.tintMethod=g.canUseMultiply?g.tintWithMultiply:g.tintWithPerPixel;f["default"]=g},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":78,"../../utils":120}],103:[function(b,l,f){f.__esModule=!0;b=function(){function b(g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.vertices=new ArrayBuffer(g);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}b.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=null};return b}();f["default"]=b},{}],104:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;l=b("../../renderers/webgl/utils/ObjectRenderer");l=k(l);var e=b("../../renderers/webgl/WebGLRenderer"),e=k(e),d=b("../../utils/createIndicesForQuads"),c=k(d),d=b("./generateMultiTextureShader"),a=k(d),d=b("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),h=k(d),d=b("./BatchBuffer"),m=k(d),d=b("../../settings"),p=k(d),d=b("pixi-gl-core"),n=
k(d);b=b("bit-twiddle");var q=k(b),w=0,z=0;b=function(b){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=b.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.vertSize=5;a.vertByteSize=4*a.vertSize;a.size=p["default"].SPRITE_BATCH_SIZE;a.buffers=[];for(var e=1;e<=q["default"].nextPow2(a.size);e*=2)a.buffers.push(new m["default"](4*e*a.vertByteSize));
a.indices=(0,c["default"])(a.size);a.shader=null;a.currentIndex=0;a.groups=[];for(e=0;e<a.size;e++)a.groups[e]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};a.sprites=[];a.vertexBuffers=[];a.vaos=[];a.vaoMax=2;a.vertexCount=0;a.renderer.on("prerender",a.onPrerender,a);return a}g(d,b);d.prototype.onContextChange=function(){var c=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),p["default"].SPRITE_MAX_TEXTURES),
this.MAX_TEXTURES=(0,h["default"])(this.MAX_TEXTURES,c));var d=this.shader=(0,a["default"])(c,this.MAX_TEXTURES);this.indexBuffer=n["default"].GLBuffer.createIndexBuffer(c,this.indices,c.STATIC_DRAW);this.renderer.bindVao(null);for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]=n["default"].GLBuffer.createVertexBuffer(c,null,c.STREAM_DRAW),this.vaos[b]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[b],d.attributes.aVertexPosition,c.FLOAT,!1,this.vertByteSize,
0).addAttribute(this.vertexBuffers[b],d.attributes.aTextureCoord,c.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[b],d.attributes.aColor,c.UNSIGNED_BYTE,!0,this.vertByteSize,12),d.attributes.aTextureId&&this.vaos[b].addAttribute(this.vertexBuffers[b],d.attributes.aTextureId,c.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=Array(this.MAX_TEXTURES)};d.prototype.onPrerender=function(){this.vertexCount=0};d.prototype.render=
function(a){this.currentIndex>=this.size&&this.flush();a._texture._uvs&&(this.sprites[this.currentIndex++]=a)};d.prototype.flush=function(){if(0!==this.currentIndex){var a=this.renderer.gl,c=this.MAX_TEXTURES,d=q["default"].nextPow2(this.currentIndex),d=q["default"].log2(d),b=this.buffers[d],e=this.sprites,d=this.groups,h=b.float32View,m=b.uint32View,g=this.boundTextures,f=this.renderer.boundTextures,k=this.renderer.textureGC.count,l=0,v,r=void 0,U=1,Q=0,O=d[0],J,P,T=e[0].blendMode;O.textureCount=
0;O.start=0;O.blend=T;w++;var K;for(K=0;K<c;++K)g[K]=f[K],g[K]._virtalBoundId=K;for(K=0;K<this.currentIndex;++K){var S=e[K];v=S._texture.baseTexture;T!==S.blendMode&&(T=S.blendMode,r=null,Q=c,w++);if(r!==v&&(r=v,v._enabled!==w)){Q===c&&(w++,O.size=K-O.start,Q=0,O=d[U++],O.blend=T,O.textureCount=0,O.start=K);v.touched=k;if(-1===v._virtalBoundId)for(J=0;J<c;++J){P=(J+z)%c;var D=g[P];if(D._enabled!==w){z++;D._virtalBoundId=-1;v._virtalBoundId=P;g[P]=v;break}}v._enabled=w;O.textureCount++;O.ids[Q]=v._virtalBoundId;
O.textures[Q++]=v}J=S.vertexData;P=S._texture._uvs.uvsUint32;this.renderer.roundPixels?(D=this.renderer.resolution,h[l]=(J[0]*D|0)/D,h[l+1]=(J[1]*D|0)/D,h[l+5]=(J[2]*D|0)/D,h[l+6]=(J[3]*D|0)/D,h[l+10]=(J[4]*D|0)/D,h[l+11]=(J[5]*D|0)/D,h[l+15]=(J[6]*D|0)/D,h[l+16]=(J[7]*D|0)/D):(h[l]=J[0],h[l+1]=J[1],h[l+5]=J[2],h[l+6]=J[3],h[l+10]=J[4],h[l+11]=J[5],h[l+15]=J[6],h[l+16]=J[7]);m[l+2]=P[0];m[l+7]=P[1];m[l+12]=P[2];m[l+17]=P[3];m[l+3]=m[l+8]=m[l+13]=m[l+18]=S._tintRGB+(255*Math.min(S.worldAlpha,1)<<24);
h[l+4]=h[l+9]=h[l+14]=h[l+19]=v._virtalBoundId;l+=20}O.size=K-O.start;p["default"].CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(b.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=n["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,a.FLOAT,!1,this.vertByteSize,
0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,a.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12),this.shader.attributes.aTextureId&&this.vaos[this.vertexCount].addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,a.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(b.vertices,
0,!1),this.vertexCount++);for(K=0;K<c;++K)f[K]._virtalBoundId=-1;for(K=0;K<U;++K){c=d[K];b=c.textureCount;for(e=0;e<b;e++)r=c.textures[e],f[c.ids[e]]!==r&&this.renderer.bindTexture(r,c.ids[e],!0),r._virtalBoundId=-1;this.renderer.state.setBlendMode(c.blend);a.drawElements(a.TRIANGLES,6*c.size,a.UNSIGNED_SHORT,12*c.start)}this.currentIndex=0}};d.prototype.start=function(){this.renderer.bindShader(this.shader);p["default"].CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),
this.vertexBuffers[this.vertexCount].bind())};d.prototype.stop=function(){this.flush()};d.prototype.destroy=function(){for(var a=0;a<this.vaoMax;a++)this.vertexBuffers[a]&&this.vertexBuffers[a].destroy(),this.vaos[a]&&this.vaos[a].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);b.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;
for(a=0;a<this.buffers.length;++a)this.buffers[a].destroy()};return d}(l["default"]);f["default"]=b;e["default"].registerPlugin("sprite",b)},{"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":95,"../../settings":99,"../../utils/createIndicesForQuads":118,"./BatchBuffer":103,"./generateMultiTextureShader":105,"bit-twiddle":1,"pixi-gl-core":12}],105:[function(b,l,f){function k(d){var c;c="\n\n";for(var a=
0;a<d;a++)0<a&&(c+="\nelse "),a<d-1&&(c+="if(textureId == "+a+".0)"),c+="\n{",c+="\n\tcolor = texture2D(uSamplers["+a+"], vTextureCoord);",c+="\n}";return c+"\n\n"}f.__esModule=!0;f["default"]=function(d,c){for(var a=e,a=a.replace(/%count%/gi,c),a=a.replace(/%forloop%/gi,k(c)),a=new g["default"](d,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
a),b=[],m=0;m<c;m++)b[m]=m;a.bind();a.uniforms.uSamplers=b;return a};var g=(l=b("../../Shader"))&&l.__esModule?l:{"default":l};b("path");var e="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},{"../../Shader":42,path:22}],106:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==
typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,
d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}();l=b("../sprites/Sprite");l=k(l);var d=b("../textures/Texture"),c=k(d),a=b("../math"),h=b("../utils"),m=b("../const"),d=b("../settings"),p=k(d),d=b("./TextStyle"),n=k(d);b=b("../utils/trimCanvas");var q=k(b),w={texture:!0,children:!1,baseTexture:!0};b=function(d){function b(e,h,m){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");m=m||document.createElement("canvas");m.width=3;m.height=3;var g=c["default"].fromCanvas(m);
g.orig=new a.Rectangle;g.trim=new a.Rectangle;g=d.call(this,g);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.canvas=m;g.context=g.canvas.getContext("2d");g.resolution=p["default"].RESOLUTION;g._text=null;g._style=null;g._styleListener=null;g._font="";g.text=e;g.style=h;g.localStyleID=-1;return g}g(b,d);b.prototype.updateText=function(a){var c=this._style;this.localStyleID!==c.styleID&&(this.dirty=
!0,this.localStyleID=c.styleID);if(this.dirty||!a){this._font=b.getFontStyle(c);this.context.font=this._font;a=(c.wordWrap?this.wordWrap(this._text):this._text).split(/(?:\r\n|\r|\n)/);for(var d=Array(a.length),e=0,h=b.calculateFontProperties(this._font),m=0;m<a.length;m++){var g=this.context.measureText(a[m]).width+(a[m].length-1)*c.letterSpacing;d[m]=g;e=Math.max(e,g)}m=e+c.strokeThickness;c.dropShadow&&(m+=c.dropShadowDistance);this.canvas.width=Math.ceil((m+2*c.padding)*this.resolution);m=c.lineHeight||
h.fontSize+c.strokeThickness;g=Math.max(m,h.fontSize+c.strokeThickness)+(a.length-1)*m;c.dropShadow&&(g+=c.dropShadowDistance);this.canvas.height=Math.ceil((g+2*c.padding)*this.resolution);this.context.scale(this.resolution,this.resolution);this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=this._font;this.context.strokeStyle=c.stroke;this.context.lineWidth=c.strokeThickness;this.context.textBaseline=c.textBaseline;this.context.lineJoin=c.lineJoin;this.context.miterLimit=
c.miterLimit;var f;if(c.dropShadow){this.context.shadowBlur=c.dropShadowBlur;this.context.globalAlpha=c.dropShadowAlpha;0<c.dropShadowBlur?this.context.shadowColor=c.dropShadowColor:this.context.fillStyle=c.dropShadowColor;for(var n=Math.cos(c.dropShadowAngle)*c.dropShadowDistance,k=Math.sin(c.dropShadowAngle)*c.dropShadowDistance,l=0;l<a.length;l++)g=c.strokeThickness/2,f=c.strokeThickness/2+l*m+h.ascent,"right"===c.align?g+=e-d[l]:"center"===c.align&&(g+=(e-d[l])/2),c.fill&&(this.drawLetterSpacing(a[l],
g+n+c.padding,f+k+c.padding),c.stroke&&c.strokeThickness&&(this.context.strokeStyle=c.dropShadowColor,this.drawLetterSpacing(a[l],g+n+c.padding,f+k+c.padding,!0),this.context.strokeStyle=c.stroke))}this.context.shadowBlur=0;this.context.globalAlpha=1;this.context.fillStyle=this._generateFillStyle(c,a);for(n=0;n<a.length;n++)g=c.strokeThickness/2,f=c.strokeThickness/2+n*m+h.ascent,"right"===c.align?g+=e-d[n]:"center"===c.align&&(g+=(e-d[n])/2),c.stroke&&c.strokeThickness&&this.drawLetterSpacing(a[n],
g+c.padding,f+c.padding,!0),c.fill&&this.drawLetterSpacing(a[n],g+c.padding,f+c.padding);this.updateTexture()}};b.prototype.drawLetterSpacing=function(a,c,b){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=this._style.letterSpacing;if(0===e)d?this.context.strokeText(a,c,b):this.context.fillText(a,c,b);else for(var h=String.prototype.split.call(a,""),m=c,g=0,f;g<a.length;)f=h[g++],d?this.context.strokeText(f,m,b):this.context.fillText(f,m,b),m+=this.context.measureText(f).width+e};
b.prototype.updateTexture=function(){if(this._style.trim){var a=(0,q["default"])(this.canvas);this.canvas.width=a.width;this.canvas.height=a.height;this.context.putImageData(a.data,0,0)}var a=this._texture,c=this._style;a.baseTexture.hasLoaded=!0;a.baseTexture.resolution=this.resolution;a.baseTexture.realWidth=this.canvas.width;a.baseTexture.realHeight=this.canvas.height;a.baseTexture.width=this.canvas.width/this.resolution;a.baseTexture.height=this.canvas.height/this.resolution;a.trim.width=a._frame.width=
this.canvas.width/this.resolution;a.trim.height=a._frame.height=this.canvas.height/this.resolution;a.trim.x=-c.padding;a.trim.y=-c.padding;a.orig.width=a._frame.width-2*c.padding;a.orig.height=a._frame.height-2*c.padding;this._onTextureUpdate();a.baseTexture.emit("update",a.baseTexture);this.dirty=!1};b.prototype.renderWebGL=function(a){this.resolution!==a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);d.prototype.renderWebGL.call(this,a)};b.prototype._renderCanvas=function(a){this.resolution!==
a.resolution&&(this.resolution=a.resolution,this.dirty=!0);this.updateText(!0);d.prototype._renderCanvas.call(this,a)};b.prototype.wordWrap=function(a){var c="",b=this._style;a=a.split("\n");for(var d=b.wordWrapWidth,e=0;e<a.length;e++){for(var h=d,m=a[e].split(" "),g=0;g<m.length;g++){var f=this.context.measureText(m[g]).width;if(b.breakWords&&f>d)for(var f=m[g].split(""),n=0;n<f.length;n++){var k=this.context.measureText(f[n]).width;k>h?(c+="\n"+f[n],h=d-k):(0===n&&(c+=" "),c+=f[n],h-=k)}else n=
f+this.context.measureText(" ").width,0===g||n>h?(0<g&&(c+="\n"),c+=m[g],h=d-f):(h-=n,c+=" "+m[g])}e<a.length-1&&(c+="\n")}return c};b.prototype.getLocalBounds=function(a){this.updateText(!0);return d.prototype.getLocalBounds.call(this,a)};b.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};b.prototype._onStyleChange=function(){this.dirty=!0};b.prototype._generateFillStyle=function(a,c){if(!Array.isArray(a.fill))return a.fill;
if(navigator.isCocoonJS)return a.fill[0];var b,d,e,h;b=this.canvas.width/this.resolution;d=this.canvas.height/this.resolution;var g=a.fill.slice(),f=a.fillGradientStops.slice();if(!f.length)for(e=g.length+1,h=1;h<e;++h)f.push(h/e);g.unshift(a.fill[0]);f.unshift(0);g.push(a.fill[a.fill.length-1]);f.push(1);if(a.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL){b=this.context.createLinearGradient(b/2,0,b/2,d);d=(g.length+1)*c.length;for(var n=e=0;n<c.length;n++){e+=1;for(var k=0;k<g.length;k++)h=
f[k]?f[k]/c.length+n/c.length:e/d,b.addColorStop(h,g[k]),e++}}else for(b=this.context.createLinearGradient(0,d/2,b,d/2),d=g.length+1,e=1,n=0;n<g.length;n++)h=f[n]?f[n]:e/d,b.addColorStop(h,g[n]),e++;return b};b.prototype.destroy=function(a){"boolean"===typeof a&&(a={children:a});a=Object.assign({},w,a);d.prototype.destroy.call(this,a);this._style=this.canvas=this.context=null};b.getFontStyle=function(a){a=a||{};a instanceof n["default"]||(a=new n["default"](a));var c="number"===typeof a.fontSize?
a.fontSize+"px":a.fontSize,b=a.fontFamily;Array.isArray(a.fontFamily)||(b=a.fontFamily.split(","));for(var d=b.length-1;0<=d;d--){var e=b[d].trim();/([\"\'])[^\'\"]+\1/.test(e)||(e='"'+e+'"');b[d]=e}return a.fontStyle+" "+a.fontVariant+" "+a.fontWeight+" "+c+" "+b.join(",")};b.calculateFontProperties=function(a){if(b.fontPropertiesCache[a])return b.fontPropertiesCache[a];var c={},d=b.fontPropertiesCanvas,e=b.fontPropertiesContext;e.font=a;var h=Math.ceil(e.measureText("|M\u00c9q").width),m=Math.ceil(e.measureText("M").width),
g=2*m,m=1.4*m|0;d.width=h;d.height=g;e.fillStyle="#f00";e.fillRect(0,0,h,g);e.font=a;e.textBaseline="alphabetic";e.fillStyle="#000";e.fillText("|M\u00c9q",0,m);var d=e.getImageData(0,0,h,g).data,e=d.length,h=4*h,f,n=0,k=!1;for(f=0;f<m;++f){for(var l=0;l<h;l+=4)if(255!==d[n+l]){k=!0;break}if(k)break;else n+=h}c.ascent=m-f;n=e-h;k=!1;for(f=g;f>m;--f){for(g=0;g<h;g+=4)if(255!==d[n+g]){k=!0;break}if(k)break;else n-=h}c.descent=f-m;c.fontSize=c.ascent+c.descent;return b.fontPropertiesCache[a]=c};e(b,[{key:"width",
get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(a){this.updateText(!0);var c=(0,h.sign)(this.scale.x)||1;this.scale.x=c*a/this._texture.orig.width;this._width=a}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(a){this.updateText(!0);var c=(0,h.sign)(this.scale.y)||1;this.scale.y=c*a/this._texture.orig.height;this._height=a}},{key:"style",get:function(){return this._style},
set:function(a){a=a||{};this._style=a instanceof n["default"]?a:new n["default"](a);this.localStyleID=-1;this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(a){a=String(""===a||null===a||void 0===a?" ":a);this._text!==a&&(this._text=a,this.dirty=!0)}}]);return b}(l["default"]);f["default"]=b;b.fontPropertiesCache={};b.fontPropertiesCanvas=document.createElement("canvas");b.fontPropertiesContext=b.fontPropertiesCanvas.getContext("2d")},{"../const":44,"../math":68,"../settings":99,
"../sprites/Sprite":100,"../textures/Texture":112,"../utils":120,"../utils/trimCanvas":124,"./TextStyle":107}],107:[function(b,l,f){function k(a){if("number"===typeof a)return(0,d.hex2string)(a);"string"===typeof a&&0===a.indexOf("0x")&&(a=a.replace("0x","#"));return a}function g(a){if(Array.isArray(a)){for(var c=0;c<a.length;++c)a[c]=k(a[c]);return a}return k(a)}f.__esModule=!0;var e=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;
"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}();l=b("../const");var d=b("../utils"),c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:l.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,
lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100};b=function(){function a(d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.styleID=0;Object.assign(this,c,d)}a.prototype.clone=function(){var d={},b;for(b in c)d[b]=this[b];return new a(d)};a.prototype.reset=function(){Object.assign(this,c)};e(a,[{key:"align",get:function(){return this._align},set:function(a){this._align!==
a&&(this._align=a,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(a){this._breakWords!==a&&(this._breakWords=a,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(a){this._dropShadow!==a&&(this._dropShadow=a,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(a){this._dropShadowAlpha!==a&&(this._dropShadowAlpha=a,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},
set:function(a){this._dropShadowAngle!==a&&(this._dropShadowAngle=a,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(a){this._dropShadowBlur!==a&&(this._dropShadowBlur=a,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(a){a=g(a);this._dropShadowColor!==a&&(this._dropShadowColor=a,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(a){this._dropShadowDistance!==
a&&(this._dropShadowDistance=a,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(a){a=g(a);this._fill!==a&&(this._fill=a,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(a){this._fillGradientType!==a&&(this._fillGradientType=a,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(a){var c;a:if(c=this._fillGradientStops,Array.isArray(c)&&Array.isArray(a)&&c.length===a.length){for(var d=
0;d<c.length;++d)if(c[d]!==a[d]){c=!1;break a}c=!0}else c=!1;c||(this._fillGradientStops=a,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(a){this.fontFamily!==a&&(this._fontFamily=a,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(a){this._fontSize!==a&&(this._fontSize=a,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(a){this._fontStyle!==a&&(this._fontStyle=a,this.styleID++)}},{key:"fontVariant",
get:function(){return this._fontVariant},set:function(a){this._fontVariant!==a&&(this._fontVariant=a,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(a){this._fontWeight!==a&&(this._fontWeight=a,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(a){this._lineHeight!==a&&(this._lineHeight=
a,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(a){this._lineJoin!==a&&(this._lineJoin=a,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(a){this._miterLimit!==a&&(this._miterLimit=a,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(a){this._padding!==a&&(this._padding=a,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(a){a=g(a);this._stroke!==a&&(this._stroke=
a,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(a){this._strokeThickness!==a&&(this._strokeThickness=a,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(a){this._textBaseline!==a&&(this._textBaseline=a,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(a){this._trim!==a&&(this._trim=a,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(a){this._wordWrap!==
a&&(this._wordWrap=a,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(a){this._wordWrapWidth!==a&&(this._wordWrapWidth=a,this.styleID++)}}]);return a}();f["default"]=b},{"../const":44,"../utils":120}],108:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;l=(l=b("./BaseTexture"))&&l.__esModule?l:{"default":l};var g=(b=b("../settings"))&&b.__esModule?b:{"default":b};b=function(b){function d(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,e=arguments[2],m=arguments[3];if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this,null,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.resolution=m||g["default"].RESOLUTION;f.width=c;f.height=a;f.realWidth=f.width*f.resolution;f.realHeight=f.height*f.resolution;f.scaleMode=void 0!==e?e:g["default"].SCALE_MODE;f.hasLoaded=!0;f._glRenderTargets={};f._canvasRenderTarget=null;f.valid=!1;return f}k(d,b);d.prototype.resize=function(c,a){if(c!==this.width||a!==this.height)this.valid=0<c&&0<a,this.width=c,this.height=a,this.realWidth=this.width*this.resolution,this.realHeight=this.height*
this.resolution,this.valid&&this.emit("update",this)};d.prototype.destroy=function(){b.prototype.destroy.call(this,!0);this.renderer=null};return d}(l["default"]);f["default"]=b},{"../settings":99,"./BaseTexture":109}],109:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=b("../utils");l=b("../settings");var c=k(l);l=b("eventemitter3");l=k(l);var a=b("../utils/determineCrossOrigin"),h=k(a);b=b("bit-twiddle");var m=k(b);b=function(a){function b(e,
h,m){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var g;g=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.uid=(0,d.uid)();g.touched=0;g.resolution=m||c["default"].RESOLUTION;g.width=100;g.height=100;g.realWidth=100;g.realHeight=100;g.scaleMode=void 0!==h?h:c["default"].SCALE_MODE;g.hasLoaded=!1;g.isLoading=!1;g.source=null;g.origSource=null;g.imageType=
null;g.sourceScale=1;g.premultipliedAlpha=!0;g.imageUrl=null;g.isPowerOfTwo=!1;g.mipmap=c["default"].MIPMAP_TEXTURES;g.wrapMode=c["default"].WRAP_MODE;g._glTextures={};g._enabled=0;g._virtalBoundId=-1;e&&g.loadSource(e);return g}g(b,a);b.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions());this.emit("update",
this)};b.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=m["default"].isPow2(this.realWidth)&&m["default"].isPow2(this.realHeight)};b.prototype.loadSource=function(a){var c=this,b=this.isLoading;this.isLoading=this.hasLoaded=!1;b&&this.source&&(this.source.onload=null,this.source.onerror=null);var d=!this.source;this.source=a;if((a.src&&a.complete||a.getContext)&&a.width&&a.height)this._updateImageType(),
"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),d&&this.emit("loaded",this);else if(!a.getContext&&(d=function(){c.isLoading=!0;a.onload=function(){c._updateImageType();a.onload=null;a.onerror=null;c.isLoading&&(c.isLoading=!1,c._sourceLoaded(),"svg"===c.imageType?c._loadSvgSource():c.emit("loaded",c))};a.onerror=function(){a.onload=null;a.onerror=null;c.isLoading&&(c.isLoading=!1,c.emit("error",c))};if(a.complete&&a.src){a.onload=null;a.onerror=null;if("svg"===c.imageType)return c._loadSvgSource(),
{v:void 0};c.isLoading=!1;a.width&&a.height?(c._sourceLoaded(),b&&c.emit("loaded",c)):b&&c.emit("error",c)}}(),"object"===("undefined"===typeof d?"undefined":e(d))))return d.v};b.prototype._updateImageType=function(){if(this.imageUrl){var a=(0,d.decomposeDataUri)(this.imageUrl);if(a&&"image"===a.mediaType){if(a=a.subType.split("+")[0],a=(0,d.getUrlFileExtension)("."+a),!a)throw Error("Invalid image type in data URI.");}else(a=(0,d.getUrlFileExtension)(this.imageUrl))||(a="png");this.imageType=a}};
b.prototype._loadSvgSource=function(){if("svg"===this.imageType){var a=(0,d.decomposeDataUri)(this.imageUrl);a?this._loadSvgSourceUsingDataUri(a):this._loadSvgSourceUsingXhr()}};b.prototype._loadSvgSourceUsingDataUri=function(a){if("base64"===a.encoding){if(!atob)throw Error("Your browser doesn't support base64 conversions.");a=atob(a.data)}else a=a.data;this._loadSvgSourceUsingString(a)};b.prototype._loadSvgSourceUsingXhr=function(){var a=this,c=new XMLHttpRequest;c.onload=function(){if(c.readyState!==
c.DONE||200!==c.status)throw Error("Failed to load SVG using XHR.");a._loadSvgSourceUsingString(c.response)};c.onerror=function(){return a.emit("error",a)};c.open("GET",this.imageUrl,!0);c.send()};b.prototype._loadSvgSourceUsingString=function(a){var c=(0,d.getSvgSize)(a);a=c.width;c=c.height;if(!a||!c)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(a*this.sourceScale);this.realHeight=Math.round(c*this.sourceScale);this._updateDimensions();
var b=document.createElement("canvas");b.width=this.realWidth;b.height=this.realHeight;b._pixiId="canvas_"+(0,d.uid)();b.getContext("2d").drawImage(this.source,0,0,a,c,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=b;d.BaseTextureCache[b._pixiId]=this;this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};b.prototype._sourceLoaded=function(){this.hasLoaded=!0;this.update()};b.prototype.destroy=function(){this.imageUrl&&(delete d.BaseTextureCache[this.imageUrl],
delete d.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=""));this.source&&this.source._pixiId&&delete d.BaseTextureCache[this.source._pixiId];this.source=null;this.dispose()};b.prototype.dispose=function(){this.emit("dispose",this)};b.prototype.updateSourceImage=function(a){this.source.src=a;this.loadSource(this.source)};b.fromImage=function(a,c,e,m){var g=d.BaseTextureCache[a];if(!g){var f=new Image;void 0===c&&0!==a.indexOf("data:")&&(f.crossOrigin=(0,h["default"])(a));
g=new b(f,e);g.imageUrl=a;m&&(g.sourceScale=m);g.resolution=(0,d.getResolutionOfUrl)(a);f.src=a;d.BaseTextureCache[a]=g}return g};b.fromCanvas=function(a,c){a._pixiId||(a._pixiId="canvas_"+(0,d.uid)());var e=d.BaseTextureCache[a._pixiId];e||(e=new b(a,c),d.BaseTextureCache[a._pixiId]=e);return e};b.from=function(a,c,e){if("string"===typeof a)return b.fromImage(a,void 0,c,e);if(a instanceof HTMLImageElement){var h=a.src,m=d.BaseTextureCache[h];m||(m=new b(a,c),m.imageUrl=h,e&&(m.sourceScale=e),m.resolution=
(0,d.getResolutionOfUrl)(h),d.BaseTextureCache[h]=m);return m}return a instanceof HTMLCanvasElement?b.fromCanvas(a,c):a};return b}(l["default"]);f["default"]=b},{"../settings":99,"../utils":120,"../utils/determineCrossOrigin":119,"bit-twiddle":1,eventemitter3:3}],110:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,
writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;var g=(l=b("./BaseRenderTexture"))&&l.__esModule?l:{"default":l};b=b("./Texture");b=function(b){function d(c,a,e,m,f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h=null;if(!(c instanceof g["default"])){var k=a;console.warn("Please use RenderTexture.create("+k+", "+e+") instead of the ctor directly.");h=c;a=null;c=new g["default"](k,e,m,f)}c=b.call(this,
c,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.legacyRenderer=h;c.valid=!0;c._updateUvs();return c}k(d,b);d.prototype.resize=function(c,a,b){this.valid=0<c&&0<a;this._frame.width=this.orig.width=c;this._frame.height=this.orig.height=a;b||this.baseTexture.resize(c,a);this._updateUvs()};d.create=function(c,a,b,e){return new d(new g["default"](c,a,b,e))};return d}((b&&b.__esModule?b:{"default":b})["default"]);
f["default"]=b},{"./BaseRenderTexture":108,"./Texture":112}],111:[function(b,l,f){f.__esModule=!0;var k=function(){function b(c,a){for(var b=0;b<a.length;b++){var d=a[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,a,d){a&&b(c.prototype,a);d&&b(c,d);return c}}(),g=b("../"),e=b("../utils");b=function(){function b(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.baseTexture=c;this.textures={};this.data=a;this.resolution=this._updateResolution(d||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}k(b,null,[{key:"BATCH_SIZE",get:function(){return 1E3}}]);b.prototype._updateResolution=function(c){var a=this.data.meta.scale;c=(0,e.getResolutionOfUrl)(c,null);null===c&&(c=void 0!==a?parseFloat(a):1);1!==c&&(this.baseTexture.resolution=c,this.baseTexture.update());return c};
b.prototype.parse=function(c){this._batchIndex=0;this._callback=c;this._frameKeys.length<=b.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()};b.prototype._processFrames=function(c){for(var a=c,d=b.BATCH_SIZE;a-c<d&&a<this._frameKeys.length;){var m=this._frameKeys[a],f=this._frames[m].frame;if(f){var k,l=null,w=new g.Rectangle(0,0,this._frames[m].sourceSize.w/this.resolution,this._frames[m].sourceSize.h/this.resolution);k=this._frames[m].rotated?new g.Rectangle(f.x/this.resolution,
f.y/this.resolution,f.h/this.resolution,f.w/this.resolution):new g.Rectangle(f.x/this.resolution,f.y/this.resolution,f.w/this.resolution,f.h/this.resolution);this._frames[m].trimmed&&(l=new g.Rectangle(this._frames[m].spriteSourceSize.x/this.resolution,this._frames[m].spriteSourceSize.y/this.resolution,f.w/this.resolution,f.h/this.resolution));this.textures[m]=new g.Texture(this.baseTexture,k,w,l,this._frames[m].rotated?2:0);e.TextureCache[m]=this.textures[m]}a++}};b.prototype._parseComplete=function(){var c=
this._callback;this._callback=null;this._batchIndex=0;c.call(this,this.textures)};b.prototype._nextBatch=function(){var c=this;this._processFrames(this._batchIndex*b.BATCH_SIZE);this._batchIndex++;setTimeout(function(){c._batchIndex*b.BATCH_SIZE<c._frameKeys.length?c._nextBatch():c._parseComplete()},0)};b.prototype.destroy=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,a;for(a in this.textures)this.textures[a].destroy();this.textures=this.data=this._frameKeys=this._frames=
null;c&&this.baseTexture.destroy();this.baseTexture=null};return b}();f["default"]=b},{"../":63,"../utils":120}],112:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}
function e(a){a.destroy=function(){};a.on=function(){};a.once=function(){};a.emit=function(){}}f.__esModule=!0;var d=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}();l=b("./BaseTexture");var c=k(l);l=b("./VideoBaseTexture");var a=k(l);l=b("./TextureUvs");var h=k(l);l=b("eventemitter3");l=k(l);var m=b("../math"),
p=b("../utils"),n=function(b){function e(a,c,d,h,g){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.noFrame=!1;c||(f.noFrame=!0,c=new m.Rectangle(0,0,1,1));a instanceof e&&(a=a.baseTexture);f.baseTexture=a;f._frame=c;f.trim=h;f.valid=!1;f.requiresUpdate=!1;f._uvs=null;f.orig=d||c;f._rotate=Number(g||
0);if(!0===g)f._rotate=2;else if(0!==f._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");if(a.hasLoaded)f.noFrame&&(c=new m.Rectangle(0,0,a.width,a.height),a.on("update",f.onBaseTextureUpdated,f)),f.frame=c;else a.once("loaded",f.onBaseTextureLoaded,f);f._updateID=0;f.transform=null;return f}g(e,b);e.prototype.update=function(){this.baseTexture.update()};e.prototype.onBaseTextureLoaded=function(a){this._updateID++;this.frame=this.noFrame?new m.Rectangle(0,
0,a.width,a.height):this._frame;this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};e.prototype.onBaseTextureUpdated=function(a){this._updateID++;this._frame.width=a.width;this._frame.height=a.height;this.emit("update",this)};e.prototype.destroy=function(a){this.baseTexture&&(a&&(p.TextureCache[this.baseTexture.imageUrl]&&delete p.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",
this.onBaseTextureLoaded,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;this.off("dispose",this.dispose,this);this.off("update",this.update,this)};e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};e.prototype._updateUvs=function(){this._uvs||(this._uvs=new h["default"]);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};e.fromImage=function(a,b,d,h){var g=p.TextureCache[a];g||(g=
new e(c["default"].fromImage(a,b,d,h)),p.TextureCache[a]=g);return g};e.fromFrame=function(a){var c=p.TextureCache[a];if(!c)throw Error('The frameId "'+a+'" does not exist in the texture cache');return c};e.fromCanvas=function(a,b){return new e(c["default"].fromCanvas(a,b))};e.fromVideo=function(c,b){return"string"===typeof c?e.fromVideoUrl(c,b):new e(a["default"].fromVideo(c,b))};e.fromVideoUrl=function(c,b){return new e(a["default"].fromUrl(c,b))};e.from=function(a){if("string"===typeof a){var b=
p.TextureCache[a];return b?b:null!==a.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(a):e.fromImage(a)}return a instanceof HTMLImageElement?new e(c["default"].from(a)):a instanceof HTMLCanvasElement?e.fromCanvas(a):a instanceof HTMLVideoElement?e.fromVideo(a):a instanceof c["default"]?new e(a):a};e.fromLoader=function(a,b,d){a=new c["default"](a,void 0,(0,p.getResolutionOfUrl)(b));var h=new e(a);a.imageUrl=b;d||(d=b);p.BaseTextureCache[d]=a;p.TextureCache[d]=h;d!==b&&(p.BaseTextureCache[b]=
a,p.TextureCache[b]=h);return h};e.addTextureToCache=function(a,c){p.TextureCache[c]=a};e.removeTextureFromCache=function(a){var c=p.TextureCache[a];delete p.TextureCache[a];delete p.BaseTextureCache[a];return c};d(e,[{key:"frame",get:function(){return this._frame},set:function(a){this._frame=a;this.noFrame=!1;if(a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height)throw Error("Texture Error: frame does not fit inside the base Texture dimensions: "+("X: "+a.x+" + "+a.width+" > "+
this.baseTexture.width+" ")+("Y: "+a.y+" + "+a.height+" > "+this.baseTexture.height));this.valid=a&&a.width&&a.height&&this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=a);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(a){this._rotate=a;this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]);return e}(l["default"]);f["default"]=n;n.EMPTY=new n(new c["default"]);
e(n.EMPTY);n.WHITE=function(){var a=document.createElement("canvas");a.width=10;a.height=10;var b=a.getContext("2d");b.fillStyle="white";b.fillRect(0,0,10,10);return new n(new c["default"](a))}();e(n.WHITE)},{"../math":68,"../utils":120,"./BaseTexture":109,"./TextureUvs":113,"./VideoBaseTexture":114,eventemitter3:3}],113:[function(b,l,f){f.__esModule=!0;var k=(b=b("../math/GroupD8"))&&b.__esModule?b:{"default":b};b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}b.prototype.set=function(b,d,c){var a=d.width,e=d.height;if(c){d=b.width/2/a;var g=b.height/2/e,a=b.x/a+d;b=b.y/e+g;c=k["default"].add(c,k["default"].NW);this.x0=a+d*k["default"].uX(c);this.y0=b+g*k["default"].uY(c);c=k["default"].add(c,2);this.x1=a+d*k["default"].uX(c);this.y1=b+g*k["default"].uY(c);c=k["default"].add(c,2);this.x2=a+d*k["default"].uX(c);this.y2=b+g*k["default"].uY(c);c=k["default"].add(c,
2);this.x3=a+d*k["default"].uX(c);this.y3=b+g*k["default"].uY(c)}else this.x0=b.x/a,this.y0=b.y/e,this.x1=(b.x+b.width)/a,this.y1=b.y/e,this.x2=(b.x+b.width)/a,this.y2=(b.y+b.height)/e,this.x3=b.x/a,this.y3=(b.y+b.height)/e;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535};return b}();f["default"]=
b},{"../math/GroupD8":64}],114:[function(b,l,f){function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function g(a,c){c||(c="video/"+a.substr(a.lastIndexOf(".")+1));var b=document.createElement("source");b.src=a;b.type=c;return b}f.__esModule=
!0;var e=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}();l=(l=b("./BaseTexture"))&&l.__esModule?l:{"default":l};var d=b("../utils"),c=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../ticker"));b=
function(a){function b(c,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(!c)throw Error("No video source element specified.");(c.readyState===c.HAVE_ENOUGH_DATA||c.readyState===c.HAVE_FUTURE_DATA)&&c.width&&c.height&&(c.complete=!0);var e;e=a.call(this,c,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.width=c.videoWidth;e.height=c.videoHeight;e._autoUpdate=
!0;e._isAutoUpdating=!1;e.autoPlay=!0;e.update=e.update.bind(e);e._onCanPlay=e._onCanPlay.bind(e);c.addEventListener("play",e._onPlayStart.bind(e));c.addEventListener("pause",e._onPlayStop.bind(e));e.hasLoaded=!1;e.__loaded=!1;e._isSourceReady()?e._onCanPlay():(c.addEventListener("canplay",e._onCanPlay),c.addEventListener("canplaythrough",e._onCanPlay));return e}k(b,a);b.prototype._isSourcePlaying=function(){var a=this.source;return 0<a.currentTime&&!1===a.paused&&!1===a.ended&&2<a.readyState};b.prototype._isSourceReady=
function(){return 3===this.source.readyState||4===this.source.readyState};b.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();!this._isAutoUpdating&&this.autoUpdate&&(c.shared.add(this.update,this),this._isAutoUpdating=!0)};b.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)};b.prototype._onCanPlay=function(){this.hasLoaded=!0;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",
this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())};b.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this);this.source&&this.source._pixiId&&(delete d.BaseTextureCache[this.source._pixiId],delete this.source._pixiId);a.prototype.destroy.call(this)};b.fromVideo=function(a,c){a._pixiId||(a._pixiId=
"video_"+(0,d.uid)());var e=d.BaseTextureCache[a._pixiId];e||(e=new b(a,c),d.BaseTextureCache[a._pixiId]=e);return e};b.fromUrl=function(a,c){var d=document.createElement("video");d.setAttribute("webkit-playsinline","");d.setAttribute("playsinline","");if(Array.isArray(a))for(var e=0;e<a.length;++e)d.appendChild(g(a[e].src||a[e],a[e].mime));else d.appendChild(g(a.src||a,a.mime));d.load();return b.fromVideo(d,c)};e(b,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(a){a!==this._autoUpdate&&
(this._autoUpdate=a,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,this),this._isAutoUpdating=!0))}}]);return b}(l["default"]);f["default"]=b;b.fromUrls=b.fromUrl},{"../ticker":116,"../utils":120,"./BaseTexture":109}],115:[function(b,l,f){f.__esModule=!0;var k=function(){function b(c,a){for(var b=0;b<a.length;b++){var d=a[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in
d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,a,d){a&&b(c.prototype,a);d&&b(c,d);return c}}(),g=(l=b("../settings"))&&l.__esModule?l:{"default":l},e=(b=b("eventemitter3"))&&b.__esModule?b:{"default":b};b=function(){function b(){var c=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._emitter=new e["default"];this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/g["default"].TARGET_FPMS;this.lastTime=
0;this.speed=1;this.started=!1;this._tick=function(a){c._requestId=null;c.started&&(c.update(a),c.started&&null===c._requestId&&c._emitter.listeners("tick",!0)&&(c._requestId=requestAnimationFrame(c._tick)))}}b.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners("tick",!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};b.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=
null)};b.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};b.prototype.add=function(c,a){this._emitter.on("tick",c,a);this._startIfPossible();return this};b.prototype.addOnce=function(c,a){this._emitter.once("tick",c,a);this._startIfPossible();return this};b.prototype.remove=function(c,a){this._emitter.off("tick",c,a);this._emitter.listeners("tick",!0)||this._cancelIfNeeded();return this};b.prototype.start=function(){this.started||(this.started=
!0,this._requestIfNeeded())};b.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};b.prototype.update=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),a;c>this.lastTime?(a=this.elapsedMS=c-this.lastTime,a>this._maxElapsedMS&&(a=this._maxElapsedMS),this.deltaTime=a*g["default"].TARGET_FPMS*this.speed,this._emitter.emit("tick",this.deltaTime)):this.deltaTime=this.elapsedMS=0;this.lastTime=c};k(b,[{key:"FPS",get:function(){return 1E3/
this.elapsedMS}},{key:"minFPS",get:function(){return 1E3/this._maxElapsedMS},set:function(c){this._maxElapsedMS=1/Math.min(Math.max(0,c)/1E3,g["default"].TARGET_FPMS)}}]);return b}();f["default"]=b},{"../settings":99,eventemitter3:3}],116:[function(b,l,f){f.__esModule=!0;f.Ticker=f.shared=void 0;b=(b=b("./Ticker"))&&b.__esModule?b:{"default":b};l=new b["default"];l.autoStart=!0;f.shared=l;f.Ticker=b["default"]},{"./Ticker":115}],117:[function(b,l,f){f.__esModule=!0;f["default"]=function(){return!(navigator.platform&&
/iPad|iPhone|iPod/.test(navigator.platform))}},{}],118:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){b*=6;for(var g=new Uint16Array(b),e=0,d=0;e<b;e+=6,d+=4)g[e+0]=d+0,g[e+1]=d+1,g[e+2]=d+2,g[e+3]=d+0,g[e+4]=d+2,g[e+5]=d+3;return g}},{}],119:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===b.indexOf("data:"))return"";d=d||window.location;g||(g=document.createElement("a"));g.href=b;b=k["default"].parse(g.href);
var c=!b.port&&""===d.port||b.port===d.port;return b.hostname===d.hostname&&c&&b.protocol===d.protocol?"":"anonymous"};var k=(b=b("url"))&&b.__esModule?b:{"default":b},g=void 0},{url:28}],120:[function(b,l,f){function k(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}function g(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;f.BaseTextureCache=f.TextureCache=f.mixins=f.pluginTarget=f.EventEmitter=
f.isMobile=void 0;f.uid=function(){return++h};f.hex2rgb=function(a,c){c=c||[];c[0]=(a>>16&255)/255;c[1]=(a>>8&255)/255;c[2]=(a&255)/255;return c};f.hex2string=function(a){a=a.toString(16);a="000000".substr(0,6-a.length)+a;return"#"+a};f.rgb2hex=function(a){return(255*a[0]<<16)+(255*a[1]<<8)+(255*a[2]|0)};f.getResolutionOfUrl=function(a,c){var b=d["default"].RETINA_PREFIX.exec(a);return b?parseFloat(b[1]):void 0!==c?c:1};f.decomposeDataUri=function(a){if(a=e.DATA_URI.exec(a))return{mediaType:a[1]?
a[1].toLowerCase():void 0,subType:a[2]?a[2].toLowerCase():void 0,encoding:a[3]?a[3].toLowerCase():void 0,data:a[4]}};f.getUrlFileExtension=function(a){if(a=e.URL_FILE_EXTENSION.exec(a))return a[1].toLowerCase()};f.getSvgSize=function(a){a=e.SVG_SIZE.exec(a);var c={};a&&(c[a[1]]=Math.round(parseFloat(a[3])),c[a[5]]=Math.round(parseFloat(a[7])));return c};f.skipHello=function(){m=!0};f.sayHello=function(a){m||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c Pixi.js "+
e.VERSION+" - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):
window.console&&window.console.log("Pixi.js "+e.VERSION+" - "+a+" - http://www.pixijs.com/"),m=!0)};f.isWebGLSupported=function(){var a={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var c=document.createElement("canvas"),b=c.getContext("webgl",a)||c.getContext("experimental-webgl",a),d=!(!b||!b.getContextAttributes().stencil);if(b){var e=b.getExtension("WEBGL_lose_context");e&&e.loseContext()}return d}catch(x){return!1}};f.sign=function(a){return 0===a?
0:0>a?-1:1};f.removeItems=function(a,c,b){var d=a.length;if(!(c>=d||0===b)){b=c+b>d?d-c:b;for(d-=b;c<d;++c)a[c]=a[c+b];a.length=d}};f.destroyTextureCache=function(){var a=void 0;for(a in p)p[a].destroy();for(a in n)n[a].destroy()};f.clearTextureCache=function(){var a=void 0;for(a in p)delete p[a];for(a in n)delete n[a]};var e=b("../const");l=b("../settings");var d=g(l);l=b("eventemitter3");l=g(l);var c=b("./pluginTarget"),c=g(c),a=b("./mixin"),a=k(a);b=b("ismobilejs");b=k(b);var h=0,m=!1;f.isMobile=
b;f.EventEmitter=l["default"];f.pluginTarget=c["default"];f.mixins=a;var p=f.TextureCache={},n=f.BaseTextureCache={}},{"../const":44,"../settings":99,"./mixin":122,"./pluginTarget":123,eventemitter3:3,ismobilejs:4}],121:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){return k["default"].tablet||k["default"].phone?4:b};var k=(b=b("ismobilejs"))&&b.__esModule?b:{"default":b}},{ismobilejs:4}],122:[function(b,l,f){function k(b,d){if(b&&d)for(var c=Object.keys(d),a=0;a<c.length;++a){var e=c[a];
Object.defineProperty(b,e,Object.getOwnPropertyDescriptor(d,e))}}f.__esModule=!0;f.mixin=k;f.delayMixin=function(b,d){g.push(b,d)};f.performMixins=function(){for(var b=0;b<g.length;b+=2)k(g[b],g[b+1]);g.length=0};var g=[]},{}],123:[function(b,l,f){function k(b){b.__plugins={};b.registerPlugin=function(e,d){b.__plugins[e]=d};b.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in b.__plugins)this.plugins[e]=new b.__plugins[e](this)};b.prototype.destroyPlugins=function(){for(var b in this.plugins)this.plugins[b].destroy(),
this.plugins[b]=null;this.plugins=null}}f.__esModule=!0;f["default"]={mixin:function(b){k(b)}}},{}],124:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){var g=b.width,e=b.height;b=b.getContext("2d");var e=b.getImageData(0,0,g,e).data,d=e.length,c=null,a=null,h=null,m=null,f,k,l;for(f=0;f<d;f+=4)0!==e[f+3]&&(k=f/4%g,l=~~(f/4/g),null===c&&(c=l),null===a?a=k:k<a&&(a=k),null===h?h=k+1:h<k&&(h=k+1),null===m?m=l:m<l&&(m=l));g=h-a;e=m-c+1;b=b.getImageData(a,c,g,e);return{height:e,width:g,data:b}}},
{}],125:[function(b,l,f){function k(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}function g(a){var c=Error().stack;"undefined"===typeof c?console.warn("Deprecation Warning: ",a):(c=c.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",a),console.warn(c),
console.groupEnd()):(console.warn("Deprecation Warning: ",a),console.warn(c)))}l=b("./core");var e=k(l);l=b("./mesh");var d=k(l);l=b("./particles");var c=k(l);l=b("./extras");var a=k(l);l=b("./filters");l=k(l);f=b("./prepare");f=k(f);var h=b("./loaders"),m=k(h);b=b("./interaction");b=k(b);e.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");};e.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");
};Object.defineProperties(e,{Stage:{enumerable:!0,get:function(){g("You do not need to use a PIXI Stage any more, you can simply render any container.");return e.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){g("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return e.Container}},Strip:{enumerable:!0,get:function(){g("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return d.Mesh}},Rope:{enumerable:!0,
get:function(){g("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return d.Rope}},ParticleContainer:{enumerable:!0,get:function(){g("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");return c.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){g("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return a.AnimatedSprite}},TilingSprite:{enumerable:!0,
get:function(){g("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return a.TilingSprite}},BitmapText:{enumerable:!0,get:function(){g("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");return a.BitmapText}},blendModes:{enumerable:!0,get:function(){g("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return e.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){g("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");
return e.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){g("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return e.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){g("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return e.utils.TextureCache}},math:{enumerable:!0,get:function(){g("The math namespace is deprecated, please access members already accessible on PIXI.");
return e}},AbstractFilter:{enumerable:!0,get:function(){g("AstractFilter has been renamed to Filter, please use PIXI.Filter");return e.Filter}},TransformManual:{enumerable:!0,get:function(){g("TransformManual has been renamed to TransformBase, please update your pixi-spine");return e.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){g("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return e.settings.TARGET_FPMS},set:function(a){g("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");
e.settings.TARGET_FPMS=a}},FILTER_RESOLUTION:{enumerable:!0,get:function(){g("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return e.settings.FILTER_RESOLUTION},set:function(a){g("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");e.settings.FILTER_RESOLUTION=a}},RESOLUTION:{enumerable:!0,get:function(){g("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return e.settings.RESOLUTION},set:function(a){g("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");
e.settings.RESOLUTION=a}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){g("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return e.settings.MIPMAP_TEXTURES},set:function(a){g("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");e.settings.MIPMAP_TEXTURES=a}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){g("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return e.settings.SPRITE_BATCH_SIZE},
set:function(a){g("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");e.settings.SPRITE_BATCH_SIZE=a}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){g("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return e.settings.SPRITE_MAX_TEXTURES},set:function(a){g("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");e.settings.SPRITE_MAX_TEXTURES=a}},RETINA_PREFIX:{enumerable:!0,
get:function(){g("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return e.settings.RETINA_PREFIX},set:function(a){g("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");e.settings.RETINA_PREFIX=a}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){g("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return e.settings.RENDER_OPTIONS}}});for(var p=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},
{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],h=function(a){var c=p[a];Object.defineProperty(e[c.parent],"DEFAULT",{enumerable:!0,get:function(){g("PIXI."+c.parent+".DEFAULT has been deprecated, please use PIXI.settings."+c.target);return e.settings[c.target]},set:function(a){g("PIXI."+c.parent+".DEFAULT has been deprecated, please use PIXI.settings."+c.target);e.settings[c.target]=
a}})},n=0;n<p.length;n++)h(n);Object.defineProperties(e.settings,{PRECISION:{enumerable:!0,get:function(){g("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return e.settings.PRECISION_FRAGMENT},set:function(a){g("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");e.settings.PRECISION_FRAGMENT=a}}});Object.defineProperties(a,{MovieClip:{enumerable:!0,get:function(){g("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");
return a.AnimatedSprite}}});e.DisplayObject.prototype.generateTexture=function(a,c,b){g("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return a.generateTexture(this,c,b)};e.Graphics.prototype.generateTexture=function(a,c){g("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(a,c)};e.RenderTexture.prototype.render=function(a,c,b,
d){this.legacyRenderer.render(a,this,b,c,!d);g("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};e.RenderTexture.prototype.getImage=function(a){g("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(a)};e.RenderTexture.prototype.getBase64=function(a){g("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(a)};
e.RenderTexture.prototype.getCanvas=function(a){g("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(a)};e.RenderTexture.prototype.getPixels=function(a){g("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(a)};e.Sprite.prototype.setTexture=function(a){this.texture=a;g("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};
a.BitmapText.prototype.setText=function(a){this.text=a;g("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")};e.Text.prototype.setText=function(a){this.text=a;g("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};e.Text.prototype.setStyle=function(a){this.style=a;g("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};e.Text.prototype.determineFontProperties=function(a){g("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);");
return e.Text.calculateFontProperties(a)};Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){g("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily},set:function(a){g("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");
1<a.indexOf("italic")?this._fontStyle="italic":-1<a.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<a.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";a=a.split(" ");var c=-1;this._fontSize=26;for(var b=0;b<a.length;++b)if(a[b].match(/(px|pt|em|%)/)){c=b;this._fontSize=a[b];break}this._fontWeight="normal";for(b=0;b<c;++b)if(a[b].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=a[b];break}if(-1<c&&c<a.length-
1){this._fontFamily="";for(c+=1;c<a.length;++c)this._fontFamily+=a[c]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});e.Texture.prototype.setFrame=function(a){this.frame=a;g("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};Object.defineProperties(l,{AbstractFilter:{get:function(){g("AstractFilter has been renamed to Filter, please use PIXI.Filter");return e.AbstractFilter}},SpriteMaskFilter:{get:function(){g("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");
return e.SpriteMaskFilter}}});e.utils.uuid=function(){g("utils.uuid() is deprecated, please use utils.uid() from now on.");return e.utils.uid()};e.utils.canUseNewCanvasBlendModes=function(){g("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return e.CanvasTinter.canUseMultiply};var q=!0;Object.defineProperty(e.utils,"_saidHello",{set:function(a){a&&(g("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello());q=
a},get:function(){return q}});Object.defineProperty(f.canvas,"UPLOADS_PER_FRAME",{set:function(){g("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){g("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});Object.defineProperty(f.webgl,"UPLOADS_PER_FRAME",{set:function(){g("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},
get:function(){g("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});Object.defineProperties(m.Resource.prototype,{isJson:{get:function(){g("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===m.Loader.Resource.TYPE.JSON}},isXml:{get:function(){g("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===m.Loader.Resource.TYPE.XML}},isImage:{get:function(){g("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");
return this.type===m.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){g("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===m.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){g("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===m.Loader.Resource.TYPE.VIDEO}}});Object.defineProperties(m.Loader.prototype,{before:{get:function(){g("The before() method is deprecated, please use pre().");
return this.pre}},after:{get:function(){g("The after() method is deprecated, please use use().");return this.use}}});Object.defineProperty(b.interactiveTarget,"defaultCursor",{set:function(a){g("Property defaultCursor has been replaced with 'cursor'. ");this.cursor=a},get:function(){g("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor},enumerable:!0});Object.defineProperty(b.InteractionManager,"defaultCursorStyle",{set:function(a){g("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");
this.cursorStyles["default"]=a},get:function(){g("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles["default"]}});Object.defineProperty(b.InteractionManager,"currentCursorStyle",{set:function(a){g("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");this.currentCursorMode=a},get:function(){g("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.");
return this.currentCursorMode}})},{"./core":63,"./extras":136,"./filters":147,"./interaction":154,"./loaders":157,"./mesh":166,"./particles":169,"./prepare":179}],126:[function(b,l,f){f.__esModule=!0;var k=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);d["default"]=b;return d}(b("../../core")),g=new k.Rectangle;b=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.renderer=d;d.extract=this}b.prototype.image=function(b){var c=new Image;c.src=this.base64(b);return c};b.prototype.base64=function(b){return this.canvas(b).toDataURL()};b.prototype.canvas=function(b){var c=this.renderer,a=void 0,d=void 0;b&&(d=b instanceof k.RenderTexture?b:c.generateTexture(b));d?(b=d.baseTexture._canvasRenderTarget.context,a=d.baseTexture._canvasRenderTarget.resolution,c=d.frame):(b=c.rootContext,c=g,c.width=this.renderer.width,c.height=this.renderer.height);var e=c.width*
a,f=c.height*a,d=new k.CanvasRenderTarget(e,f),a=b.getImageData(c.x*a,c.y*a,e,f);d.context.putImageData(a,0,0);return d.canvas};b.prototype.pixels=function(b){var c=this.renderer,a=void 0,d;d=void 0;b&&(d=b instanceof k.RenderTexture?b:c.generateTexture(b));d?(b=d.baseTexture._canvasRenderTarget.context,a=d.baseTexture._canvasRenderTarget.resolution,d=d.frame):(b=c.rootContext,d=g,d.width=c.width,d.height=c.height);return b.getImageData(0,0,d.width*a,d.height*a).data};b.prototype.destroy=function(){this.renderer=
this.renderer.extract=null};return b}();f["default"]=b;k.CanvasRenderer.registerPlugin("extract",b)},{"../../core":63}],127:[function(b,l,f){f.__esModule=!0;var k=b("./webgl/WebGLExtract");Object.defineProperty(f,"webgl",{enumerable:!0,get:function(){return(k&&k.__esModule?k:{"default":k})["default"]}});var g=b("./canvas/CanvasExtract");Object.defineProperty(f,"canvas",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{"default":g})["default"]}})},{"./canvas/CanvasExtract":126,"./webgl/WebGLExtract":128}],
128:[function(b,l,f){f.__esModule=!0;var k=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);d["default"]=b;return d}(b("../../core")),g=new k.Rectangle;b=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.renderer=d;d.extract=this}b.prototype.image=function(b){var c=new Image;c.src=this.base64(b);return c};b.prototype.base64=function(b){return this.canvas(b).toDataURL()};
b.prototype.canvas=function(b){var c=this.renderer,a,d,e;e=void 0;b&&(e=b instanceof k.RenderTexture?b:this.renderer.generateTexture(b));e?(a=e.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],b=a.resolution,d=e.frame,e=!1):(a=this.renderer.rootRenderTarget,b=a.resolution,e=!0,d=g,d.width=a.size.width,d.height=a.size.height);var f=d.width*b,n=d.height*b,l=new k.CanvasRenderTarget(f,n);a&&(c.bindRenderTarget(a),a=new Uint8Array(4*f*n),c=c.gl,c.readPixels(d.x*b,d.y*b,f,n,c.RGBA,c.UNSIGNED_BYTE,
a),c=l.context.getImageData(0,0,f,n),c.data.set(a),l.context.putImageData(c,0,0),e&&(l.context.scale(1,-1),l.context.drawImage(l.canvas,0,-n)));return l.canvas};b.prototype.pixels=function(b){var c=this.renderer,a,d;d=void 0;b&&(d=b instanceof k.RenderTexture?b:this.renderer.generateTexture(b));d?(a=d.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],b=a.resolution,d=d.frame):(a=this.renderer.rootRenderTarget,b=a.resolution,d=g,d.width=a.size.width,d.height=a.size.height);var e=d.width*b,f=
d.height*b,n=new Uint8Array(4*e*f);a&&(c.bindRenderTarget(a),c=c.gl,c.readPixels(d.x*b,d.y*b,e,f,c.RGBA,c.UNSIGNED_BYTE,n));return n};b.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return b}();f["default"]=b;k.WebGLRenderer.registerPlugin("extract",b)},{"../../core":63}],129:[function(b,l,f){function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}f.__esModule=!0;var g=function(){function b(c,a){for(var b=0;b<a.length;b++){var d=a[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,a,d){a&&b(c.prototype,a);d&&b(c,d);return c}}(),e=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=
b[a]);c["default"]=b;return c}(b("../core"));b=function(b){function c(a,d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this,a[0]instanceof e.Texture?a[0]:a[0].texture);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h._textures=null;h._durations=null;h.textures=a;h._autoUpdate=!1!==d;h.animationSpeed=1;h.loop=!0;h.onComplete=null;h.onFrameChange=
null;h._currentTime=0;h.playing=!1;return h}k(c,b);c.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&e.ticker.shared.remove(this.update,this))};c.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&e.ticker.shared.add(this.update,this))};c.prototype.gotoAndStop=function(a){this.stop();var c=this.currentFrame;this._currentTime=a;c!==this.currentFrame&&this.updateTexture()};c.prototype.gotoAndPlay=function(a){var c=this.currentFrame;this._currentTime=
a;c!==this.currentFrame&&this.updateTexture();this.play()};c.prototype.update=function(a){var c=this.animationSpeed*a,b=this.currentFrame;if(null!==this._durations){for(var d=this._currentTime%1*this._durations[this.currentFrame],d=d+c/60*1E3;0>d;)this._currentTime--,d+=this._durations[this.currentFrame];a=Math.sign(this.animationSpeed*a);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=
d/this._durations[this.currentFrame]}else this._currentTime+=c;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else b!==this.currentFrame&&this.updateTexture()};c.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame];this._textureID=-1;if(this.onFrameChange)this.onFrameChange(this.currentFrame)};
c.prototype.destroy=function(){this.stop();b.prototype.destroy.call(this)};c.fromFrames=function(a){for(var b=[],d=0;d<a.length;++d)b.push(e.Texture.fromFrame(a[d]));return new c(b)};c.fromImages=function(a){for(var b=[],d=0;d<a.length;++d)b.push(e.Texture.fromImage(a[d]));return new c(b)};g(c,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(a){if(a[0]instanceof e.Texture)this._textures=a,this._durations=null;else{this._textures=
[];this._durations=[];for(var c=0;c<a.length;c++)this._textures.push(a[c].texture),this._durations.push(a[c].time)}}},{key:"currentFrame",get:function(){var a=Math.floor(this._currentTime)%this._textures.length;0>a&&(a+=this._textures.length);return a}}]);return c}(e.Sprite);f["default"]=b},{"../core":63}],130:[function(b,l,f){function k(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function g(a,
c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}
return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),d=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../core")),c=(b=b("../core/math/ObservablePoint"))&&b.__esModule?b:{"default":b};b=function(a){function b(d){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var h=k(this,a.call(this));
h._textWidth=0;h._textHeight=0;h._glyphs=[];h._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0};h.font=e.font;h._text=d;h.maxWidth=0;h.maxLineHeight=0;h._anchor=new c["default"](function(){h.dirty=!0},h,0,0);h.dirty=!1;h.updateText();return h}g(b,a);b.prototype.updateText=function(){for(var a=b.fonts[this._font.name],c=this._font.size/a.size,e=new d.Point,h=[],g=[],f=null,k=0,l=0,x=0,t=-1,y=0,A=0,C=0;C<this.text.length;C++){var E=this.text.charCodeAt(C);/(\s)/.test(this.text.charAt(C))&&
(t=C,y=k);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(C)))g.push(k),l=Math.max(l,k),x++,e.x=0,e.y+=a.lineHeight,f=null;else if(-1!==t&&0<this.maxWidth&&e.x*c>this.maxWidth)d.utils.removeItems(h,t,C-t),C=t,t=-1,g.push(y),l=Math.max(l,y),x++,e.x=0,e.y+=a.lineHeight,f=null;else{var F=a.chars[E];F&&(f&&F.kerning[f]&&(e.x+=F.kerning[f]),h.push({texture:F.texture,line:x,charCode:E,position:new d.Point(e.x+F.xOffset,e.y+F.yOffset)}),k=e.x+(F.texture.width+F.xOffset),e.x+=F.xAdvance,A=Math.max(A,F.yOffset+
F.texture.height),f=E)}}g.push(k);l=Math.max(l,k);f=[];for(k=0;k<=x;k++)t=0,"right"===this._font.align?t=l-g[k]:"center"===this._font.align&&(t=(l-g[k])/2),f.push(t);g=h.length;x=this.tint;for(k=0;k<g;k++)(t=this._glyphs[k])?t.texture=h[k].texture:(t=new d.Sprite(h[k].texture),this._glyphs.push(t)),t.position.x=(h[k].position.x+f[h[k].line])*c,t.position.y=h[k].position.y*c,t.scale.x=t.scale.y=c,t.tint=x,t.parent||this.addChild(t);for(h=g;h<this._glyphs.length;++h)this.removeChild(this._glyphs[h]);
this._textWidth=l*c;this._textHeight=(e.y+a.lineHeight)*c;if(0!==this.anchor.x||0!==this.anchor.y)for(a=0;a<g;a++)this._glyphs[a].x-=this._textWidth*this.anchor.x,this._glyphs[a].y-=this._textHeight*this.anchor.y;this.maxLineHeight=A*c};b.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};b.prototype.getLocalBounds=function(){this.validate();return a.prototype.getLocalBounds.call(this)};b.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};
b.registerFont=function(a,c){var e={},h=a.getElementsByTagName("info")[0],g=a.getElementsByTagName("common")[0];e.font=h.getAttribute("face");e.size=parseInt(h.getAttribute("size"),10);e.lineHeight=parseInt(g.getAttribute("lineHeight"),10);e.chars={};h=a.getElementsByTagName("char");for(g=0;g<h.length;g++){var f=h[g],m=parseInt(f.getAttribute("id"),10),k=new d.Rectangle(parseInt(f.getAttribute("x"),10)+c.frame.x,parseInt(f.getAttribute("y"),10)+c.frame.y,parseInt(f.getAttribute("width"),10),parseInt(f.getAttribute("height"),
10));e.chars[m]={xOffset:parseInt(f.getAttribute("xoffset"),10),yOffset:parseInt(f.getAttribute("yoffset"),10),xAdvance:parseInt(f.getAttribute("xadvance"),10),kerning:{},texture:new d.Texture(c.baseTexture,k)}}h=a.getElementsByTagName("kerning");for(g=0;g<h.length;g++)k=h[g],f=parseInt(k.getAttribute("first"),10),m=parseInt(k.getAttribute("second"),10),k=parseInt(k.getAttribute("amount"),10),e.chars[m]&&(e.chars[m].kerning[f]=k);return b.fonts[e.font]=e};e(b,[{key:"tint",get:function(){return this._font.tint},
set:function(a){this._font.tint="number"===typeof a&&0<=a?a:16777215;this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(a){this._font.align=a||"left";this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(a){"number"===typeof a?this._anchor.set(a):this._anchor.copy(a)}},{key:"font",get:function(){return this._font},set:function(a){a&&("string"===typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=2<=
a.length?parseInt(a[0],10):b.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"===typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(a){a=a.toString()||" ";this._text!==a&&(this._text=a,this.dirty=!0)}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);return b}(d.Container);f["default"]=b;b.fonts={}},{"../core":63,
"../core/math/ObservablePoint":66}],131:[function(b,l,f){f.__esModule=!0;var k=function(){function b(c,a){for(var b=0;b<a.length;b++){var d=a[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,a,d){a&&b(c.prototype,a);d&&b(c,d);return c}}(),g=(b=b("../core/math/Matrix"))&&b.__esModule?b:{"default":b},e=new g["default"];b=function(){function b(c,a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this._texture=c;this.mapCoord=new g["default"];this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin="undefined"===typeof a?.5:a}b.prototype.update=function(c){var a=this._texture;if(a&&a.valid&&(c||this._lastTextureID!==a._updateID)){this._lastTextureID=a._updateID;c=a._uvs;this.mapCoord.set(c.x1-c.x0,c.y1-c.y0,c.x3-c.x0,c.y3-c.y0,c.x0,c.y0);c=a.orig;var b=a.trim;b&&(e.set(c.width/b.width,0,0,c.height/b.height,-b.x/b.width,
-b.y/b.height),this.mapCoord.append(e));c=a.baseTexture;var b=this.uClampFrame,d=this.clampMargin/c.resolution,g=this.clampOffset;b[0]=(a._frame.x+d+g)/c.width;b[1]=(a._frame.y+d+g)/c.height;b[2]=(a._frame.x+a._frame.width-d+g)/c.width;b[3]=(a._frame.y+a._frame.height-d+g)/c.height;this.uClampOffset[0]=g/c.realWidth;this.uClampOffset[1]=g/c.realHeight}};k(b,[{key:"texture",get:function(){return this._texture},set:function(c){this._texture=c;this._lastTextureID=-1}}]);return b}();f["default"]=b},{"../core/math/Matrix":65}],
132:[function(b,l,f){function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var g=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);
Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),e=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../core")),d=(l=b("../core/sprites/canvas/CanvasTinter"))&&l.__esModule?l:{"default":l},c=(b=b("./TextureTransform"))&&b.__esModule?b:{"default":b},a=new e.Point;b=function(b){function h(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
100,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.tileTransform=new e.TransformStatic;f._width=d;f._height=g;f._canvasPattern=null;f.uvTransform=a.transform||new c["default"](a);f.pluginName="tilingSprite";f.uvRespectAnchor=!1;return f}
k(h,b);h.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)};h.prototype._renderWebGL=function(a){var c=this._texture;c&&c.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),a.setObjectRenderer(a.plugins[this.pluginName]),a.plugins[this.pluginName].render(this))};h.prototype._renderCanvas=function(a){var c=this._texture;if(c.baseTexture.hasLoaded){var b=a.context,h=this.worldTransform,g=a.resolution,f=c.baseTexture,m=c.baseTexture.resolution,
k=this.tilePosition.x/this.tileScale.x%c._frame.width,l=this.tilePosition.y/this.tileScale.y%c._frame.height;if(!this._canvasPattern){var p=new e.CanvasRenderTarget(c._frame.width,c._frame.height,m);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=d["default"].getTintedTexture(this,this.tint)),p.context.drawImage(this.tintedTexture,0,0)):p.context.drawImage(f.source,-c._frame.x,-c._frame.y);this._canvasPattern=p.context.createPattern(p.canvas,"repeat")}b.globalAlpha=
this.worldAlpha;b.setTransform(h.a*g,h.b*g,h.c*g,h.d*g,h.tx*g,h.ty*g);a.setBlendMode(this.blendMode);b.fillStyle=this._canvasPattern;b.scale(this.tileScale.x/m,this.tileScale.y/m);a=this.anchor.x*-this._width;c=this.anchor.y*-this._height;this.uvRespectAnchor?(b.translate(k,l),b.fillRect(-k+a,-l+c,this._width/this.tileScale.x*m,this._height/this.tileScale.y*m)):(b.translate(k+a,l+c),b.fillRect(-k,-l,this._width/this.tileScale.x*m,this._height/this.tileScale.y*m))}};h.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,
this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))};h.prototype.getLocalBounds=function(a){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),a||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),a=this._localBoundsRect),this._bounds.getRectangle(a)):
b.prototype.getLocalBounds.call(this,a)};h.prototype.containsPoint=function(c){this.worldTransform.applyInverse(c,a);var b=this._width;c=this._height;var d=-b*this.anchor._x;return a.x>d&&a.x<d+b&&(b=-c*this.anchor._y,a.y>b&&a.y<b+c)?!0:!1};h.prototype.destroy=function(){b.prototype.destroy.call(this);this.uvTransform=this.tileTransform=null};h.from=function(a,c,b){return new h(e.Texture.from(a),c,b)};h.fromFrame=function(a,c,b){var d=e.utils.TextureCache[a];if(!d)throw Error('The frameId "'+a+'" does not exist in the texture cache '+
this);return new h(d,c,b)};h.fromImage=function(a,c,b,d,g){return new h(e.Texture.fromImage(a,d,g),c,b)};g(h,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(a){this.uvTransform.clampMargin=a;this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(a){this.tileTransform.scale.copy(a)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(a){this.tileTransform.position.copy(a)}},{key:"width",
get:function(){return this._width},set:function(a){this._width=a}},{key:"height",get:function(){return this._height},set:function(a){this._height=a}}]);return h}(e.Sprite);f["default"]=b},{"../core":63,"../core/sprites/canvas/CanvasTinter":102,"./TextureTransform":131}],133:[function(b,l,f){var k=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a]);c["default"]=b;return c}(b("../core"));b=k.DisplayObject;var g=new k.Matrix;
b.prototype._cacheAsBitmap=!1;b.prototype._cacheData=!1;var e=function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=this.originalRenderWebGL=null};Object.defineProperties(b.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(c){this._cacheAsBitmap!==
c&&((this._cacheAsBitmap=c)?(this._cacheData||(this._cacheData=new e),c=this._cacheData,c.originalRenderWebGL=this.renderWebGL,c.originalRenderCanvas=this.renderCanvas,c.originalUpdateTransform=this.updateTransform,c.originalCalculateBounds=this._calculateBounds,c.originalGetLocalBounds=this.getLocalBounds,c.originalDestroy=this.destroy,c.originalContainsPoint=this.containsPoint,c.originalMask=this._mask,c.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=
this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(c=this._cacheData,c.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=c.originalRenderWebGL,this.renderCanvas=c.originalRenderCanvas,this._calculateBounds=c.originalCalculateBounds,this.getLocalBounds=c.originalGetLocalBounds,this.destroy=c.originalDestroy,this.updateTransform=c.originalUpdateTransform,this.containsPoint=c.originalContainsPoint,this._mask=c.originalMask,this.filterArea=c.originalFilterArea))}}});b.prototype._renderCachedWebGL=
function(c){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(c),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(c))};b.prototype._initCachedDisplayObject=function(c){if(!this._cacheData||!this._cacheData.sprite){var a=this.alpha;this.alpha=1;c.currentRenderer.flush();var b=this.getLocalBounds().clone();this._filters&&b.pad(this._filters[0].padding);var e=c._activeRenderTarget,f=c.filterManager.filterStack,
l=k.RenderTexture.create(b.width|0,b.height|0);g.tx=-b.x;g.ty=-b.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;c.render(this,l,!0,g,!0);c.bindRenderTarget(e);c.filterManager.filterStack=f;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this.filterArea=this._mask=null;c=new k.Sprite(l);c.transform.worldTransform=this.transform.worldTransform;c.anchor.x=-(b.x/b.width);c.anchor.y=-(b.y/b.height);c.alpha=
a;c._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=c;this.transform._parentID=-1;this.updateTransform();this.containsPoint=c.containsPoint.bind(c)}};b.prototype._renderCachedCanvas=function(c){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(c),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(c))};b.prototype._initCachedDisplayObjectCanvas=
function(c){if(!this._cacheData||!this._cacheData.sprite){var a=this.getLocalBounds(),b=this.alpha;this.alpha=1;var e=c.context,f=k.RenderTexture.create(a.width|0,a.height|0);this.transform.localTransform.copy(g);g.invert();g.tx-=a.x;g.ty-=a.y;this.renderCanvas=this._cacheData.originalRenderCanvas;c.render(this,f,!0,g,!1);c.context=e;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;c=new k.Sprite(f);c.transform.worldTransform=
this.transform.worldTransform;c.anchor.x=-(a.x/a.width);c.anchor.y=-(a.y/a.height);c._bounds=this._bounds;c.alpha=b;this.updateTransform();this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=c;this.containsPoint=c.containsPoint.bind(c)}};b.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};b.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};b.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);
this._cacheData.sprite=null};b.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1;this.destroy()}},{"../core":63}],134:[function(b,l,f){b=function(b){if(b&&b.__esModule)return b;var g={};if(null!=b)for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(g[e]=b[e]);g["default"]=b;return g}(b("../core"));b.DisplayObject.prototype.name=null;b.Container.prototype.getChildByName=function(b){for(var g=0;g<this.children.length;g++)if(this.children[g].name===b)return this.children[g];return null}},
{"../core":63}],135:[function(b,l,f){var k=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../core"));k.DisplayObject.prototype.getGlobalPosition=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new k.Point,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,b,e):(b.x=this.position.x,b.y=this.position.y);return b}},
{"../core":63}],136:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;f.BitmapText=f.TilingSpriteRenderer=f.TilingSprite=f.AnimatedSprite=f.TextureTransform=void 0;var g=b("./TextureTransform");Object.defineProperty(f,"TextureTransform",{enumerable:!0,get:function(){return k(g)["default"]}});var e=b("./AnimatedSprite");Object.defineProperty(f,"AnimatedSprite",{enumerable:!0,get:function(){return k(e)["default"]}});var d=b("./TilingSprite");Object.defineProperty(f,
"TilingSprite",{enumerable:!0,get:function(){return k(d)["default"]}});var c=b("./webgl/TilingSpriteRenderer");Object.defineProperty(f,"TilingSpriteRenderer",{enumerable:!0,get:function(){return k(c)["default"]}});var a=b("./BitmapText");Object.defineProperty(f,"BitmapText",{enumerable:!0,get:function(){return k(a)["default"]}});b("./cacheAsBitmap");b("./getChildByName");b("./getGlobalPosition")},{"./AnimatedSprite":129,"./BitmapText":130,"./TextureTransform":131,"./TilingSprite":132,"./cacheAsBitmap":133,
"./getChildByName":134,"./getGlobalPosition":135,"./webgl/TilingSpriteRenderer":137}],137:[function(b,l,f){function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var g=function(a){if(a&&a.__esModule)return a;var c={};if(null!=
a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core")),e=b("../../core/const");b("path");var d=new g.Matrix,c=new Float32Array(4);b=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.simpleShader=null;c.quad=
null;return c}k(b,a);b.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new g.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n");
this.simpleShader=new g.Shader(a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n");
this.renderer.bindVao(null);this.quad=new g.Quad(a,this.renderer.state.attribState);this.quad.initVao(this.shader)};b.prototype.render=function(a){var b=this.renderer,h=this.quad;b.bindVao(h.vao);var f=h.vertices;f[0]=f[6]=a._width*-a.anchor.x;f[1]=f[3]=a._height*-a.anchor.y;f[2]=f[4]=a._width*(1-a.anchor.x);f[5]=f[7]=a._height*(1-a.anchor.y);a.uvRespectAnchor&&(f=h.uvs,f[0]=f[6]=-a.anchor.x,f[1]=f[3]=-a.anchor.y,f[2]=f[4]=1-a.anchor.x,f[5]=f[7]=1-a.anchor.y);h.upload();var f=a._texture,m=f.baseTexture,
k=a.tileTransform.localTransform,l=a.uvTransform,r=m.isPowerOfTwo&&f.frame.width===m.width&&f.frame.height===m.height;r&&(m._glTextures[b.CONTEXT_UID]?r=m.wrapMode!==e.WRAP_MODES.CLAMP:m.wrapMode===e.WRAP_MODES.CLAMP&&(m.wrapMode=e.WRAP_MODES.REPEAT));m=r?this.simpleShader:this.shader;b.bindShader(m);var x=f.width,t=f.height,y=a._width,A=a._height;d.set(k.a*x/y,k.b*x/A,k.c*t/y,k.d*t/A,k.tx/y,k.ty/A);d.invert();r?d.append(l.mapCoord):(m.uniforms.uMapCoord=l.mapCoord.toArray(!0),m.uniforms.uClampFrame=
l.uClampFrame,m.uniforms.uClampOffset=l.uClampOffset);m.uniforms.uTransform=d.toArray(!0);g.utils.hex2rgb(a.tint,c);c[3]=a.worldAlpha;m.uniforms.uColor=c;m.uniforms.translationMatrix=a.transform.worldTransform.toArray(!0);m.uniforms.uSampler=b.bindTexture(f);b.setBlendMode(a.blendMode);h.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return b}(g.ObjectRenderer);f["default"]=b;g.WebGLRenderer.registerPlugin("tilingSprite",b)},{"../../core":63,"../../core/const":44,path:22}],138:[function(b,l,f){function k(a,
c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var g=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}
return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),e=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core")),d=(l=b("./BlurXFilter"))&&l.__esModule?l:{"default":l},c=(b=b("./BlurYFilter"))&&b.__esModule?b:{"default":b};b=function(a){function b(h,g,f,k){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var m;m=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.blurXFilter=new d["default"](h,g,f,k);m.blurYFilter=new c["default"](h,g,f,k);m.padding=0;m.resolution=f||e.settings.RESOLUTION;m.quality=g||4;m.blur=h||8;return m}k(b,a);b.prototype.apply=function(a,c,b){var d=a.getRenderTarget(!0);this.blurXFilter.apply(a,c,d,!0);this.blurYFilter.apply(a,d,b,!1);a.returnRenderTarget(d)};g(b,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=
a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(a){this.blurXFilter.quality=this.blurYFilter.quality=a}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=
a;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]);return b}(e.Filter);f["default"]=b},{"../../core":63,"./BlurXFilter":139,"./BlurYFilter":140}],139:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),d=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core"));
l=b("./generateBlurVertSource");var c=k(l);l=b("./generateBlurFragSource");var a=k(l);b=b("./getMaxBlurKernelSize");var h=k(b);b=function(b){function f(e,h,g,k){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");k=k||5;var m=(0,c["default"])(k,!0);k=(0,a["default"])(k);m=b.call(this,m,k);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.resolution=g||d.settings.RESOLUTION;
m._quality=0;m.quality=h||4;m.strength=e||8;m.firstRun=!0;return m}g(f,b);f.prototype.apply=function(b,d,e,g){if(this.firstRun){var f=b.renderer.gl,f=(0,h["default"])(f);this.vertexSrc=(0,c["default"])(f,!0);this.fragmentSrc=(0,a["default"])(f);this.firstRun=!1}this.uniforms.strength=1/e.size.width*(e.size.width/d.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)b.applyFilter(this,d,e,g);else{for(var k=f=b.getRenderTarget(!0),m=0;m<this.passes-
1;m++){b.applyFilter(this,d,k,!0);var l=k,k=d;d=l}b.applyFilter(this,d,e,g);b.returnRenderTarget(f)}};e(f,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},set:function(a){this.passes=this._quality=a}}]);return f}(d.Filter);f["default"]=b},{"../../core":63,"./generateBlurFragSource":141,"./generateBlurVertSource":142,"./getMaxBlurKernelSize":143}],140:[function(b,l,f){function k(a){return a&&
a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=
!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),d=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../../core"));l=b("./generateBlurVertSource");var c=k(l);l=b("./generateBlurFragSource");var a=k(l);b=b("./getMaxBlurKernelSize");var h=k(b);b=function(b){function f(e,h,g,k){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");
k=k||5;var m=(0,c["default"])(k,!1);k=(0,a["default"])(k);m=b.call(this,m,k);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.resolution=g||d.settings.RESOLUTION;m._quality=0;m.quality=h||4;m.strength=e||8;m.firstRun=!0;return m}g(f,b);f.prototype.apply=function(b,d,e,g){if(this.firstRun){var f=b.renderer.gl,f=(0,h["default"])(f);this.vertexSrc=(0,c["default"])(f,!1);this.fragmentSrc=(0,a["default"])(f);
this.firstRun=!1}this.uniforms.strength=1/e.size.height*(e.size.height/d.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)b.applyFilter(this,d,e,g);else{for(var k=f=b.getRenderTarget(!0),m=0;m<this.passes-1;m++){b.applyFilter(this,d,k,!0);var l=k,k=d;d=l}b.applyFilter(this,d,e,g);b.returnRenderTarget(f)}};e(f,[{key:"blur",get:function(){return this.strength},set:function(a){this.padding=2*Math.abs(a);this.strength=a}},{key:"quality",get:function(){return this._quality},
set:function(a){this.passes=this._quality=a}}]);return f}(d.Filter);f["default"]=b},{"../../core":63,"./generateBlurFragSource":141,"./generateBlurVertSource":142,"./getMaxBlurKernelSize":143}],141:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){for(var d=k[b],c=d.length,a=g,e="",f,l=0;l<b;l++){var n="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",l);f=l;l>=c&&(f=b-l-1);n=n.replace("%value%",d[f]);e+=n;e+="\n"}a=a.replace("%blur%",e);return a=
a.replace("%size%",b)};var k={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},g="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},{}],142:[function(b,l,f){f.__esModule=!0;f["default"]=
function(b,e){var d=Math.ceil(b/2),c=k,a="",h;h=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var g=0;g<b;g++)var f=h.replace("%index%",g),f=f.replace("%sampleIndex%",g-(d-1)+".0"),a=a+f,a=a+"\n";c=c.replace("%blur%",a);return c=c.replace("%size%",b)};var k="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},
{}],143:[function(b,l,f){f.__esModule=!0;f["default"]=function(b){b=b.getParameter(b.MAX_VARYING_VECTORS);for(var g=15;g>b;)g-=2;return g}},{}],144:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;var g=
function(){function b(b,c){for(var a=0;a<c.length;a++){var d=c[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(d,c,a){c&&b(d.prototype,c);a&&b(d,a);return d}}();l=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);d["default"]=b;return d}(b("../../core"));b("path");b=function(b){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var c;c=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    // Premultiply alpha again.\n    result.rgb *= result.a;\n\n    gl_FragColor = result;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return c}k(d,b);d.prototype._loadMatrix=function(c){var a=c;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(a,this.uniforms.m,c),a=this._colorMatrix(a));this.uniforms.m=a};d.prototype._multiply=function(c,a,b){c[0]=a[0]*b[0]+a[1]*b[5]+a[2]*b[10]+a[3]*b[15];c[1]=a[0]*b[1]+
a[1]*b[6]+a[2]*b[11]+a[3]*b[16];c[2]=a[0]*b[2]+a[1]*b[7]+a[2]*b[12]+a[3]*b[17];c[3]=a[0]*b[3]+a[1]*b[8]+a[2]*b[13]+a[3]*b[18];c[4]=a[0]*b[4]+a[1]*b[9]+a[2]*b[14]+a[3]*b[19]+a[4];c[5]=a[5]*b[0]+a[6]*b[5]+a[7]*b[10]+a[8]*b[15];c[6]=a[5]*b[1]+a[6]*b[6]+a[7]*b[11]+a[8]*b[16];c[7]=a[5]*b[2]+a[6]*b[7]+a[7]*b[12]+a[8]*b[17];c[8]=a[5]*b[3]+a[6]*b[8]+a[7]*b[13]+a[8]*b[18];c[9]=a[5]*b[4]+a[6]*b[9]+a[7]*b[14]+a[8]*b[19]+a[9];c[10]=a[10]*b[0]+a[11]*b[5]+a[12]*b[10]+a[13]*b[15];c[11]=a[10]*b[1]+a[11]*b[6]+a[12]*
b[11]+a[13]*b[16];c[12]=a[10]*b[2]+a[11]*b[7]+a[12]*b[12]+a[13]*b[17];c[13]=a[10]*b[3]+a[11]*b[8]+a[12]*b[13]+a[13]*b[18];c[14]=a[10]*b[4]+a[11]*b[9]+a[12]*b[14]+a[13]*b[19]+a[14];c[15]=a[15]*b[0]+a[16]*b[5]+a[17]*b[10]+a[18]*b[15];c[16]=a[15]*b[1]+a[16]*b[6]+a[17]*b[11]+a[18]*b[16];c[17]=a[15]*b[2]+a[16]*b[7]+a[17]*b[12]+a[18]*b[17];c[18]=a[15]*b[3]+a[16]*b[8]+a[17]*b[13]+a[18]*b[18];c[19]=a[15]*b[4]+a[16]*b[9]+a[17]*b[14]+a[18]*b[19]+a[19];return c};d.prototype._colorMatrix=function(c){c=new Float32Array(c);
c[4]/=255;c[9]/=255;c[14]/=255;c[19]/=255;return c};d.prototype.brightness=function(c,a){this._loadMatrix([c,0,0,0,0,0,c,0,0,0,0,0,c,0,0,0,0,0,1,0],a)};d.prototype.greyscale=function(c,a){this._loadMatrix([c,c,c,0,0,c,c,c,0,0,c,c,c,0,0,0,0,0,1,0],a)};d.prototype.blackAndWhite=function(c){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],c)};d.prototype.hue=function(c,a){c=(c||0)/180*Math.PI;var b=Math.cos(c),d=Math.sin(c),e=Math.sqrt,g=1/3,e=e(g);this._loadMatrix([b+(1-b)*g,g*(1-
b)-e*d,g*(1-b)+e*d,0,0,g*(1-b)+e*d,b+g*(1-b),g*(1-b)-e*d,0,0,g*(1-b)-e*d,g*(1-b)+e*d,b+g*(1-b),0,0,0,0,0,1,0],a)};d.prototype.contrast=function(c,a){var b=(c||0)+1,d=-128*(b-1);this._loadMatrix([b,0,0,0,d,0,b,0,0,d,0,0,b,0,d,0,0,0,1,0],a)};d.prototype.saturate=function(){var c=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,a=-.5*(c-1);this._loadMatrix([c,a,a,0,0,a,c,a,0,0,a,a,c,0,0,0,0,0,1,0],arguments[1])};d.prototype.desaturate=function(){this.saturate(-1)};d.prototype.negative=
function(c){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],c)};d.prototype.sepia=function(c){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],c)};d.prototype.technicolor=function(c){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,
0,0,0,1,0],c)};d.prototype.polaroid=function(c){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],c)};d.prototype.toBGR=function(c){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],c)};d.prototype.kodachrome=function(c){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,
0,35.62982807460946,0,0,0,1,0],c)};d.prototype.browni=function(c){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],c)};d.prototype.vintage=function(c){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,
0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],c)};d.prototype.colorTone=function(c,a,b,d,e){b=b||16770432;d=d||3375104;var h=(b>>16&255)/255,g=(b>>8&255)/255;b=(b&255)/255;var f=(d>>16&255)/255,k=(d>>8&255)/255;d=(d&255)/255;this._loadMatrix([.3,.59,.11,0,0,h,g,b,c||.2,0,f,k,d,a||.15,0,h-f,g-k,b-d,0,0],e)};d.prototype.night=function(c,a){c=c||.1;this._loadMatrix([-2*c,-c,0,0,0,-c,0,c,0,0,0,c,2*c,0,0,0,0,0,1,0],a)};d.prototype.predator=function(c,
a){this._loadMatrix([11.224130630493164*c,-4.794486999511719*c,-2.8746118545532227*c,0*c,.40342438220977783*c,-3.6330697536468506*c,9.193157196044922*c,-2.951810836791992*c,0*c,-1.316135048866272*c,-3.2184197902679443*c,-4.2375030517578125*c,7.476448059082031*c,0*c,.8044459223747253*c,0,0,0,1,0],a)};d.prototype.lsd=function(c){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],c)};d.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};g(d,[{key:"matrix",
get:function(){return this.uniforms.m},set:function(c){this.uniforms.m=c}}]);return d}(l.Filter);f["default"]=b;b.prototype.grayscale=b.prototype.greyscale},{"../../core":63,path:22}],145:[function(b,l,f){function k(b,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,
c):b.__proto__=c)}f.__esModule=!0;var g=function(){function b(c,a){for(var b=0;b<a.length;b++){var d=a[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,a,d){a&&b(c.prototype,a);d&&b(c,d);return c}}(),e=function(b){if(b&&b.__esModule)return b;var c={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a]);c["default"]=b;return c}(b("../../core"));b("path");b=function(b){function c(a,d){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");var h=new e.Matrix;a.renderable=!1;var g;g=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}",
"varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.maskSprite=a;g.maskMatrix=h;g.uniforms.mapSampler=a.texture;g.uniforms.filterMatrix=h;g.uniforms.scale={x:1,y:1};if(null===d||void 0===d)d=20;g.scale=new e.Point(d,d);return g}k(c,b);c.prototype.apply=function(a,c,b){var d=1/b.destinationFrame.width*(b.size.width/c.size.width);this.uniforms.filterMatrix=a.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x*d;this.uniforms.scale.y=this.scale.y*d;a.applyFilter(this,
c,b)};g(c,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(a){this.uniforms.mapSampler=a}}]);return c}(e.Filter);f["default"]=b},{"../../core":63,path:22}],146:[function(b,l,f){function k(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):
b.__proto__=e)}f.__esModule=!0;l=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../../core"));b("path");b=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var d=b.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}k(e,b);return e}(l.Filter);f["default"]=b},{"../../core":63,path:22}],147:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var g=b("./fxaa/FXAAFilter");Object.defineProperty(f,"FXAAFilter",{enumerable:!0,get:function(){return k(g)["default"]}});var e=b("./noise/NoiseFilter");Object.defineProperty(f,"NoiseFilter",
{enumerable:!0,get:function(){return k(e)["default"]}});var d=b("./displacement/DisplacementFilter");Object.defineProperty(f,"DisplacementFilter",{enumerable:!0,get:function(){return k(d)["default"]}});var c=b("./blur/BlurFilter");Object.defineProperty(f,"BlurFilter",{enumerable:!0,get:function(){return k(c)["default"]}});var a=b("./blur/BlurXFilter");Object.defineProperty(f,"BlurXFilter",{enumerable:!0,get:function(){return k(a)["default"]}});var h=b("./blur/BlurYFilter");Object.defineProperty(f,
"BlurYFilter",{enumerable:!0,get:function(){return k(h)["default"]}});var m=b("./colormatrix/ColorMatrixFilter");Object.defineProperty(f,"ColorMatrixFilter",{enumerable:!0,get:function(){return k(m)["default"]}});var p=b("./void/VoidFilter");Object.defineProperty(f,"VoidFilter",{enumerable:!0,get:function(){return k(p)["default"]}})},{"./blur/BlurFilter":138,"./blur/BlurXFilter":139,"./blur/BlurYFilter":140,"./colormatrix/ColorMatrixFilter":144,"./displacement/DisplacementFilter":145,"./fxaa/FXAAFilter":146,
"./noise/NoiseFilter":148,"./void/VoidFilter":149}],148:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;var g=function(){function b(b,c){for(var a=0;a<c.length;a++){var d=c[a];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(d,c,a){c&&b(d.prototype,c);a&&b(d,a);return d}}();l=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);d["default"]=b;return d}(b("../../core"));b("path");b=function(b){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var c;c=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.noise=.5;return c}k(d,b);g(d,[{key:"noise",get:function(){return this.uniforms.noise},set:function(c){this.uniforms.noise=c}}]);return d}(l.Filter);f["default"]=b},{"../../core":63,path:22}],149:[function(b,l,f){function k(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}f.__esModule=!0;l=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../../core"));b("path");b=function(b){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var d;d=b.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.glShaderKey="void";return d}k(e,b);return e}(l.Filter);f["default"]=b},{"../../core":63,path:22}],150:[function(b,l,f){f.__esModule=!0;var k=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,
d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../core"));b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.global=new k.Point;this.identifier=this.originalEvent=this.target=null}b.prototype.getLocalPosition=function(b,d,c){return b.worldTransform.applyInverse(c||this.global,d)};return b}();f["default"]=b},{"../core":63}],151:[function(b,l,f){f.__esModule=!0;b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.stopped=!1;this.data=this.type=this.currentTarget=this.target=null}b.prototype.stopPropagation=function(){this.stopped=!0};b.prototype._reset=function(){this.stopped=!1;this.target=this.currentTarget=null};return b}();f["default"]=b},{}],152:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../core"));
l=b("./InteractionData");var c=k(l);l=b("./InteractionEvent");var a=k(l);l=b("./InteractionTrackingData");var h=k(l);l=b("eventemitter3");l=k(l);b=b("./interactiveTarget");b=k(b);d.utils.mixins.delayMixin(d.DisplayObject.prototype,b["default"]);b=function(b){function f(e,h){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var g;g=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==
typeof g?this:g;h=h||{};g.renderer=e;g.autoPreventDefault=void 0!==h.autoPreventDefault?h.autoPreventDefault:!0;g.interactionFrequency=h.interactionFrequency||10;g.mouse=new c["default"];g.mouse.identifier="MOUSE";g.mouse.global.set(-999999);g.activeInteractionData={};g.activeInteractionData.MOUSE=g.mouse;g.interactionDataPool=[];g.eventData=new a["default"];g.interactionDOMElement=null;g.moveWhenInside=!1;g.eventsAdded=!1;g.mouseOverRenderer=!1;g.supportsTouchEvents="ontouchstart"in window;g.supportsPointerEvents=
!!window.PointerEvent;g.onPointerUp=g.onPointerUp.bind(g);g.processPointerUp=g.processPointerUp.bind(g);g.onPointerCancel=g.onPointerCancel.bind(g);g.processPointerCancel=g.processPointerCancel.bind(g);g.onPointerDown=g.onPointerDown.bind(g);g.processPointerDown=g.processPointerDown.bind(g);g.onPointerMove=g.onPointerMove.bind(g);g.processPointerMove=g.processPointerMove.bind(g);g.onPointerOut=g.onPointerOut.bind(g);g.processPointerOverOut=g.processPointerOverOut.bind(g);g.onPointerOver=g.onPointerOver.bind(g);
g.cursorStyles={"default":"inherit",pointer:"pointer"};g.currentCursorMode=null;g.cursor=null;g._tempPoint=new d.Point;g.resolution=1;g.setTargetElement(g.renderer.view,g.renderer.resolution);return g}g(f,b);f.prototype.setTargetElement=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents();this.interactionDOMElement=a;this.resolution=c;this.addEvents()};f.prototype.addEvents=function(){this.interactionDOMElement&&(d.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?
(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",
this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,
!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0))),this.eventsAdded=!0)};f.prototype.removeEvents=function(){this.interactionDOMElement&&(d.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?
(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",
this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",
this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)};f.prototype.update=function(a){this._deltaTime+=a;if(!(this._deltaTime<
this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{this.cursor=null;for(var c in this.activeInteractionData)this.activeInteractionData.hasOwnProperty(c)&&(a=this.activeInteractionData[c],a.originalEvent&&"touch"!==a.pointerType&&(a=this.configureInteractionEventForDOMEvent(this.eventData,a.originalEvent,a),this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)));this.setCursorMode(this.cursor)}};f.prototype.setCursorMode=
function(a){a=a||"default";if(this.currentCursorMode!==a){this.currentCursorMode=a;var c=this.cursorStyles[a];if(c)switch("undefined"===typeof c?"undefined":e(c)){case "string":this.interactionDOMElement.style.cursor=c;break;case "function":c(a);break;case "object":Object.assign(this.interactionDOMElement.style,c)}}};f.prototype.dispatchEvent=function(a,c,b){if(!b.stopped&&(b.currentTarget=a,b.type=c,a.emit(c,b),a[c]))a[c](b)};f.prototype.mapPositionToPoint=function(a,c,b){var d;d=this.interactionDOMElement.parentElement?
this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var e=navigator.isCocoonJS?this.resolution:1/this.resolution;a.x=this.interactionDOMElement.width/d.width*(c-d.left)*e;a.y=this.interactionDOMElement.height/d.height*(b-d.top)*e};f.prototype.processInteractive=function(a,c,b,d,e){if(!c||!c.visible)return!1;var h=a.data.global;e=c.interactive||e;var g=!1,f=e;c.hitArea?f=!1:d&&c._mask&&(c._mask.containsPoint(h)||(d=!1));var k=d;if(c.interactiveChildren&&c.children)for(var m=
c.children,l=m.length-1;0<=l;l--){var n=m[l];this.processInteractive(a,n,b,d,f)&&n.parent&&(g=!0,k=f=!1,n.interactive&&(d=!1))}e&&(k&&!g&&(c.hitArea?(c.worldTransform.applyInverse(h,this._tempPoint),g=c.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):c.containsPoint&&(g=c.containsPoint(h))),c.interactive&&(g&&!a.target&&(a.target=c),b(a,c,g)));return g};f.prototype.onPointerDown=function(a){var c=this.normalizeToPointerData(a);this.autoPreventDefault&&c[0].isNormalized&&a.preventDefault();
for(var b=c.length,d=0;d<b;d++){var e=c[d],h=this.getInteractionDataForPointerId(e),h=this.configureInteractionEventForDOMEvent(this.eventData,e,h);h.data.originalEvent=a;this.processInteractive(h,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",h);"touch"===e.pointerType?this.emit("touchstart",h):"mouse"===e.pointerType&&this.emit(2===e.button||3===e.which?"rightdown":"mousedown",this.eventData)}};f.prototype.processPointerDown=function(a,c,b){var d=a.data.originalEvent,
e=a.data.identifier;if(b)if(c.trackedPointers[e]||(c.trackedPointers[e]=new h["default"](e)),this.dispatchEvent(c,"pointerdown",a),"touchstart"===d.type||"touch"===d.pointerType)this.dispatchEvent(c,"touchstart",a);else if("mousedown"===d.type||"mouse"===d.pointerType)(b=2===d.button||3===d.which)?c.trackedPointers[e].rightDown=!0:c.trackedPointers[e].leftDown=!0,this.dispatchEvent(c,b?"rightdown":"mousedown",a)};f.prototype.onPointerComplete=function(a,c,b){for(var d=this.normalizeToPointerData(a),
e=d.length,h=0;h<e;h++){var g=d[h],f=this.getInteractionDataForPointerId(g),k=this.configureInteractionEventForDOMEvent(this.eventData,g,f);k.data.originalEvent=a;this.processInteractive(k,this.renderer._lastObjectRendered,b,!0);this.emit(c?"pointercancel":"pointerup",k);"mouse"===g.pointerType?this.emit(2===g.button||3===g.which?"rightup":"mouseup",k):"touch"===g.pointerType&&(this.emit(c?"touchcancel":"touchend",k),this.releaseInteractionDataForPointerId(g.pointerId,f))}};f.prototype.onPointerCancel=
function(a){this.onPointerComplete(a,!0,this.processPointerCancel)};f.prototype.processPointerCancel=function(a,c){var b=a.data.originalEvent,d=a.data.identifier;void 0!==c.trackedPointers[d]&&(delete c.trackedPointers[d],this.dispatchEvent(c,"pointercancel",a),"touchcancel"!==b.type&&"touch"!==b.pointerType||this.dispatchEvent(c,"touchcancel",a))};f.prototype.onPointerUp=function(a){this.onPointerComplete(a,!1,this.processPointerUp)};f.prototype.processPointerUp=function(a,c,b){var d=a.data.originalEvent,
e=a.data.identifier,g=c.trackedPointers[e],f="touchend"===d.type||"touch"===d.pointerType;if(0===d.type.indexOf("mouse")||"mouse"===d.pointerType){var d=2===d.button||3===d.which,k=h["default"].FLAGS,k=d?k.RIGHT_DOWN:k.LEFT_DOWN,k=void 0!==g&&g.flags&k;b?(this.dispatchEvent(c,d?"rightup":"mouseup",a),k&&this.dispatchEvent(c,d?"rightclick":"click",a)):k&&this.dispatchEvent(c,d?"rightupoutside":"mouseupoutside",a);g&&(d?g.rightDown=b:g.leftDown=b)}b?(this.dispatchEvent(c,"pointerup",a),f&&this.dispatchEvent(c,
"touchend",a),g&&(this.dispatchEvent(c,"pointertap",a),f&&(this.dispatchEvent(c,"tap",a),g.over=!1))):g&&(this.dispatchEvent(c,"pointerupoutside",a),f&&this.dispatchEvent(c,"touchendoutside",a));g&&g.none&&delete c.trackedPointers[e]};f.prototype.onPointerMove=function(a){var c=this.normalizeToPointerData(a);"mouse"===c[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var b=c.length,d=0;d<b;d++){var e=c[d],h=this.getInteractionDataForPointerId(e),h=this.configureInteractionEventForDOMEvent(this.eventData,
e,h);h.data.originalEvent=a;this.processInteractive(h,this.renderer._lastObjectRendered,this.processPointerMove,"touch"===e.pointerType?this.moveWhenInside:!0);this.emit("pointermove",h);"touch"===e.pointerType&&this.emit("touchmove",h);"mouse"===e.pointerType&&this.emit("mousemove",h)}"mouse"===c[0].pointerType&&this.setCursorMode(this.cursor)};f.prototype.processPointerMove=function(a,c,b){var d=a.data.originalEvent,e="touchmove"===d.type||"touch"===d.pointerType;(d="mousemove"===d.type||"mouse"===
d.pointerType)&&this.processPointerOverOut(a,c,b);if(!this.moveWhenInside||b)this.dispatchEvent(c,"pointermove",a),e&&this.dispatchEvent(c,"touchmove",a),d&&this.dispatchEvent(c,"mousemove",a)};f.prototype.onPointerOut=function(a){a=this.normalizeToPointerData(a)[0];"mouse"===a.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var c=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,c);c.data.originalEvent=a;this.processInteractive(c,
this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",c);"mouse"===a.pointerType&&this.emit("mouseout",c)};f.prototype.processPointerOverOut=function(a,c,b){var d=a.data.originalEvent,e=a.data.identifier,d="mouseover"===d.type||"mouseout"===d.type||"mouse"===d.pointerType,g=c.trackedPointers[e];b&&!g&&(g=c.trackedPointers[e]=new h["default"](e));void 0!==g&&(b&&this.mouseOverRenderer?(g.over||(g.over=!0,this.dispatchEvent(c,"pointerover",a),d&&this.dispatchEvent(c,
"mouseover",a)),d&&null===this.cursor&&(this.cursor=c.cursor)):g.over&&(g.over=!1,this.dispatchEvent(c,"pointerout",this.eventData),d&&this.dispatchEvent(c,"mouseout",a),g.none&&delete c.trackedPointers[e]))};f.prototype.onPointerOver=function(a){a=this.normalizeToPointerData(a)[0];var c=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,c);c.data.originalEvent=a;"mouse"===a.pointerType&&(this.mouseOverRenderer=!0);this.emit("pointerover",c);"mouse"===
a.pointerType&&this.emit("mouseover",c)};f.prototype.getInteractionDataForPointerId=function(a){var b=a.pointerId;if("MOUSE"===b||"mouse"===a.pointerType)return this.mouse;if(this.activeInteractionData[b])return this.activeInteractionData[b];a=this.interactionDataPool.pop()||new c["default"];a.identifier=b;return this.activeInteractionData[b]=a};f.prototype.releaseInteractionDataForPointerId=function(a){var c=this.activeInteractionData[a];c&&(delete this.activeInteractionData[a],this.interactionDataPool.push(c))};
f.prototype.configureInteractionEventForDOMEvent=function(a,c,b){a.data=b;this.mapPositionToPoint(b.global,c.clientX,c.clientY);navigator.isCocoonJS&&"touch"===c.pointerType&&(b.global.x/=this.resolution,b.global.y/=this.resolution);"touch"===c.pointerType&&(c.globalX=b.global.x,c.globalY=b.global.y);b.originalEvent=c;a._reset();return a};f.prototype.normalizeToPointerData=function(a){var c=[];if(this.supportsTouchEvents&&a instanceof TouchEvent)for(var b=0,d=a.changedTouches.length;b<d;b++){var e=
a.changedTouches[b];"undefined"===typeof e.button&&(e.button=a.touches.length?1:0);"undefined"===typeof e.buttons&&(e.buttons=a.touches.length?1:0);"undefined"===typeof e.isPrimary&&(e.isPrimary=1===a.touches.length);"undefined"===typeof e.width&&(e.width=e.radiusX||1);"undefined"===typeof e.height&&(e.height=e.radiusY||1);"undefined"===typeof e.tiltX&&(e.tiltX=0);"undefined"===typeof e.tiltY&&(e.tiltY=0);"undefined"===typeof e.pointerType&&(e.pointerType="touch");"undefined"===typeof e.pointerId&&
(e.pointerId=e.identifier||0);"undefined"===typeof e.pressure&&(e.pressure=e.force||.5);"undefined"===typeof e.rotation&&(e.rotation=e.rotationAngle||0);"undefined"===typeof e.layerX&&(e.layerX=e.offsetX=e.clientX);"undefined"===typeof e.layerY&&(e.layerY=e.offsetY=e.clientY);e.isNormalized=!0;c.push(e)}else a instanceof MouseEvent&&!(this.supportsPointerEvents&&a instanceof window.PointerEvent)&&("undefined"===typeof a.isPrimary&&(a.isPrimary=!0),"undefined"===typeof a.width&&(a.width=1),"undefined"===
typeof a.height&&(a.height=1),"undefined"===typeof a.tiltX&&(a.tiltX=0),"undefined"===typeof a.tiltY&&(a.tiltY=0),"undefined"===typeof a.pointerType&&(a.pointerType="mouse"),"undefined"===typeof a.pointerId&&(a.pointerId="MOUSE"),"undefined"===typeof a.pressure&&(a.pressure=.5),"undefined"===typeof a.rotation&&(a.rotation=0),a.isNormalized=!0),c.push(a);return c};f.prototype.destroy=function(){this.removeEvents();this.removeAllListeners();this._tempPoint=this.onPointerOver=this.processPointerOverOut=
this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null};return f}(l["default"]);f["default"]=b;d.WebGLRenderer.registerPlugin("interaction",b);d.CanvasRenderer.registerPlugin("interaction",b)},{"../core":63,"./InteractionData":150,"./InteractionEvent":151,"./InteractionTrackingData":153,"./interactiveTarget":155,
eventemitter3:3}],153:[function(b,l,f){f.__esModule=!0;var k=function(){function b(b,d){for(var c=0;c<d.length;c++){var a=d[c];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,d,c){d&&b(e.prototype,d);c&&b(e,c);return e}}();b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._pointerId=e;this._flags=b.FLAGS.NONE}b.prototype._doSet=function(b,d){this._flags=d?
this._flags|b:this._flags&~b};k(b,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(b){this._flags=b}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(b){this._doSet(this.constructor.FLAGS.OVER,b)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(b){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,
b)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(b){this._doSet(this.constructor.FLAGS.LEFT_DOWN,b)}}]);return b}();f["default"]=b;b.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],154:[function(b,l,f){function k(c){return c&&c.__esModule?c:{"default":c}}f.__esModule=!0;var g=b("./InteractionData");Object.defineProperty(f,"InteractionData",{enumerable:!0,get:function(){return k(g)["default"]}});var e=b("./InteractionManager");
Object.defineProperty(f,"InteractionManager",{enumerable:!0,get:function(){return k(e)["default"]}});var d=b("./interactiveTarget");Object.defineProperty(f,"interactiveTarget",{enumerable:!0,get:function(){return k(d)["default"]}})},{"./InteractionData":150,"./InteractionManager":152,"./interactiveTarget":155}],155:[function(b,l,f){f.__esModule=!0;f["default"]={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(b){b?this.cursor="pointer":
"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0}},{}],156:[function(b,l,f){function k(a,b){a.bitmapFont=c.BitmapText.registerFont(a.data,b)}f.__esModule=!0;f.parse=k;f["default"]=function(){return function(a,c){if(a.data&&a.type===d.Resource.TYPE.XML)if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||null===
a.data.getElementsByTagName("info")[0].getAttribute("face"))c();else{var b=a.isDataUrl?"":g.dirname(a.url);a.isDataUrl&&("."===b&&(b=""),this.baseUrl&&b&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(b+="/"),b=b.replace(this.baseUrl,"")));b&&"/"!==b.charAt(b.length-1)&&(b+="/");b+=a.data.getElementsByTagName("page")[0].getAttribute("file");e.utils.TextureCache[b]?(k(a,e.utils.TextureCache[b]),c()):this.add(a.name+"_image",b,{crossOrigin:a.crossOrigin,loadType:d.Resource.LOAD_TYPE.IMAGE,metadata:a.metadata.imageMetadata,
parentResource:a},function(b){k(a,b.texture);c()})}else c()}};var g=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("path")),e=b("../core"),d=b("resource-loader"),c=b("../extras")},{"../core":63,"../extras":136,path:22,"resource-loader":34}],157:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var g=b("./loader");Object.defineProperty(f,"Loader",{enumerable:!0,
get:function(){return k(g)["default"]}});var e=b("./bitmapFontParser");Object.defineProperty(f,"bitmapFontParser",{enumerable:!0,get:function(){return k(e)["default"]}});Object.defineProperty(f,"parseBitmapFontData",{enumerable:!0,get:function(){return e.parse}});var d=b("./spritesheetParser");Object.defineProperty(f,"spritesheetParser",{enumerable:!0,get:function(){return k(d)["default"]}});var c=b("./textureParser");Object.defineProperty(f,"textureParser",{enumerable:!0,get:function(){return k(c)["default"]}});
var a=b("resource-loader");Object.defineProperty(f,"Resource",{enumerable:!0,get:function(){return a.Resource}})},{"./bitmapFontParser":156,"./loader":158,"./spritesheetParser":159,"./textureParser":160,"resource-loader":34}],158:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}function g(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function e(a,c){if("function"!==typeof c&&
null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;l=b("resource-loader");l=k(l);var d=b("resource-loader/lib/middlewares/parsing/blob"),c=b("eventemitter3"),a=k(c),c=b("./textureParser"),c=k(c),h=b("./spritesheetParser"),h=k(h);b=b("./bitmapFontParser");b=k(b);
var m=function(c){function b(d,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var h=g(this,c.call(this,d,e));a["default"].call(h);for(var f=0;f<b._pixiMiddleware.length;++f)h.use(b._pixiMiddleware[f]());h.onStart.add(function(a){return h.emit("start",a)});h.onProgress.add(function(a,c){return h.emit("progress",a,c)});h.onError.add(function(a,c,b){return h.emit("error",a,c,b)});h.onLoad.add(function(a,c){return h.emit("load",a,c)});h.onComplete.add(function(a,c){return h.emit("complete",
a,c)});return h}e(b,c);b.addPixiMiddleware=function(a){b._pixiMiddleware.push(a)};return b}(l["default"]);f["default"]=m;for(var p in a["default"].prototype)m.prototype[p]=a["default"].prototype[p];m._pixiMiddleware=[d.blobMiddlewareFactory,c["default"],h["default"],b["default"]];f=l["default"].Resource;f.setExtensionXhrType("fnt",f.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":156,"./spritesheetParser":159,"./textureParser":160,eventemitter3:3,"resource-loader":34,"resource-loader/lib/middlewares/parsing/blob":35}],
159:[function(b,l,f){f.__esModule=!0;f["default"]=function(){return function(b,c){var a=void 0,d=b.name+"_image";if(b.data&&b.type===k.Resource.TYPE.JSON&&b.data.frames&&!this.resources[d]){var f={crossOrigin:b.crossOrigin,loadType:k.Resource.LOAD_TYPE.IMAGE,metadata:b.metadata.imageMetadata,parentResource:b},a=b.isDataUrl?b.data.meta.image:g["default"].dirname(b.url.replace(this.baseUrl,""))+"/"+b.data.meta.image;this.add(d,a,f,function(a){var d=new e.Spritesheet(a.texture.baseTexture,b.data,b.url);
d.parse(function(){b.spritesheet=d;b.textures=d.textures;c()})})}else c()}};var k=b("resource-loader"),g=(l=b("path"))&&l.__esModule?l:{"default":l},e=b("../core")},{"../core":63,path:22,"resource-loader":34}],160:[function(b,l,f){f.__esModule=!0;f["default"]=function(){return function(b,d){b.data&&b.type===k.Resource.TYPE.IMAGE&&(b.texture=g["default"].fromLoader(b.data,b.url,b.name));d()}};var k=b("resource-loader"),g=(b=b("../core/textures/Texture"))&&b.__esModule?b:{"default":b}},{"../core/textures/Texture":112,
"resource-loader":34}],161:[function(b,l,f){function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}f.__esModule=!0;var g=function(){function a(a,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in
d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,d){b&&a(c.prototype,b);d&&a(c,d);return c}}(),e=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(b("../core")),d=new e.Point,c=new e.Polygon;b=function(a){function b(c,d,h,g,f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var k;k=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;k._texture=null;k.uvs=h||new Float32Array([0,0,1,0,1,1,0,1]);k.vertices=d||new Float32Array([0,0,100,0,100,100,0,100]);k.indices=g||new Uint16Array([0,1,3,2]);k.dirty=0;k.indexDirty=0;k.blendMode=e.BLEND_MODES.NORMAL;k.canvasPadding=0;k.drawMode=f||b.DRAW_MODES.TRIANGLE_MESH;k.texture=c;k.shader=null;k.tintRgb=new Float32Array([1,1,1]);k._glDatas={};k.pluginName="mesh";return k}k(b,a);b.prototype._renderWebGL=function(a){a.setObjectRenderer(a.plugins[this.pluginName]);
a.plugins[this.pluginName].render(this)};b.prototype._renderCanvas=function(a){a.plugins[this.pluginName].render(this)};b.prototype._onTextureUpdate=function(){};b.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};b.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,d);a=this.vertices;for(var e=c.points,h=this.indices,g=this.indices.length,f=this.drawMode===b.DRAW_MODES.TRIANGLES?
3:1,k=0;k+2<g;k+=f){var m=2*h[k],l=2*h[k+1],x=2*h[k+2];e[0]=a[m];e[1]=a[m+1];e[2]=a[l];e[3]=a[l+1];e[4]=a[x];e[5]=a[x+1];if(c.contains(d.x,d.y))return!0}return!1};g(b,[{key:"texture",get:function(){return this._texture},set:function(a){if(this._texture!==a&&(this._texture=a))if(a.baseTexture.hasLoaded)this._onTextureUpdate();else a.once("update",this._onTextureUpdate,this)}},{key:"tint",get:function(){return e.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=e.utils.hex2rgb(a,this.tintRgb)}}]);
return b}(e.Container);f["default"]=b;b.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":63}],162:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;var g=function(){function b(b,c){for(var a=0;a<c.length;a++){var d=
c[a];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(d,c,a){c&&b(d.prototype,c);a&&b(d,a);return d}}();b=b("./Plane");b=function(b){function d(c,a,e,g,f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h;h=b.call(this,c,4,4);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;var k=h.uvs;
k[6]=k[14]=k[22]=k[30]=1;k[25]=k[27]=k[29]=k[31]=1;h._origWidth=c.width;h._origHeight=c.height;h._uvw=1/h._origWidth;h._uvh=1/h._origHeight;h.width=c.width;h.height=c.height;k[2]=k[10]=k[18]=k[26]=h._uvw*a;k[4]=k[12]=k[20]=k[28]=1-h._uvw*g;k[9]=k[11]=k[13]=k[15]=h._uvh*e;k[17]=k[19]=k[21]=k[23]=1-h._uvh*f;h.leftWidth="undefined"!==typeof a?a:10;h.rightWidth="undefined"!==typeof g?g:10;h.topHeight="undefined"!==typeof e?e:10;h.bottomHeight="undefined"!==typeof f?f:10;return h}k(d,b);d.prototype.updateHorizontalVertices=
function(){var c=this.vertices;c[9]=c[11]=c[13]=c[15]=this._topHeight;c[17]=c[19]=c[21]=c[23]=this._height-this._bottomHeight;c[25]=c[27]=c[29]=c[31]=this._height};d.prototype.updateVerticalVertices=function(){var c=this.vertices;c[2]=c[10]=c[18]=c[26]=this._leftWidth;c[4]=c[12]=c[20]=c[28]=this._width-this._rightWidth;c[6]=c[14]=c[22]=c[30]=this._width};d.prototype._renderCanvas=function(c){var a=c.context;a.globalAlpha=this.worldAlpha;var b=this.worldTransform,d=c.resolution;c.roundPixels?a.setTransform(b.a*
d,b.b*d,b.c*d,b.d*d,b.tx*d|0,b.ty*d|0):a.setTransform(b.a*d,b.b*d,b.c*d,b.d*d,b.tx*d,b.ty*d);d=this._texture.baseTexture;c=d.source;b=d.width;d=d.height;this.drawSegment(a,c,b,d,0,1,10,11);this.drawSegment(a,c,b,d,2,3,12,13);this.drawSegment(a,c,b,d,4,5,14,15);this.drawSegment(a,c,b,d,8,9,18,19);this.drawSegment(a,c,b,d,10,11,20,21);this.drawSegment(a,c,b,d,12,13,22,23);this.drawSegment(a,c,b,d,16,17,26,27);this.drawSegment(a,c,b,d,18,19,28,29);this.drawSegment(a,c,b,d,20,21,30,31)};d.prototype.drawSegment=
function(b,a,d,e,g,f,k,l){var c=this.uvs,h=this.vertices,m=(c[k]-c[g])*d,n=(c[l]-c[f])*e;k=h[k]-h[g];l=h[l]-h[f];1>m&&(m=1);1>n&&(n=1);1>k&&(k=1);1>l&&(l=1);b.drawImage(a,c[g]*d,c[f]*e,m,n,h[g],h[f],k,l)};g(d,[{key:"width",get:function(){return this._width},set:function(b){this._width=b;this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(b){this._height=b;this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(b){this._leftWidth=
b;var a=this.uvs,c=this.vertices;a[2]=a[10]=a[18]=a[26]=this._uvw*b;c[2]=c[10]=c[18]=c[26]=b;this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(b){this._rightWidth=b;var a=this.uvs,c=this.vertices;a[4]=a[12]=a[20]=a[28]=1-this._uvw*b;c[4]=c[12]=c[20]=c[28]=this._width-b;this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(b){this._topHeight=b;var a=this.uvs,c=this.vertices;a[9]=a[11]=a[13]=a[15]=this._uvh*b;c[9]=c[11]=c[13]=c[15]=
b;this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(b){this._bottomHeight=b;var a=this.uvs,c=this.vertices;a[17]=a[19]=a[21]=a[23]=1-this._uvh*b;c[17]=c[19]=c[21]=c[23]=this._height-b;this.dirty=!0}}]);return d}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"./Plane":163}],163:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=
Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;var g=(b=b("./Mesh"))&&b.__esModule?b:{"default":b};b=function(b){function d(c,a,e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?
this:c;c._ready=!0;c.verticesX=a||10;c.verticesY=e||10;c.drawMode=g["default"].DRAW_MODES.TRIANGLES;c.refresh();return c}k(d,b);d.prototype.refresh=function(){for(var b=this.verticesX*this.verticesY,a=[],d=[],e=[],g=this.texture,f=this.verticesX-1,k=this.verticesY-1,l=g.width/f,z=g.height/k,v=0;v<b;v++)if(g._uvs){var r=v%this.verticesX,x=v/this.verticesX|0;a.push(r*l,x*z);d.push(g._uvs.x0+r/(this.verticesX-1)*(g._uvs.x1-g._uvs.x0),g._uvs.y0+x/(this.verticesY-1)*(g._uvs.y3-g._uvs.y0))}else d.push(0);
b=f*k;for(g=0;g<b;g++)k=g%f,l=g/f|0,z=l*this.verticesX+k+1,v=(l+1)*this.verticesX+k,r=(l+1)*this.verticesX+k+1,e.push(l*this.verticesX+k,z,v),e.push(z,r,v);this.vertices=new Float32Array(a);this.uvs=new Float32Array(d);this.colors=new Float32Array([]);this.indices=new Uint16Array(e);this.indexDirty=!0};d.prototype._onTextureUpdate=function(){g["default"].prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};return d}(g["default"]);f["default"]=b},{"./Mesh":161}],164:[function(b,l,f){function k(b,
d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;l=(l=b("./Mesh"))&&l.__esModule?l:{"default":l};var g=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);
d["default"]=b;return d}(b("../core"));b=function(b){function d(c,a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var e;e=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.points=a;e.vertices=new Float32Array(4*a.length);e.uvs=new Float32Array(4*a.length);e.colors=new Float32Array(2*a.length);e.indices=new Uint16Array(2*a.length);e._ready=!0;e.refresh();
return e}k(d,b);d.prototype.refresh=function(){var b=this.points;if(!(1>b.length)&&this._texture._uvs){this.vertices.length/4!==b.length&&(this.vertices=new Float32Array(4*b.length),this.uvs=new Float32Array(4*b.length),this.colors=new Float32Array(2*b.length),this.indices=new Uint16Array(2*b.length));var a=this.uvs,d=this.indices,e=this.colors,f=this._texture._uvs,k=new g.Point(f.x0,f.y0),f=new g.Point(f.x2-f.x0,Number(f.y2-f.y0));a[0]=0+k.x;a[1]=0+k.y;a[2]=0+k.x;a[3]=f.y+k.y;e[0]=1;e[1]=1;d[0]=
0;d[1]=1;for(var b=b.length,l=1;l<b;l++){var w=4*l,z=l/(b-1);a[w]=z*f.x+k.x;a[w+1]=0+k.y;a[w+2]=z*f.x+k.x;a[w+3]=f.y+k.y;w=2*l;e[w]=1;e[w+1]=1;w=2*l;d[w]=w;d[w+1]=w+1}this.dirty++;this.indexDirty++}};d.prototype._onTextureUpdate=function(){b.prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};d.prototype.updateTransform=function(){var b=this.points;if(!(1>b.length)){for(var a=b[0],d,e,g=this.vertices,f=b.length,k=0;k<f;k++){var l=b[k],z=4*k;d=k<b.length-1?b[k+1]:l;e=-(d.x-a.x);a=d.y-
a.y;d=Math.sqrt(a*a+e*e);var v=this._texture.height/2,a=a/d;e/=d;a*=v;e*=v;g[z]=l.x+a;g[z+1]=l.y+e;g[z+2]=l.x-a;g[z+3]=l.y-e;a=l}this.containerUpdateTransform()}};return d}(l["default"]);f["default"]=b},{"../core":63,"./Mesh":161}],165:[function(b,l,f){f.__esModule=!0;l=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);e["default"]=b;return e}(b("../../core"));var k=(b=b("../Mesh"))&&b.__esModule?b:{"default":b};b=function(){function b(e){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");this.renderer=e}b.prototype.render=function(b){var d=this.renderer,c=d.context,a=b.worldTransform,e=d.resolution;d.roundPixels?c.setTransform(a.a*e,a.b*e,a.c*e,a.d*e,a.tx*e|0,a.ty*e|0):c.setTransform(a.a*e,a.b*e,a.c*e,a.d*e,a.tx*e,a.ty*e);d.setBlendMode(b.blendMode);b.drawMode===k["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(b):this._renderTriangles(b)};b.prototype._renderTriangleMesh=function(b){for(var d=b.vertices.length/
2,c=0;c<d-2;c++){var a=2*c;this._renderDrawTriangle(b,a,a+2,a+4)}};b.prototype._renderTriangles=function(b){for(var d=b.indices,c=d.length,a=0;a<c;a+=3)this._renderDrawTriangle(b,2*d[a],2*d[a+1],2*d[a+2])};b.prototype._renderDrawTriangle=function(b,d,c,a){var e=this.renderer.context,g=b.uvs,f=b.vertices,k=b._texture;if(k.valid){var k=k.baseTexture,l=k.source,w=k.width,z=k.height,v=g[d]*k.width,r=g[c]*k.width,x=g[a]*k.width,t=g[d+1]*k.height,y=g[c+1]*k.height,g=g[a+1]*k.height,A=f[d],C=f[c],E=f[a];
d=f[d+1];c=f[c+1];a=f[a+1];if(0<b.canvasPadding){f=b.canvasPadding/b.worldTransform.a;b=b.canvasPadding/b.worldTransform.d;var F=(A+C+E)/3,B=(d+c+a)/3,G=A-F,I=d-B,H=Math.sqrt(G*G+I*I),A=F+G/H*(H+f);d=B+I/H*(H+b);G=C-F;I=c-B;H=Math.sqrt(G*G+I*I);C=F+G/H*(H+f);c=B+I/H*(H+b);G=E-F;I=a-B;H=Math.sqrt(G*G+I*I);E=F+G/H*(H+f);a=B+I/H*(H+b)}e.save();e.beginPath();e.moveTo(A,d);e.lineTo(C,c);e.lineTo(E,a);e.closePath();e.clip();b=v*y+t*x+r*g-y*x-t*r-v*g;e.transform((A*y+t*E+C*g-y*E-t*C-A*g)/b,(d*y+t*a+c*g-
y*a-t*c-d*g)/b,(v*C+A*x+r*E-C*x-A*r-v*E)/b,(v*c+d*x+r*a-c*x-d*r-v*a)/b,(v*y*E+t*C*x+A*r*g-A*y*x-t*r*E-v*C*g)/b,(v*y*a+t*c*x+d*r*g-d*y*x-t*r*a-v*c*g)/b);e.drawImage(l,0,0,w*k.resolution,z*k.resolution,0,0,w,z);e.restore()}};b.prototype.renderMeshFlat=function(b){var d=this.renderer.context;b=b.vertices;var c=b.length/2;d.beginPath();for(var a=1;a<c-2;++a){var e=2*a,g=b[e+2],f=b[e+3],k=b[e+4],l=b[e+5];d.moveTo(b[e],b[e+1]);d.lineTo(g,f);d.lineTo(k,l)}d.fillStyle="#FF0000";d.fill();d.closePath()};b.prototype.destroy=
function(){this.renderer=null};return b}();f["default"]=b;l.CanvasRenderer.registerPlugin("mesh",b)},{"../../core":63,"../Mesh":161}],166:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var g=b("./Mesh");Object.defineProperty(f,"Mesh",{enumerable:!0,get:function(){return k(g)["default"]}});var e=b("./webgl/MeshRenderer");Object.defineProperty(f,"MeshRenderer",{enumerable:!0,get:function(){return k(e)["default"]}});var d=b("./canvas/CanvasMeshRenderer");Object.defineProperty(f,
"CanvasMeshRenderer",{enumerable:!0,get:function(){return k(d)["default"]}});var c=b("./Plane");Object.defineProperty(f,"Plane",{enumerable:!0,get:function(){return k(c)["default"]}});var a=b("./NineSlicePlane");Object.defineProperty(f,"NineSlicePlane",{enumerable:!0,get:function(){return k(a)["default"]}});var h=b("./Rope");Object.defineProperty(f,"Rope",{enumerable:!0,get:function(){return k(h)["default"]}})},{"./Mesh":161,"./NineSlicePlane":162,"./Plane":163,"./Rope":164,"./canvas/CanvasMeshRenderer":165,
"./webgl/MeshRenderer":167}],167:[function(b,l,f){function k(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}f.__esModule=!0;var g=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(a[c]=b[c]);a["default"]=b;return a}(b("../../core")),e=(l=b("pixi-gl-core"))&&l.__esModule?l:{"default":l},d=(l=b("../Mesh"))&&l.__esModule?l:{"default":l};b("path");b=function(b){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;return c}k(a,b);a.prototype.onContextChange=
function(){this.shader=new g.Shader(this.renderer.gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")};
a.prototype.render=function(a){var b=this.renderer,c=b.gl,g=a._texture;if(g.valid){var f=a._glDatas[b.CONTEXT_UID];f||(b.bindVao(null),f={shader:this.shader,vertexBuffer:e["default"].GLBuffer.createVertexBuffer(c,a.vertices,c.STREAM_DRAW),uvBuffer:e["default"].GLBuffer.createVertexBuffer(c,a.uvs,c.STREAM_DRAW),indexBuffer:e["default"].GLBuffer.createIndexBuffer(c,a.indices,c.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty},f.vao=(new e["default"].VertexArrayObject(c)).addIndex(f.indexBuffer).addAttribute(f.vertexBuffer,
f.shader.attributes.aVertexPosition,c.FLOAT,!1,8,0).addAttribute(f.uvBuffer,f.shader.attributes.aTextureCoord,c.FLOAT,!1,8,0),a._glDatas[b.CONTEXT_UID]=f);b.bindVao(f.vao);a.dirty!==f.dirty&&(f.dirty=a.dirty,f.uvBuffer.upload(a.uvs));a.indexDirty!==f.indexDirty&&(f.indexDirty=a.indexDirty,f.indexBuffer.upload(a.indices));f.vertexBuffer.upload(a.vertices);b.bindShader(f.shader);f.shader.uniforms.uSampler=b.bindTexture(g);b.state.setBlendMode(a.blendMode);f.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);
f.shader.uniforms.alpha=a.worldAlpha;f.shader.uniforms.tint=a.tintRgb;f.vao.draw(a.drawMode===d["default"].DRAW_MODES.TRIANGLE_MESH?c.TRIANGLE_STRIP:c.TRIANGLES,a.indices.length,0)}};return a}(g.ObjectRenderer);f["default"]=b;g.WebGLRenderer.registerPlugin("mesh",b)},{"../../core":63,"../Mesh":161,path:22,"pixi-gl-core":12}],168:[function(b,l,f){function k(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);b.prototype=Object.create(d&&
d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(b,d):b.__proto__=d)}f.__esModule=!0;var g=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c]);d["default"]=b;return d}(b("../core"));b=function(b){function d(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,a=arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
16384;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var f;f=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;16384<e&&(e=16384);e>c&&(e=c);f._properties=[!1,!0,!1,!1,!1];f._maxSize=c;f._batchSize=e;f._glBuffers={};f._bufferToUpdate=0;f.interactiveChildren=!1;f.blendMode=g.BLEND_MODES.NORMAL;f.roundPixels=!0;f.baseTexture=null;f.setProperties(a);return f}
k(d,b);d.prototype.setProperties=function(b){b&&(this._properties[0]="scale"in b?!!b.scale:this._properties[0],this._properties[1]="position"in b?!!b.position:this._properties[1],this._properties[2]="rotation"in b?!!b.rotation:this._properties[2],this._properties[3]="uvs"in b?!!b.uvs:this._properties[3],this._properties[4]="alpha"in b?!!b.alpha:this._properties[4])};d.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};d.prototype.renderWebGL=function(b){var a=this;if(this.visible&&
!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded))this.baseTexture.once("update",function(){return a.onChildrenChange(0)});b.setObjectRenderer(b.plugins.particle);b.plugins.particle.render(this)}};d.prototype.onChildrenChange=function(b){b=Math.floor(b/this._batchSize);b<this._bufferToUpdate&&(this._bufferToUpdate=b)};d.prototype.renderCanvas=function(b){if(this.visible&&!(0>=this.worldAlpha)&&
this.children.length&&this.renderable){var a=b.context,c=this.worldTransform,d=!0,e,f,g,k,l=b.blendModes[this.blendMode];l!==a.globalCompositeOperation&&(a.globalCompositeOperation=l);a.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(l=0;l<this.children.length;++l){var v=this.children[l];if(v.visible){var r=v._texture.frame;a.globalAlpha=this.worldAlpha*v.alpha;0===v.rotation%(2*Math.PI)?(d&&(a.setTransform(c.a,c.b,c.c,c.d,c.tx*b.resolution,c.ty*b.resolution),d=!1),e=v.anchor.x*
-r.width*v.scale.x+v.position.x+.5,f=v.anchor.y*-r.height*v.scale.y+v.position.y+.5,g=r.width*v.scale.x,k=r.height*v.scale.y):(d||(d=!0),v.displayObjectUpdateTransform(),e=v.worldTransform,b.roundPixels?a.setTransform(e.a,e.b,e.c,e.d,e.tx*b.resolution|0,e.ty*b.resolution|0):a.setTransform(e.a,e.b,e.c,e.d,e.tx*b.resolution,e.ty*b.resolution),e=v.anchor.x*-r.width+.5,f=v.anchor.y*-r.height+.5,g=r.width,k=r.height);var x=v._texture.baseTexture.resolution;a.drawImage(v._texture.baseTexture.source,r.x*
x,r.y*x,r.width*x,r.height*x,e*x,f*x,g*x,k*x)}}}};d.prototype.destroy=function(c){b.prototype.destroy.call(this,c);if(this._buffers)for(c=0;c<this._buffers.length;++c)this._buffers[c].destroy();this._buffers=this._properties=null};return d}(g.Container);f["default"]=b},{"../core":63}],169:[function(b,l,f){f.__esModule=!0;var k=b("./ParticleContainer");Object.defineProperty(f,"ParticleContainer",{enumerable:!0,get:function(){return(k&&k.__esModule?k:{"default":k})["default"]}});var g=b("./webgl/ParticleRenderer");
Object.defineProperty(f,"ParticleRenderer",{enumerable:!0,get:function(){return(g&&g.__esModule?g:{"default":g})["default"]}})},{"./ParticleContainer":168,"./webgl/ParticleRenderer":171}],170:[function(b,l,f){f.__esModule=!0;var k=(l=b("pixi-gl-core"))&&l.__esModule?l:{"default":l},g=(b=b("../../core/utils/createIndicesForQuads"))&&b.__esModule?b:{"default":b};b=function(){function b(d,c,a,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.gl=d;this.vertSize=
2;this.vertByteSize=4*this.vertSize;this.size=e;this.dynamicProperties=[];this.staticProperties=[];for(d=0;d<c.length;++d)e=c[d],e={attribute:e.attribute,size:e.size,uploadFunction:e.uploadFunction,offset:e.offset},a[d]?this.dynamicProperties.push(e):this.staticProperties.push(e);this.staticStride=0;this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicData=this.dynamicBuffer=null;this.initBuffers()}b.prototype.initBuffers=function(){var b=this.gl,c=0;this.indices=(0,g["default"])(this.size);
this.indexBuffer=k["default"].GLBuffer.createIndexBuffer(b,this.indices,b.STATIC_DRAW);for(var a=this.dynamicStride=0;a<this.dynamicProperties.length;++a){var e=this.dynamicProperties[a];e.offset=c;c+=e.size;this.dynamicStride+=e.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4);this.dynamicBuffer=k["default"].GLBuffer.createVertexBuffer(b,this.dynamicData,b.STREAM_DRAW);for(a=this.staticStride=c=0;a<this.staticProperties.length;++a)e=this.staticProperties[a],e.offset=c,c+=e.size,
this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4);this.staticBuffer=k["default"].GLBuffer.createVertexBuffer(b,this.staticData,b.STATIC_DRAW);this.vao=(new k["default"].VertexArrayObject(b)).addIndex(this.indexBuffer);for(c=0;c<this.dynamicProperties.length;++c)a=this.dynamicProperties[c],this.vao.addAttribute(this.dynamicBuffer,a.attribute,b.FLOAT,!1,4*this.dynamicStride,4*a.offset);for(c=0;c<this.staticProperties.length;++c)a=this.staticProperties[c],this.vao.addAttribute(this.staticBuffer,
a.attribute,b.FLOAT,!1,4*this.staticStride,4*a.offset)};b.prototype.uploadDynamic=function(b,c,a){for(var d=0;d<this.dynamicProperties.length;d++){var e=this.dynamicProperties[d];e.uploadFunction(b,c,a,this.dynamicData,this.dynamicStride,e.offset)}this.dynamicBuffer.upload()};b.prototype.uploadStatic=function(b,c,a){for(var d=0;d<this.staticProperties.length;d++){var e=this.staticProperties[d];e.uploadFunction(b,c,a,this.staticData,this.staticStride,e.offset)}this.staticBuffer.upload()};b.prototype.destroy=
function(){this.dynamicData=this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticData=this.staticProperties=null;this.staticBuffer.destroy()};return b}();f["default"]=b},{"../../core/utils/createIndicesForQuads":118,"pixi-gl-core":12}],171:[function(b,l,f){function k(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,
configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}f.__esModule=!0;var g=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(b("../../core")),e=(l=b("./ParticleShader"))&&l.__esModule?l:{"default":l},d=(b=b("./ParticleBuffer"))&&b.__esModule?b:{"default":b};b=function(b){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=new g.Matrix;c.CONTEXT_UID=0;return c}k(a,b);a.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new e["default"](a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,
offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]};a.prototype.start=function(){this.renderer.bindShader(this.shader)};a.prototype.render=function(a){var b=a.children,
c=a._maxSize,d=a._batchSize,e=this.renderer,f=b.length;if(0!==f){f>c&&(f=c);(c=a._glBuffers[e.CONTEXT_UID])||(c=a._glBuffers[e.CONTEXT_UID]=this.generateBuffers(a));this.renderer.setBlendMode(a.blendMode);var g=e.gl,h=a.worldTransform.copy(this.tempMatrix);h.prepend(e._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=h.toArray(!0);this.shader.uniforms.uAlpha=a.worldAlpha;this.shader.uniforms.uSampler=e.bindTexture(b[0]._texture.baseTexture);for(var k=h=0;h<f;h+=d,k+=1){var l=
f-h;l>d&&(l=d);var t=c[k];t.uploadDynamic(b,h,l);a._bufferToUpdate===k&&(t.uploadStatic(b,h,l),a._bufferToUpdate=k+1);e.bindVao(t.vao);t.vao.draw(g.TRIANGLES,6*l)}}};a.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],e=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<e;g+=f)c.push(new d["default"](b,this.properties,a,f));return c};a.prototype.uploadVertices=function(a,b,c,d,e,f){for(var g,h,k,l,m=0;m<c;++m){l=a[b+m];g=l._texture;var n=l.scale.x,p=l.scale.y;k=g.trim;var q=g.orig;
k?(h=k.x-l.anchor.x*q.width,g=h+k.width,l=k.y-l.anchor.y*q.height,k=l+k.height):(g=q.width*(1-l.anchor.x),h=q.width*-l.anchor.x,k=q.height*(1-l.anchor.y),l=q.height*-l.anchor.y);d[f]=h*n;d[f+1]=l*p;d[f+e]=g*n;d[f+e+1]=l*p;d[f+2*e]=g*n;d[f+2*e+1]=k*p;d[f+3*e]=h*n;d[f+3*e+1]=k*p;f+=4*e}};a.prototype.uploadPosition=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].position;d[f]=h.x;d[f+1]=h.y;d[f+e]=h.x;d[f+e+1]=h.y;d[f+2*e]=h.x;d[f+2*e+1]=h.y;d[f+3*e]=h.x;d[f+3*e+1]=h.y;f+=4*e}};a.prototype.uploadRotation=
function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].rotation;d[f]=h;d[f+e]=h;d[f+2*e]=h;d[f+3*e]=h;f+=4*e}};a.prototype.uploadUvs=function(a,b,c,d,e,f){for(var g=0;g<c;++g){var h=a[b+g]._texture._uvs;h?(d[f]=h.x0,d[f+1]=h.y0,d[f+e]=h.x1,d[f+e+1]=h.y1,d[f+2*e]=h.x2,d[f+2*e+1]=h.y2,d[f+3*e]=h.x3,d[f+3*e+1]=h.y3):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+2*e]=0,d[f+2*e+1]=0,d[f+3*e]=0,d[f+3*e+1]=0);f+=4*e}};a.prototype.uploadAlpha=function(a,b,c,d,e,f){for(var g=0;g<c;g++){var h=a[b+g].alpha;d[f]=
h;d[f+e]=h;d[f+2*e]=h;d[f+3*e]=h;f+=4*e}};a.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);b.prototype.destroy.call(this);this.shader.destroy();this.tempMatrix=this.indices=null};return a}(g.ObjectRenderer);f["default"]=b;g.WebGLRenderer.registerPlugin("particle",b)},{"../../core":63,"./ParticleBuffer":170,"./ParticleShader":172}],172:[function(b,l,f){function k(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+
typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}f.__esModule=!0;b=b("../../core/Shader");b=function(b){function e(d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");d=b.call(this,d,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
"varying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}k(e,b);return e}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b},{"../../core/Shader":42}],
173:[function(b,l,f){Math.sign||(Math.sign=function(b){b=Number(b);return 0===b||isNaN(b)?b:0<b?1:-1})},{}],174:[function(b,l,f){b=(b=b("object-assign"))&&b.__esModule?b:{"default":b};Object.assign||(Object.assign=b["default"])},{"object-assign":5}],175:[function(b,l,f){b("./Object.assign");b("./requestAnimationFrame");b("./Math.sign");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||
(window.Uint16Array=Array)},{"./Math.sign":173,"./Object.assign":174,"./requestAnimationFrame":176}],176:[function(b,l,f){(function(b){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});b.performance&&b.performance.now||function(){var a=Date.now();b.performance||(b.performance={});b.performance.now=function(){return Date.now()-a}}();for(var f=Date.now(),e=["ms","moz","webkit","o"],d=0;d<e.length&&!b.requestAnimationFrame;++d){var c=e[d];b.requestAnimationFrame=b[c+
"RequestAnimationFrame"];b.cancelAnimationFrame=b[c+"CancelAnimationFrame"]||b[c+"CancelRequestAnimationFrame"]}b.requestAnimationFrame||(b.requestAnimationFrame=function(a){if("function"!==typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),c=16+f-b;0>c&&(c=0);f=b;return setTimeout(function(){f=Date.now();a(performance.now())},c)});b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){return clearTimeout(a)})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{}],177:[function(b,l,f){function k(a,b){return b instanceof c.Text?(b.updateText(!0),!0):!1}function g(a,b){if(b instanceof c.TextStyle){var d=c.Text.getFontStyle(b);c.Text.fontPropertiesCache[d]||c.Text.calculateFontProperties(d);return!0}return!1}function e(a,b){if(a instanceof c.Text){-1===b.indexOf(a.style)&&b.push(a.style);-1===b.indexOf(a)&&b.push(a);var d=a._texture.baseTexture;-1===b.indexOf(d)&&b.push(d);return!0}return!1}function d(a,b){return a instanceof
c.TextStyle?(-1===b.indexOf(a)&&b.push(a),!0):!1}f.__esModule=!0;var c=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../core")),a=(b=b("./limiters/CountLimiter"))&&b.__esModule?b:{"default":b},h=c.ticker.shared;c.settings.UPLOADS_PER_FRAME=4;b=function(){function b(f){var h=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.limiter=new a["default"](c.settings.UPLOADS_PER_FRAME);
this.renderer=f;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){h.queue&&h.prepareItems()};this.register(e,k);this.register(d,g)}b.prototype.upload=function(a,b){"function"===typeof a&&(b=a,a=null);a&&this.add(a);this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,h.addOnce(this.tick,this))):b&&b()};b.prototype.tick=function(){setTimeout(this.delayedTick,0)};b.prototype.prepareItems=
function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){for(var a=this.queue[0],b=!1,c=0,d=this.uploadHooks.length;c<d;c++)if(this.uploadHooks[c](this.uploadHookHelper,a)){this.queue.shift();b=!0;break}b||this.queue.shift()}if(this.queue.length)h.addOnce(this.tick,this);else for(this.ticking=!1,a=this.completes.slice(0),b=this.completes.length=0,c=a.length;b<c;b++)a[b]()};b.prototype.register=function(a,b){a&&this.addHooks.push(a);b&&this.uploadHooks.push(b);return this};
b.prototype.add=function(a){for(var b=0,d=this.addHooks.length;b<d&&!this.addHooks[b](a,this.queue);b++);if(a instanceof c.Container)for(b=a.children.length-1;0<=b;b--)this.add(a.children[b]);return this};b.prototype.destroy=function(){this.ticking&&h.remove(this.tick,this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return b}();f["default"]=b},{"../core":63,"./limiters/CountLimiter":180}],178:[function(b,l,f){function k(b,
a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function g(b,a){if(a instanceof d.BaseTexture){var c=a.source;b.ctx.drawImage(c,0,0,0===c.width?b.canvas.width:Math.min(b.canvas.width,c.width),0===c.height?b.canvas.height:Math.min(b.canvas.height,
c.height),0,0,b.canvas.width,b.canvas.height);return!0}return!1}function e(b,a){if(b instanceof d.BaseTexture)return-1===a.indexOf(b)&&a.push(b),!0;if(b._texture&&b._texture instanceof d.Texture){var c=b._texture.baseTexture;-1===a.indexOf(c)&&a.push(c);return!0}return!1}f.__esModule=!0;var d=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(b("../../core"));b=b("../BasePrepare");b=function(b){function a(c){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uploadHookHelper=c;c.canvas=document.createElement("canvas");c.canvas.width=16;c.canvas.height=16;c.ctx=c.canvas.getContext("2d");c.register(e,g);return c}k(a,b);a.prototype.destroy=function(){b.prototype.destroy.call(this);this.canvas=this.ctx=null};return a}((b&&b.__esModule?
b:{"default":b})["default"]);f["default"]=b;d.CanvasRenderer.registerPlugin("prepare",b)},{"../../core":63,"../BasePrepare":177}],179:[function(b,l,f){function k(a){return a&&a.__esModule?a:{"default":a}}f.__esModule=!0;var g=b("./webgl/WebGLPrepare");Object.defineProperty(f,"webgl",{enumerable:!0,get:function(){return k(g)["default"]}});var e=b("./canvas/CanvasPrepare");Object.defineProperty(f,"canvas",{enumerable:!0,get:function(){return k(e)["default"]}});var d=b("./BasePrepare");Object.defineProperty(f,
"BasePrepare",{enumerable:!0,get:function(){return k(d)["default"]}});var c=b("./limiters/CountLimiter");Object.defineProperty(f,"CountLimiter",{enumerable:!0,get:function(){return k(c)["default"]}});var a=b("./limiters/TimeLimiter");Object.defineProperty(f,"TimeLimiter",{enumerable:!0,get:function(){return k(a)["default"]}})},{"./BasePrepare":177,"./canvas/CanvasPrepare":178,"./limiters/CountLimiter":180,"./limiters/TimeLimiter":181,"./webgl/WebGLPrepare":182}],180:[function(b,l,f){f.__esModule=
!0;b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.maxItemsPerFrame=f;this.itemsLeft=0}b.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};b.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return b}();f["default"]=b},{}],181:[function(b,l,f){f.__esModule=!0;b=function(){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.maxMilliseconds=f;this.frameStart=
0}b.prototype.beginFrame=function(){this.frameStart=Date.now()};b.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return b}();f["default"]=b},{}],182:[function(b,l,f){function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function g(b,c){return c instanceof a.BaseTexture?(c._glTextures[b.CONTEXT_UID]||b.textureManager.updateTexture(c),!0):!1}function e(b,c){return c instanceof a.Graphics?((c.dirty||c.clearDirty||!c._webGL[b.plugins.graphics.CONTEXT_UID])&&b.plugins.graphics.updateGraphics(c),!0):!1}function d(b,c){if(b instanceof a.BaseTexture)return-1===c.indexOf(b)&&c.push(b),!0;if(b._texture&&b._texture instanceof a.Texture){var d=b._texture.baseTexture;-1===c.indexOf(d)&&c.push(d);return!0}return!1}
function c(b,c){return b instanceof a.Graphics?(c.push(b),!0):!1}f.__esModule=!0;var a=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(b("../../core"));b=b("../BasePrepare");b=function(a){function b(f){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");f=a.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;f.uploadHookHelper=f.renderer;f.register(d,g).register(c,e);return f}k(b,a);return b}((b&&b.__esModule?b:{"default":b})["default"]);f["default"]=b;a.WebGLRenderer.registerPlugin("prepare",b)},{"../../core":63,"../BasePrepare":177}],183:[function(b,l,f){(function(k){function g(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}f.__esModule=!0;f.loader=
f.prepare=f.particles=f.mesh=f.loaders=f.interaction=f.filters=f.extras=f.extract=f.accessibility=void 0;var e=b("./polyfill");Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return e[a]}})});var d=b("./deprecation");Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return d[a]}})});var c=b("./core");Object.keys(c).forEach(function(a){"default"!==a&&
"__esModule"!==a&&Object.defineProperty(f,a,{enumerable:!0,get:function(){return c[a]}})});var a=b("./accessibility"),a=g(a),h=b("./extract"),h=g(h),l=b("./extras"),l=g(l),p=b("./filters"),p=g(p),n=b("./interaction"),n=g(n),q=b("./loaders"),q=g(q),w=b("./mesh"),w=g(w),z=b("./particles"),z=g(z),v=b("./prepare"),v=g(v);c.utils.mixins.performMixins();f.accessibility=a;f.extract=h;f.extras=l;f.filters=p;f.interaction=n;f.loaders=q;f.mesh=w;f.particles=z;f.prepare=v;a=q&&q.Loader?new q.Loader:null;f.loader=
a;k.PIXI=f}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./accessibility":40,"./core":63,"./deprecation":125,"./extract":127,"./extras":136,"./filters":147,"./interaction":154,"./loaders":157,"./mesh":166,"./particles":169,"./polyfill":175,"./prepare":179}]},{},[183])(183)});PIXI.TransparencyHitArea=function(u){this.sprite=u};PIXI.TransparencyHitArea.create=function(u,b){var l;l=b?new PIXI.WebGLTransparencyHitArea(u):new PIXI.CanvasTransparencyHitArea(u);l.init();return l};PIXI.TransparencyHitArea.prototype.init=function(){};
PIXI.TransparencyHitArea.prototype.contains=function(u,b){if(0===Math.abs(this.sprite.width)||0===Math.abs(this.sprite.height))return!1;var l=this.sprite.texture.frame.width,f=this.sprite.texture.frame.height;u+=this.sprite.anchor.x*l;b+=this.sprite.anchor.y*f;return 0<=u&&u<=l&&0<=b&&b<=f?!this.isTextureTransparentAt(Math.round(u+this.sprite.texture.frame.x),Math.round(b+this.sprite.texture.frame.y)):!1};PIXI.TransparencyHitArea.prototype.getTexture=function(){return this.sprite.texture};
PIXI.TransparencyHitArea.prototype.isTextureTransparentAt=function(u,b){void(u,b);throw Error("Has to be implemented in subclasses");};PIXI.CanvasTransparencyHitArea=function(u){PIXI.TransparencyHitArea.call(this,u);this.textureWidth=this.textureData=null};PIXI.CanvasTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);PIXI.CanvasTransparencyHitArea.constructor=PIXI.CanvasTransparencyHitArea;PIXI.CanvasTransparencyHitArea.prototype.clone=function(){return new PIXI.CanvasTransparencyHitArea(this.sprite)};
PIXI.CanvasTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.CanvasTransparencyHitArea.cachedRenderer&&(PIXI.CanvasTransparencyHitArea.cachedRenderer=new PIXI.CanvasRenderer(1,1));this.initTextureData()};
PIXI.CanvasTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var u=this.getTexture(),b=u.baseTexture.source;this.textureWidth=b.width;b=b.src;void 0===PIXI.CanvasTransparencyHitArea.TextureData[b]&&(u=this.createTextureData(u),PIXI.CanvasTransparencyHitArea.TextureData[b]=u);this.textureData=PIXI.CanvasTransparencyHitArea.TextureData[b]}};
PIXI.CanvasTransparencyHitArea.prototype.createTextureData=function(u){u=u.baseTexture.source;var b=PIXI.CanvasTransparencyHitArea.cachedRenderer,l=b.view;l.width=u.width;l.height=u.height;b=b.view.getContext("2d");b.clearRect(0,0,u.width,u.height);b.drawImage(u,0,0);return b.getImageData(0,0,u.width,u.height).data};
PIXI.CanvasTransparencyHitArea.prototype.isTextureTransparentAt=function(u,b){if(!this.textureData)throw Error("CanvasTransparencyHitArea#init() not called.");return 1>this.textureData[4*(u+b*this.textureWidth)+3]};PIXI.CanvasTransparencyHitArea.TextureData=[];PIXI.CanvasTransparencyHitArea.cachedRenderer=null;PIXI.WebGLTransparencyHitArea=function(u){PIXI.TransparencyHitArea.call(this,u);this.textureWidth=this.textureData=null};PIXI.WebGLTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);
PIXI.WebGLTransparencyHitArea.constructor=PIXI.WebGLTransparencyHitArea;PIXI.WebGLTransparencyHitArea.prototype.clone=function(){return new PIXI.WebGLTransparencyHitArea(this.sprite)};PIXI.WebGLTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.WebGLTransparencyHitArea.cachedRenderer&&(PIXI.WebGLTransparencyHitArea.cachedRenderer=new PIXI.WebGLRenderer(1,1));this.initTextureData()};
PIXI.WebGLTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var u=this.getTexture(),b=u.baseTexture.source;this.textureWidth=b.width;b=b.src;void 0===PIXI.WebGLTransparencyHitArea.TextureData[b]&&(u=this.createTextureData(u),PIXI.WebGLTransparencyHitArea.TextureData[b]=u);this.textureData=PIXI.WebGLTransparencyHitArea.TextureData[b]}};
PIXI.WebGLTransparencyHitArea.prototype.createTextureData=function(u){var b=u.baseTexture.source,l=PIXI.WebGLTransparencyHitArea.cachedRenderer.view;l.width=b.width;l.height=b.height;var l=PIXI.WebGLTransparencyHitArea.cachedRenderer.gl,f=l.createFramebuffer();l.bindFramebuffer(l.FRAMEBUFFER,f);void 0===u.baseTexture._glTextures[l.id]&&PIXI.WebGLTransparencyHitArea.cachedRenderer.updateTexture(u.baseTexture);l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,u.baseTexture._glTextures[l.id],
0);u=new Uint8Array(b.width*b.height*4);try{l.readPixels(0,0,b.width,b.height,l.RGBA,l.UNSIGNED_BYTE,u)}catch(k){console.log(error)}l.bindFramebuffer(l.FRAMEBUFFER,null);return u};PIXI.WebGLTransparencyHitArea.prototype.isTextureTransparentAt=function(u,b){if(!this.textureData)throw Error("WebGLTransparencyHitArea#init() not called.");return 255>this.textureData[4*(u+b*this.textureWidth)+3]};PIXI.WebGLTransparencyHitArea.TextureData=[];PIXI.WebGLTransparencyHitArea.cachedRenderer=null;function getCurvePoints(u,b,l,f){function k(b,d,e,f){for(var g=2,h;g<e;g+=2){var k=b[g],m=b[g+1],n=b[g+2],p=b[g+3],q=(n-b[g-2])*f,r=(p-b[g-1])*f,u=(b[g+4]-k)*f,v=(b[g+5]-m)*f,t=0,w,x,z,J;for(h=0;h<l;h++)w=d[t++],x=d[t++],z=d[t++],J=d[t++],a[c++]=w*k+x*n+z*q+J*u,a[c++]=w*m+x*p+z*r+J*v}}b="number"===typeof b?b:.5;l="number"===typeof l?l:25;var g,e=1,d=u.length,c=0,a=new Float32Array((d-2)*l+2+(f?2*l:0)),h=new Float32Array(4*(l+2)),m=4;g=u.slice(0);f?(g.unshift(u[d-1]),g.unshift(u[d-2]),g.push(u[0],
u[1])):(g.unshift(u[1]),g.unshift(u[0]),g.push(u[d-2],u[d-1]));for(h[0]=1;e<l;e++){var p=e/l,n=p*p,q=n*p,w=2*q,z=3*n;h[m++]=w-z+1;h[m++]=z-w;h[m++]=q-2*n+p;h[m++]=q-n}h[++m]=1;k(g,h,d,b);f&&(g=[],g.push(u[d-4],u[d-3],u[d-2],u[d-1],u[0],u[1],u[2],u[3]),k(g,h,4,b));d=f?0:u.length-2;a[c++]=u[d++];a[c]=u[d];return a}"undefined"!==typeof exports&&(exports.getCurvePoints=getCurvePoints);

//# sourceMappingURL=combined_mini.js.map