var $jscomp={scope:{},findInternal:function(u,a,k){u instanceof String&&(u=String(u));for(var g=u.length,l=0;l<g;l++){var h=u[l];if(a.call(k,h,l,u))return{i:l,v:h}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(u,a,k){if(k.get||k.set)throw new TypeError("ES3 does not support getters and setters.");u!=Array.prototype&&u!=Object.prototype&&(u[a]=k.value)};
$jscomp.getGlobal=function(u){return"undefined"!=typeof window&&window===u?u:"undefined"!=typeof global&&null!=global?global:u};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(u,a,k,g){if(a){k=$jscomp.global;u=u.split(".");for(g=0;g<u.length-1;g++){var l=u[g];l in k||(k[l]={});k=k[l]}u=u[u.length-1];g=k[u];a=a(g);a!=g&&null!=a&&$jscomp.defineProperty(k,u,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(u){return u?u:function(a,k){return $jscomp.findInternal(this,a,k).v}},"es6-impl","es3");$jscomp.checkStringArgs=function(u,a,k){if(null==u)throw new TypeError("The 'this' value for String.prototype."+k+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+k+" must not be a regular expression");return u+""};
$jscomp.polyfill("String.prototype.includes",function(u){return u?u:function(a,k){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,k||0)}},"es6-impl","es3");$jscomp.polyfill("String.prototype.startsWith",function(u){return u?u:function(a,k){var g=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var l=g.length,h=a.length,f=Math.max(0,Math.min(k|0,g.length)),d=0;d<h&&f<l;)if(g[f++]!=a[d++])return!1;return d>=h}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(u){return $jscomp.SYMBOL_PREFIX+(u||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var u=$jscomp.global.Symbol.iterator;u||(u=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[u]&&$jscomp.defineProperty(Array.prototype,u,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(u){var a=0;return $jscomp.iteratorPrototype(function(){return a<u.length?{done:!1,value:u[a++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(u){$jscomp.initSymbolIterator();u={next:u};u[$jscomp.global.Symbol.iterator]=function(){return this};return u};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(u,a){$jscomp.initSymbolIterator();u instanceof String&&(u+="");var k=0,g={next:function(){if(k<u.length){var l=k++;return{value:a(l,u[l]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill("Array.prototype.keys",function(u){return u?u:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(u){return u?u:function(){return[]}},"es6-impl","es5");$jscomp.owns=function(u,a){return Object.prototype.hasOwnProperty.call(u,a)};
$jscomp.polyfill("Object.assign",function(u){return u?u:function(a,k){for(var g=1;g<arguments.length;g++){var l=arguments[g];if(l)for(var h in l)$jscomp.owns(l,h)&&(a[h]=l[h])}return a}},"es6-impl","es3");$jscomp.polyfill("Object.setPrototypeOf",function(u){return u?u:"object"!=typeof"".__proto__?null:function(a,k){a.__proto__=k;if(a.__proto__!==k)throw new TypeError(a+" is not extensible");return a}},"es6","es5");
$jscomp.polyfill("Array.prototype.fill",function(u){return u?u:function(a,k,g){var l=this.length||0;0>k&&(k=Math.max(0,l+k));if(null==g||g>l)g=l;g=Number(g);0>g&&(g=Math.max(0,l+g));for(k=Number(k||0);k<g;k++)this[k]=a;return this}},"es6-impl","es3");$jscomp.polyfill("Math.sign",function(u){return u?u:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6-impl","es3");
(function(u){var a=function(a,g){this.init("simplecolorpicker",a,g)};a.prototype={constructor:a,init:function(a,g,l){var h=this;h.type=a;h.$select=u(g);h.$select.hide();h.options=u.extend({},u.fn.simplecolorpicker.defaults,l);h.$colorList=null;!0===h.options.picker?(a=h.$select.find("> option:selected").text(),h.$icon=u('<span class="simplecolorpicker icon" title="'+a+'" style="background-color: '+h.$select.val()+';" role="button" tabindex="0"></span>').insertAfter(h.$select),h.$icon.on("click."+
h.type,u.proxy(h.showPicker,h)),h.$picker=u('<span class="simplecolorpicker picker '+h.options.theme+'"></span>').appendTo(document.body),h.$colorList=h.$picker,u(document).on("mousedown."+h.type,u.proxy(h.hidePicker,h)),h.$picker.on("mousedown."+h.type,u.proxy(h.mousedown,h))):(h.$inline=u('<span class="simplecolorpicker inline '+h.options.theme+'"></span>').insertAfter(h.$select),h.$colorList=h.$inline);h.$select.find("> option").each(function(){var f=u(this),d=f.val(),c=f.is(":selected"),b=f.is(":disabled"),
e="";!0===c&&(e=" data-selected");c="";!0===b&&(c=" data-disabled");var n="";!1===b&&(n=' title="'+f.text()+'"');var a="";!1===b&&(a=' role="button" tabindex="0"');d=u('<span class="color"'+n+' style="background-color: '+d+';" data-color="'+d+'"'+e+c+a+"></span>");h.$colorList.append(d);d.on("click."+h.type,u.proxy(h.colorSpanClicked,h));!0===f.next().is("optgroup")&&h.$colorList.append('<span class="vr"></span>')})},selectColor:function(a){var g=this.$colorList.find("> span.color").filter(function(){return u(this).data("color").toLowerCase()===
a.toLowerCase()});0<g.length?this.selectColorSpan(g):console.error("The given color '"+a+"' could not be found")},showPicker:function(){var a=this.$icon.offset();this.$picker.css({left:a.left-6,top:a.top+this.$icon.outerHeight()});this.$picker.show(this.options.pickerDelay)},hidePicker:function(){this.$picker.hide(this.options.pickerDelay)},selectColorSpan:function(a){var g=a.data("color"),l=a.prop("title");a.siblings().removeAttr("data-selected");a.attr("data-selected","");!0===this.options.picker&&
(this.$icon.css("background-color",g),this.$icon.prop("title",l),this.hidePicker());this.$select.val(g)},colorSpanClicked:function(a){!1===u(a.target).is("[data-disabled]")&&(this.selectColorSpan(u(a.target)),this.$select.trigger("change"))},mousedown:function(a){a.stopPropagation();a.preventDefault()},destroy:function(){!0===this.options.picker&&(this.$icon.off("."+this.type),this.$icon.remove(),u(document).off("."+this.type));this.$colorList.off("."+this.type);this.$colorList.remove();this.$select.removeData(this.type);
this.$select.show()}};u.fn.simplecolorpicker=function(k){var g=u.makeArray(arguments);g.shift();return this.each(function(){var l=u(this),h=l.data("simplecolorpicker"),f="object"===typeof k&&k;void 0===h&&l.data("simplecolorpicker",h=new a(this,f));"string"===typeof k&&h[k].apply(h,g)})};u.fn.simplecolorpicker.defaults={theme:"",picker:!1,pickerDelay:0}})(jQuery);/*
 Bootstrap-select v1.10.0 (http://silviomoreto.github.io/bootstrap-select)

 Copyright 2013-2016 bootstrap-select
 Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
*/
(function(u,a){"function"===typeof define&&define.amd?define(["jquery"],function(k){return a(k)}):"object"===typeof exports?module.exports=a(require("jquery")):a(jQuery)})(this,function(u){(function(a){function k(d){a.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,
ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){d=d.replace(this.re,this.ch)});return d}function g(d){var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b="(?:"+Object.keys(c).join("|")+")",e=new RegExp(b,"g");d=null==d?"":""+d;return(new RegExp(b)).test(d)?d.replace(e,function(b){return c[b]}):d}function l(d,c){var b=arguments,e=d,f=c;[].shift.apply(b);var p,m=this.each(function(){var c=a(this);if(c.is("select")){var d=c.data("selectpicker"),n="object"==
typeof e&&e;if(!d)d=a.extend({},h.DEFAULTS,a.fn.selectpicker.defaults||{},c.data(),n),d.template=a.extend({},h.DEFAULTS.template,a.fn.selectpicker.defaults?a.fn.selectpicker.defaults.template:{},c.data().template,n.template),c.data("selectpicker",d=new h(this,d,f));else if(n)for(var m in n)n.hasOwnProperty(m)&&(d.options[m]=n[m]);"string"==typeof e&&(p=d[e]instanceof Function?d[e].apply(d,b):d.options[e])}});return"undefined"!==typeof p?p:m}String.prototype.includes||function(){var d={}.toString,
c=function(){try{var b={},c=Object.defineProperty,e=c(b,b,b)&&c}catch(q){}return e}(),b="".indexOf,e=function(c){if(null==this)throw new TypeError;var e=String(this);if(c&&"[object RegExp]"==d.call(c))throw new TypeError;var f=e.length,n=String(c),a=n.length,h=1<arguments.length?arguments[1]:void 0,h=h?Number(h):0;h!=h&&(h=0);return a+Math.min(Math.max(h,0),f)>f?!1:-1!=b.call(e,n,h)};c?c(String.prototype,"includes",{value:e,configurable:!0,writable:!0}):String.prototype.includes=e}();String.prototype.startsWith||
function(){var d=function(){try{var b={},c=Object.defineProperty,d=c(b,b,b)&&c}catch(m){}return d}(),c={}.toString,b=function(b){if(null==this)throw new TypeError;var e=String(this);if(b&&"[object RegExp]"==c.call(b))throw new TypeError;var d=e.length,f=String(b),a=f.length,h=1<arguments.length?arguments[1]:void 0,h=h?Number(h):0;h!=h&&(h=0);h=Math.min(Math.max(h,0),d);if(a+h>d)return!1;for(d=-1;++d<a;)if(e.charCodeAt(h+d)!=f.charCodeAt(d))return!1;return!0};d?d(String.prototype,"startsWith",{value:b,
configurable:!0,writable:!0}):String.prototype.startsWith=b}();Object.keys||(Object.keys=function(d,c,b){b=[];for(c in d)b.hasOwnProperty.call(d,c)&&b.push(c);return b});a.fn.triggerNative=function(d){var c=this[0],b;c.dispatchEvent?("function"===typeof Event?b=new Event(d,{bubbles:!0}):(b=document.createEvent("Event"),b.initEvent(d,!0,!1)),c.dispatchEvent(b)):(c.fireEvent&&(b=document.createEventObject(),b.eventType=d,c.fireEvent("on"+d,b)),this.trigger(d))};a.expr[":"].icontains=function(d,c,b){d=
a(d);return(d.data("tokens")||d.text()).toUpperCase().includes(b[3].toUpperCase())};a.expr[":"].ibegins=function(d,c,b){d=a(d);return(d.data("tokens")||d.text()).toUpperCase().startsWith(b[3].toUpperCase())};a.expr[":"].aicontains=function(d,c,b){d=a(d);return(d.data("tokens")||d.data("normalizedText")||d.text()).toUpperCase().includes(b[3].toUpperCase())};a.expr[":"].aibegins=function(d,c,b){d=a(d);return(d.data("tokens")||d.data("normalizedText")||d.text()).toUpperCase().startsWith(b[3].toUpperCase())};
var h=function(d,c,b){b&&(b.stopPropagation(),b.preventDefault());this.$element=a(d);this.$lis=this.$menu=this.$button=this.$newElement=null;this.options=c;null===this.options.title&&(this.options.title=this.$element.attr("title"));this.val=h.prototype.val;this.render=h.prototype.render;this.refresh=h.prototype.refresh;this.setStyle=h.prototype.setStyle;this.selectAll=h.prototype.selectAll;this.deselectAll=h.prototype.deselectAll;this.destroy=h.prototype.destroy;this.remove=h.prototype.remove;this.show=
h.prototype.show;this.hide=h.prototype.hide;this.init()};h.VERSION="1.10.0";h.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(d,c){return 1==d?"{0} item selected":"{0} items selected"},maxOptionsText:function(d,c){return[1==d?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==c?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,
doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1};
h.prototype={constructor:h,init:function(){var d=this,c=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");
this.$element.removeClass("bs-select-hidden");this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right");"undefined"!==typeof c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(b){b.preventDefault();d.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",
this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(b){d.$element.trigger("hide.bs.select",b)},"hidden.bs.dropdown":function(b){d.$element.trigger("hidden.bs.select",b)},"show.bs.dropdown":function(b){d.$element.trigger("show.bs.select",b)},"shown.bs.dropdown":function(b){d.$element.trigger("shown.bs.select",b)}});if(d.$element[0].hasAttribute("required"))this.$element.on("invalid",function(){d.$button.addClass("bs-invalid").focus();d.$element.on({"focus.bs.select":function(){d.$button.focus();
d.$element.off("focus.bs.select")},"shown.bs.select":function(){d.$element.val(d.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&d.$button.removeClass("bs-invalid");d.$element.off("rendered.bs.select")}})});setTimeout(function(){d.$element.trigger("loaded.bs.select")})},createDropdown:function(){var d=this.multiple||this.options.showTick?" show-tick":"",c=this.$element.parent().hasClass("input-group")?" input-group-btn":"",b=this.autofocus?" autofocus":
"",e=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",f=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+g(this.options.liveSearchPlaceholder)+'"')+"></div>":"";return a('<div class="btn-group bootstrap-select'+d+c+'"><button type="button" class="'+this.options.styleBase+
' dropdown-toggle" data-toggle="dropdown"'+b+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+e+f+(this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+
this.options.deselectAllText+"</button></div></div>":"")+'<ul class="dropdown-menu inner" role="menu"></ul>'+(this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"")+"</div></div>")},createView:function(){var d=this.createDropdown(),c=this.createLi();d.find("ul")[0].innerHTML=c;return d},reloadLi:function(){this.destroyLi();var d=this.createLi();
this.$menuInner[0].innerHTML=d},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var d=this,c=[],b=0,e=document.createElement("option"),f=-1,p=function(b,c,e,d){return"<li"+("undefined"!==typeof e&""!==e?' class="'+e+'"':"")+("undefined"!==typeof c&null!==c?' data-original-index="'+c+'"':"")+("undefined"!==typeof d&null!==d?'data-optgroup="'+d+'"':"")+">"+b+"</li>"},m=function(b,c,e,f){return'<a tabindex="0"'+("undefined"!==typeof c?' class="'+c+'"':"")+("undefined"!==typeof e?
' style="'+e+'"':"")+(d.options.liveSearchNormalize?' data-normalized-text="'+k(g(b))+'"':"")+("undefined"!==typeof f||null!==f?' data-tokens="'+f+'"':"")+">"+b+'<span class="'+d.options.iconBase+" "+d.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(f--,!this.$element.find(".bs-title-option").length)){var q=this.$element[0];e.className="bs-title-option";e.appendChild(document.createTextNode(this.options.title));e.value="";q.insertBefore(e,q.firstChild);void 0===
a(q.options[q.selectedIndex]).attr("selected")&&(e.selected=!0)}this.$element.find("option").each(function(e){var n=a(this);f++;if(!n.hasClass("bs-title-option")){var q=this.className||"",h=this.style.cssText,A=n.data("content")?n.data("content"):n.html(),g=n.data("tokens")?n.data("tokens"):null,l="undefined"!==typeof n.data("subtext")?'<small class="text-muted">'+n.data("subtext")+"</small>":"",k="undefined"!==typeof n.data("icon")?'<span class="'+d.options.iconBase+" "+n.data("icon")+'"></span> ':
"",C="OPTGROUP"===this.parentNode.tagName,z=this.disabled||C&&this.parentNode.disabled;""!==k&&z&&(k="<span>"+k+"</span>");if(d.options.hideDisabled&&z&&!C)f--;else{n.data("content")||(A=k+'<span class="text">'+A+l+"</span>");if(C&&!0!==n.data("divider")){l=" "+this.parentNode.className||"";0===n.index()&&(b+=1,k=this.parentNode.label,C="undefined"!==typeof n.parent().data("subtext")?'<small class="text-muted">'+n.parent().data("subtext")+"</small>":"",k=(n.parent().data("icon")?'<span class="'+d.options.iconBase+
" "+n.parent().data("icon")+'"></span> ':"")+'<span class="text">'+k+C+"</span>",0!==e&&0<c.length&&(f++,c.push(p("",null,"divider",b+"div"))),f++,c.push(p(k,null,"dropdown-header"+l,b)));if(d.options.hideDisabled&&z){f--;return}c.push(p(m(A,"opt "+q+l,h,g),e,"",b))}else!0===n.data("divider")?c.push(p("",e,"divider")):!0===n.data("hidden")?c.push(p(m(A,q,h,g),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(f++,c.push(p("",null,"divider",b+"div"))),
c.push(p(m(A,q,h,g),e)));d.liObj[e]=f}}});this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected");return c.join("")},findLis:function(){null==this.$lis&&(this.$lis=this.$menu.find("li"));return this.$lis},render:function(d){var c=this,b;!1!==d&&this.$element.find("option").each(function(b){var e=c.findLis().eq(c.liObj[b]);c.setDisabled(b,this.disabled||"OPTGROUP"===this.parentNode.tagName&&
this.parentNode.disabled,e);c.setSelected(b,this.selected,e)});this.tabIndex();d=this.$element.find("option").map(function(){if(this.selected&&(!c.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))){var b=a(this),e=b.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+b.data("icon")+'"></i> ':"",d;d=c.options.showSubtext&&b.data("subtext")&&!c.multiple?' <small class="text-muted">'+b.data("subtext")+"</small>":"";return"undefined"!==
typeof b.attr("title")?b.attr("title"):b.data("content")&&c.options.showContent?b.data("content"):e+b.html()+d}}).toArray();b=this.multiple?d.join(this.options.multipleSeparator):d[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var e=this.options.selectedTextFormat.split(">");if(1<e.length&&d.length>e[1]||1==e.length&&2<=d.length)b=this.options.hideDisabled?", [disabled]":"",b=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+b).length,b=("function"===
typeof this.options.countSelectedText?this.options.countSelectedText(d.length,b):this.options.countSelectedText).replace("{0}",d.length.toString()).replace("{1}",b.toString())}void 0==this.options.title&&(this.options.title=this.$element.attr("title"));"static"==this.options.selectedTextFormat&&(b=this.options.title);b||(b="undefined"!==typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",a.trim(b.replace(/<[^>]*>?/g,"")));this.$button.children(".filter-option").html(b);
this.$element.trigger("rendered.bs.select")},setStyle:function(d,c){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var b=d?d:this.options.style;"add"==c?this.$button.addClass(b):"remove"==c?this.$button.removeClass(b):(this.$button.removeClass(this.options.style),this.$button.addClass(b))},liHeight:function(d){if(d||!1!==this.options.size&&!this.sizeInfo){d=document.createElement("div");
var c=document.createElement("div"),b=document.createElement("ul"),e=document.createElement("li"),f=document.createElement("li"),p=document.createElement("a"),m=document.createElement("span"),q=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,g=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):
null,l=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;m.className="text";d.className=this.$menu[0].parentNode.className+" open";c.className="dropdown-menu open";b.className="dropdown-menu inner";e.className="divider";m.appendChild(document.createTextNode("Inner text"));p.appendChild(m);f.appendChild(p);b.appendChild(f);b.appendChild(e);q&&c.appendChild(q);h&&(f=document.createElement("span"),h.className="bs-searchbox",
f.className="form-control",h.appendChild(f),c.appendChild(h));g&&c.appendChild(g);c.appendChild(b);l&&c.appendChild(l);d.appendChild(c);document.body.appendChild(d);b=p.offsetHeight;q=q?q.offsetHeight:0;h=h?h.offsetHeight:0;g=g?g.offsetHeight:0;l=l?l.offsetHeight:0;e=a(e).outerHeight(!0);f=(p="function"===typeof getComputedStyle?getComputedStyle(c):!1)?null:a(c);c=parseInt(p?p.paddingTop:f.css("paddingTop"))+parseInt(p?p.paddingBottom:f.css("paddingBottom"))+parseInt(p?p.borderTopWidth:f.css("borderTopWidth"))+
parseInt(p?p.borderBottomWidth:f.css("borderBottomWidth"));p=c+parseInt(p?p.marginTop:f.css("marginTop"))+parseInt(p?p.marginBottom:f.css("marginBottom"))+2;document.body.removeChild(d);this.sizeInfo={liHeight:b,headerHeight:q,searchHeight:h,actionsHeight:g,doneButtonHeight:l,dividerHeight:e,menuPadding:c,menuExtras:p}}},setSize:function(){this.findLis();this.liHeight();this.options.header&&this.$menu.css("padding-top",0);if(!1!==this.options.size){var d=this,c=this.$menu,b=this.$menuInner,e=a(window),
f=this.$newElement[0].offsetHeight,p=this.sizeInfo.liHeight,m=this.sizeInfo.headerHeight,q=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,g=this.sizeInfo.doneButtonHeight,l=this.sizeInfo.dividerHeight,k=this.sizeInfo.menuPadding,v=this.sizeInfo.menuExtras,r=this.options.hideDisabled?".disabled":"",x,y,C,z,E=function(){C=d.$newElement.offset().top-e.scrollTop();z=e.height()-C-f};E();"auto"===this.options.size?(l=function(){var e;e=function(b,c){return function(e){return c?e.classList?e.classList.contains(b):
a(e).hasClass(b):!(e.classList?e.classList.contains(b):a(e).hasClass(b))}};var f=d.$menuInner[0].getElementsByTagName("li"),f=Array.prototype.filter?Array.prototype.filter.call(f,e("hidden",!1)):d.$lis.not(".hidden");e=Array.prototype.filter?Array.prototype.filter.call(f,e("dropdown-header",!0)):f.filter(".dropdown-header");E();x=z-v;d.options.container?(c.data("height")||c.data("height",c.height()),y=c.data("height")):y=c.height();d.options.dropupAuto&&d.$newElement.toggleClass("dropup",C>z&&x-v<
y);d.$newElement.hasClass("dropup")&&(x=C-v);e=3<f.length+e.length?3*p+v-2:0;c.css({"max-height":x+"px",overflow:"hidden","min-height":e+m+q+h+g+"px"});b.css({"max-height":x-m-q-h-g-k+"px","overflow-y":"auto","min-height":Math.max(e-k,0)+"px"})},l(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",l),e.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",l)):this.options.size&&"auto"!=this.options.size&&this.$lis.not(r).length>
this.options.size&&(r=this.$lis.not(".divider").not(r).children().slice(0,this.options.size).last().parent().index(),r=this.$lis.slice(0,r+1).filter(".divider").length,x=p*this.options.size+r*l+k,d.options.container?(c.data("height")||c.data("height",c.height()),y=c.data("height")):y=c.height(),d.options.dropupAuto&&this.$newElement.toggleClass("dropup",C>z&&x-v<y),c.css({"max-height":x+m+q+h+g+"px",overflow:"hidden","min-height":""}),b.css({"max-height":x-k+"px","overflow-y":"auto","min-height":""}))}},
setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var d=this.$menu.parent().clone().appendTo("body"),c=this.options.container?this.$newElement.clone().appendTo("body"):d,b=d.children(".dropdown-menu").outerWidth(),e=c.css("width","auto").children("button").outerWidth();d.remove();c.remove();this.$newElement.css("width",Math.max(b,e)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?
(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=a('<div class="bs-container" />');var d=this,c,b,e=function(e){d.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup"));c=e.offset();
b=e.hasClass("dropup")?0:e[0].offsetHeight;d.$bsContainer.css({top:c.top+b,left:c.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var b=a(this);d.isDisabled()||(e(d.$newElement),d.$bsContainer.appendTo(d.options.container).toggleClass("open",!b.hasClass("open")).append(d.$menu))});a(window).on("resize scroll",function(){e(d.$newElement)});this.$element.on("hide.bs.select",function(){d.$menu.data("height",d.$menu.height());d.$bsContainer.detach()})},setSelected:function(d,c,b){b||
(b=this.findLis().eq(this.liObj[d]));b.toggleClass("selected",c)},setDisabled:function(d,c,b){b||(b=this.findLis().eq(this.liObj[d]));c?b.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):b.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var d=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&
(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!d.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));
this.$element.attr("tabindex",-98)},clickListener:function(){var d=this,c=a(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(b){b.stopPropagation()});c.data("spaceSelect",!1);this.$button.on("keyup",function(b){/(32)/.test(b.keyCode.toString(10))&&c.data("spaceSelect")&&(b.preventDefault(),c.data("spaceSelect",!1))});this.$button.on("click",function(){d.setSize()});this.$element.on("shown.bs.select",function(){if(!d.options.liveSearch&&!d.multiple)d.$menuInner.find(".selected a").focus();
else if(!d.multiple){var b=d.liObj[d.$element[0].selectedIndex];"number"===typeof b&&!1!==d.options.size&&(b=d.$lis.eq(b)[0].offsetTop-d.$menuInner[0].offsetTop,b=b-d.$menuInner[0].offsetHeight/2+d.sizeInfo.liHeight/2,d.$menuInner[0].scrollTop=b)}});this.$menuInner.on("click","li a",function(b){var e=a(this),c=e.parent().data("originalIndex"),f=d.$element.val(),m=d.$element.prop("selectedIndex");d.multiple&&b.stopPropagation();b.preventDefault();if(!d.isDisabled()&&!e.parent().hasClass("disabled")){var q=
d.$element.find("option");b=q.eq(c);var h=b.prop("selected"),g=b.parent("optgroup"),l=d.options.maxOptions,k=g.data("maxOptions")||!1;if(d.multiple){if(b.prop("selected",!h),d.setSelected(c,!h),e.blur(),!1!==l||!1!==k){var v=l<q.filter(":selected").length,r=k<g.find("option:selected").length;if(l&&v||k&&r)if(l&&1==l)q.prop("selected",!1),b.prop("selected",!0),d.$menuInner.find(".selected").removeClass("selected"),d.setSelected(c,!0);else if(k&&1==k)g.find("option:selected").prop("selected",!1),b.prop("selected",
!0),l=e.parent().data("optgroup"),d.$menuInner.find('[data-optgroup="'+l+'"]').removeClass("selected"),d.setSelected(c,!0);else{var e="function"===typeof d.options.maxOptionsText?d.options.maxOptionsText(l,k):d.options.maxOptionsText,q=e[0].replace("{n}",l),g=e[1].replace("{n}",k),x=a('<div class="notify"></div>');e[2]&&(q=q.replace("{var}",e[2][1<l?0:1]),g=g.replace("{var}",e[2][1<k?0:1]));b.prop("selected",!1);d.$menu.append(x);l&&v&&(x.append(a("<div>"+q+"</div>")),d.$element.trigger("maxReached.bs.select"));
k&&r&&(x.append(a("<div>"+g+"</div>")),d.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){d.setSelected(c,!1)},10);x.delay(750).fadeOut(300,function(){a(this).remove()})}}}else q.prop("selected",!1),b.prop("selected",!0),d.$menuInner.find(".selected").removeClass("selected"),d.setSelected(c,!0);d.multiple?d.options.liveSearch&&d.$searchbox.focus():d.$button.focus();(f!=d.$element.val()&&d.multiple||m!=d.$element.prop("selectedIndex")&&!d.multiple)&&d.$element.trigger("changed.bs.select",
[c,b.prop("selected"),h]).triggerNative("change")}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(b){b.currentTarget==this&&(b.preventDefault(),b.stopPropagation(),d.options.liveSearch&&!a(b.target).hasClass("close")?d.$searchbox.focus():d.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(b){b.preventDefault();b.stopPropagation();d.options.liveSearch?d.$searchbox.focus():d.$button.focus()});this.$menu.on("click",".popover-title .close",
function(){d.$button.click()});this.$searchbox.on("click",function(b){b.stopPropagation()});this.$menu.on("click",".actions-btn",function(b){d.options.liveSearch?d.$searchbox.focus():d.$button.focus();b.preventDefault();b.stopPropagation();a(this).hasClass("bs-select-all")?d.selectAll():d.deselectAll()});this.$element.change(function(){d.render(!1)})},liveSearchListener:function(){var d=this,c=a('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",
function(){d.$menuInner.find(".active").removeClass("active");d.$searchbox.val()&&(d.$searchbox.val(""),d.$lis.not(".is-hidden").removeClass("hidden"),c.parent().length&&c.remove());d.multiple||d.$menuInner.find(".selected").addClass("active");setTimeout(function(){d.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(b){b.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(d.$searchbox.val()){var b=
d.$lis.not(".is-hidden").removeClass("hidden").children("a"),b=d.options.liveSearchNormalize?b.not(":a"+d._searchStyle()+'("'+k(d.$searchbox.val())+'")'):b.not(":"+d._searchStyle()+'("'+d.$searchbox.val()+'")');b.parent().addClass("hidden");d.$lis.filter(".dropdown-header").each(function(){var b=a(this),e=b.data("optgroup");0===d.$lis.filter("[data-optgroup="+e+"]").not(b).not(".hidden").length&&(b.addClass("hidden"),d.$lis.filter("[data-optgroup="+e+"div]").addClass("hidden"))});var e=d.$lis.not(".hidden");
e.each(function(b){var c=a(this);c.hasClass("divider")&&(c.index()===e.first().index()||c.index()===e.last().index()||e.eq(b+1).hasClass("divider"))&&c.addClass("hidden")});d.$lis.not(".hidden, .no-results").length?c.parent().length&&c.remove():(c.parent().length&&c.remove(),c.html(d.options.noneResultsText.replace("{0}",'"'+g(d.$searchbox.val())+'"')).show(),d.$menuInner.append(c))}else d.$lis.not(".is-hidden").removeClass("hidden"),c.parent().length&&c.remove();d.$lis.filter(".active").removeClass("active");
d.$searchbox.val()&&d.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();a(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(d){return"undefined"!==typeof d?(this.$element.val(d),this.render(),this.$element):this.$element.val()},changeAll:function(d){"undefined"===typeof d&&(d=!0);this.findLis();for(var c=this.$element.find("option"),b=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",
d),e=b.length,f=[],p=0;p<e;p++){var m=b[p].getAttribute("data-original-index");f[f.length]=c.eq(m)[0]}a(f).prop("selected",d);this.render(!1);this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(d){(d=d||window.event)&&d.stopPropagation();this.$button.trigger("click")},keydown:function(d){var c=a(this),b=c.is("input")?c.parent().parent():c.parent(),e,f=b.data("this"),p,
m,q,h,l,g,t,v={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};f.options.liveSearch&&(b=c.parent().parent());f.options.container&&(b=f.$menu);e=a("[role=menu] li",b);t=f.$newElement.hasClass("open");!t&&(48<=
d.keyCode&&57>=d.keyCode||96<=d.keyCode&&105>=d.keyCode||65<=d.keyCode&&90>=d.keyCode)&&(f.options.container?f.$button.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),t=!0),f.$searchbox.focus());f.options.liveSearch&&(/(^9$|27)/.test(d.keyCode.toString(10))&&t&&0===f.$menu.find(".active").length&&(d.preventDefault(),f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()),e=a("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",
b),c.val()||/(38|40)/.test(d.keyCode.toString(10))||0!==e.filter(".active").length||(e=f.$menuInner.find("li"),e=f.options.liveSearchNormalize?e.filter(":a"+f._searchStyle()+"("+k(v[d.keyCode])+")"):e.filter(":"+f._searchStyle()+"("+v[d.keyCode]+")")));if(e.length){if(/(38|40)/.test(d.keyCode.toString(10)))b=e.index(e.find("a").filter(":focus").parent()),m=e.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").first().index(),q=e.filter(":not(.disabled, .hidden, .dropdown-header, .divider)").last().index(),
p=e.eq(b).nextAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),h=e.eq(b).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),l=e.eq(p).prevAll(":not(.disabled, .hidden, .dropdown-header, .divider)").eq(0).index(),f.options.liveSearch&&(e.each(function(b){a(this).hasClass("disabled")||a(this).data("index",b)}),b=e.index(e.filter(".active")),m=e.first().data("index"),q=e.last().data("index"),p=e.eq(b).nextAll().eq(0).data("index"),h=e.eq(b).prevAll().eq(0).data("index"),
l=e.eq(p).prevAll().eq(0).data("index")),g=c.data("prevIndex"),38==d.keyCode?(f.options.liveSearch&&b--,b!=l&&b>h&&(b=h),b<m&&(b=m),b==g&&(b=q)):40==d.keyCode&&(f.options.liveSearch&&b++,-1==b&&(b=0),b!=l&&b<p&&(b=p),b>q&&(b=q),b==g&&(b=m)),c.data("prevIndex",b),f.options.liveSearch?(d.preventDefault(),c.hasClass("dropdown-toggle")||(e.removeClass("active").eq(b).addClass("active").children("a").focus(),c.focus())):e.eq(b).children("a").focus();else if(!c.is("input")){var r=[];e.each(function(){a(this).hasClass("disabled")||
a.trim(a(this).children("a").text().toLowerCase()).substring(0,1)==v[d.keyCode]&&r.push(a(this).index())});b=a(document).data("keycount");b++;a(document).data("keycount",b);a.trim(a(":focus").text().toLowerCase()).substring(0,1)!=v[d.keyCode]?(b=1,a(document).data("keycount",b)):b>=r.length&&(a(document).data("keycount",0),b>r.length&&(b=1));e.eq(r[b-1]).children("a").focus()}(/(13|32)/.test(d.keyCode.toString(10))||/(^9$)/.test(d.keyCode.toString(10))&&f.options.selectOnTab)&&t&&(/(32)/.test(d.keyCode.toString(10))||
d.preventDefault(),f.options.liveSearch?/(32)/.test(d.keyCode.toString(10))||(f.$menuInner.find(".active a").click(),c.focus()):(c=a(":focus"),c.click(),c.focus(),d.preventDefault(),a(document).data("spaceSelect",!0)),a(document).data("keycount",0));if(/(^9$|27)/.test(d.keyCode.toString(10))&&t&&(f.multiple||f.options.liveSearch)||/(27)/.test(d.keyCode.toString(10))&&!t)f.$menu.parent().removeClass("open"),f.options.container&&f.$newElement.removeClass("open"),f.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device")},
refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():
this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var f=a.fn.selectpicker;a.fn.selectpicker=l;a.fn.selectpicker.Constructor=h;a.fn.selectpicker.noConflict=function(){a.fn.selectpicker=f;return this};a(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',h.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',
function(d){d.stopPropagation()});a(window).on("load.bs.select.data-api",function(){a(".selectpicker").each(function(){var d=a(this);l.call(d,d.data())})})})(u)});/*
: http://creativecommons.org/publicdomain/zero/1.0/
 pixi.js - v4.3.4
 Compiled Thu, 19 Jan 2017 21:39:58 UTC

 pixi.js is licensed under the MIT License.
 http://www.opensource.org/licenses/mit-license
 https://mths.be/punycode v1.4.1 by @mathias */
(function(u){"object"===typeof exports&&"undefined"!==typeof module?module.exports=u():"function"===typeof define&&define.amd?define([],u):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).PIXI=u()})(function(){return function a(k,g,l){function h(c,b){if(!g[c]){if(!k[c]){var e="function"==typeof require&&require;if(!b&&e)return e(c,!0);if(f)return f(c,!0);e=Error("Cannot find module '"+c+"'");throw e.code="MODULE_NOT_FOUND",e;}e=g[c]={exports:{}};
k[c][0].call(e.exports,function(b){var e=k[c][1][b];return h(e?e:b)},e,e.exports,a,k,g,l)}return g[c].exports}for(var f="function"==typeof require&&require,d=0;d<l.length;d++)h(l[d]);return h}({1:[function(a,k,g){function l(f){var d=32;(f&=-f)&&d--;f&65535&&(d-=16);f&16711935&&(d-=8);f&252645135&&(d-=4);f&858993459&&(d-=2);f&1431655765&&--d;return d}"use restrict";g.INT_BITS=32;g.INT_MAX=2147483647;g.INT_MIN=-2147483648;g.sign=function(f){return(0<f)-(0>f)};g.abs=function(f){var d=f>>31;return(f^
d)-d};g.min=function(f,d){return d^(f^d)&-(f<d)};g.max=function(f,d){return f^(f^d)&-(f<d)};g.isPow2=function(f){return!(f&f-1)&&!!f};g.log2=function(f){var d,c;d=(65535<f)<<4;f>>>=d;c=(255<f)<<3;f>>>=c;d|=c;c=(15<f)<<2;f>>>=c;d|=c;c=(3<f)<<1;return d|c|f>>>c>>1};g.log10=function(f){return 1E9<=f?9:1E8<=f?8:1E7<=f?7:1E6<=f?6:1E5<=f?5:1E4<=f?4:1E3<=f?3:100<=f?2:10<=f?1:0};g.popCount=function(f){f-=f>>>1&1431655765;f=(f&858993459)+(f>>>2&858993459);return 16843009*(f+(f>>>4)&252645135)>>>24};g.countTrailingZeros=
l;g.nextPow2=function(f){f+=0===f;--f;f|=f>>>1;f|=f>>>2;f|=f>>>4;f|=f>>>8;return(f|f>>>16)+1};g.prevPow2=function(f){f|=f>>>1;f|=f>>>2;f|=f>>>4;f|=f>>>8;f|=f>>>16;return f-(f>>>1)};g.parity=function(f){f^=f>>>16;f^=f>>>8;return 27030>>>((f^f>>>4)&15)&1};var h=Array(256);(function(f){for(var d=0;256>d;++d){for(var c=d,b=d,e=7,c=c>>>1;c;c>>>=1)b<<=1,b|=c&1,--e;f[d]=b<<e&255}})(h);g.reverse=function(f){return h[f&255]<<24|h[f>>>8&255]<<16|h[f>>>16&255]<<8|h[f>>>24&255]};g.interleave2=function(f,d){f&=
65535;f=(f|f<<8)&16711935;f=(f|f<<4)&252645135;f=(f|f<<2)&858993459;d&=65535;d=(d|d<<8)&16711935;d=(d|d<<4)&252645135;d=(d|d<<2)&858993459;return(f|f<<1)&1431655765|((d|d<<1)&1431655765)<<1};g.deinterleave2=function(f,d){f=f>>>d&1431655765;f=(f|f>>>1)&858993459;f=(f|f>>>2)&252645135;f=(f|f>>>4)&16711935;return((f|f>>>16)&65535)<<16>>16};g.interleave3=function(f,d,c){f&=1023;f=(f|f<<16)&4278190335;f=(f|f<<8)&251719695;f=(f|f<<4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<
4)&3272356035;c&=1023;c=(c|c<<16)&4278190335;c=(c|c<<8)&251719695;c=(c|c<<4)&3272356035;return(f|f<<2)&1227133513|((d|d<<2)&1227133513)<<1|((c|c<<2)&1227133513)<<2};g.deinterleave3=function(f,d){f=f>>>d&1227133513;f=(f|f>>>2)&3272356035;f=(f|f>>>4)&251719695;f=(f|f>>>8)&4278190335;return((f|f>>>16)&1023)<<22>>22};g.nextCombination=function(f){var d=f|f-1;return d+1|(~d&-~d)-1>>>l(f)+1}},{}],2:[function(a,k,g){function l(e,a,m){m=m||2;var p=a&&a.length,q=p?a[0]*m:e.length,A=h(e,0,q,m,!0),l=[];if(!A)return l;
var g,B,k,r;if(p){var t=m,p=[],y,v,z;r=0;for(y=a.length;r<y;r++)v=a[r]*t,z=r<y-1?a[r+1]*t:e.length,v=h(e,v,z,t,!1),v===v.next&&(v.steiner=!0),p.push(n(v));p.sort(c);for(r=0;r<p.length;r++){a=p[r];t=A;if(t=b(a,t))a=w(t,a),f(a,a.next);A=f(A,A.next)}}if(e.length>80*m){g=k=e[0];B=p=e[1];for(t=m;t<q;t+=m)r=e[t],a=e[t+1],r<g&&(g=r),a<B&&(B=a),r>k&&(k=r),a>p&&(p=a);k=Math.max(k-g,p-B)}d(A,l,m,g,B,k);return l}function h(b,e,c,d,f){var n;if(f===0<x(b,e,c,d))for(f=e;f<c;f+=d)n=t(f,b[f],b[f+1],n);else for(f=
c-d;f>=e;f-=d)n=t(f,b[f],b[f+1],n);n&&q(n,n.next)&&(v(n),n=n.next);return n}function f(b,e){if(!b)return b;e||(e=b);var c=b,d;do if(d=!1,c.steiner||!q(c,c.next)&&0!==m(c.prev,c,c.next))c=c.next;else{v(c);c=e=c.prev;if(c===c.next)return null;d=!0}while(d||c!==e);return e}function d(b,c,n,a,h,l,g){if(b){if(!g&&l){var k=b,r=k;do null===r.z&&(r.z=e(r.x,r.y,a,h,l)),r.prevZ=r.prev,r=r.nextZ=r.next;while(r!==k);r.prevZ.nextZ=null;r.prevZ=null;var k=r,t,y,z,C,x,E,D=1;do{r=k;z=k=null;for(C=0;r;){C++;y=r;for(t=
x=0;t<D&&(x++,y=y.nextZ,y);t++);for(E=D;0<x||0<E&&y;)0===x?(t=y,y=y.nextZ,E--):0!==E&&y?r.z<=y.z?(t=r,r=r.nextZ,x--):(t=y,y=y.nextZ,E--):(t=r,r=r.nextZ,x--),z?z.nextZ=t:k=t,t.prevZ=z,z=t;r=y}z.nextZ=null;D*=2}while(1<C)}for(k=b;b.prev!==b.next;){r=b.prev;y=b.next;if(l)a:{z=b;E=a;var F=h,H=l;C=z.prev;x=z;D=z.next;if(0<=m(C,x,D))z=!1;else{var K=C.x>x.x?C.x>D.x?C.x:D.x:x.x>D.x?x.x:D.x,T=C.y>x.y?C.y>D.y?C.y:D.y:x.y>D.y?x.y:D.y;t=e(C.x<x.x?C.x<D.x?C.x:D.x:x.x<D.x?x.x:D.x,C.y<x.y?C.y<D.y?C.y:D.y:x.y<D.y?
x.y:D.y,E,F,H);E=e(K,T,E,F,H);for(F=z.nextZ;F&&F.z<=E;){if(F!==z.prev&&F!==z.next&&p(C.x,C.y,x.x,x.y,D.x,D.y,F.x,F.y)&&0<=m(F.prev,F,F.next)){z=!1;break a}F=F.nextZ}for(F=z.prevZ;F&&F.z>=t;){if(F!==z.prev&&F!==z.next&&p(C.x,C.y,x.x,x.y,D.x,D.y,F.x,F.y)&&0<=m(F.prev,F,F.next)){z=!1;break a}F=F.prevZ}z=!0}}else a:if(z=b,C=z.prev,x=z,D=z.next,0<=m(C,x,D))z=!1;else{for(t=z.next.next;t!==z.prev;){if(p(C.x,C.y,x.x,x.y,D.x,D.y,t.x,t.y)&&0<=m(t.prev,t,t.next)){z=!1;break a}t=t.next}z=!0}if(z)c.push(r.i/n),
c.push(b.i/n),c.push(y.i/n),v(b),k=b=y.next;else if(b=y,b===k){if(!g)d(f(b),c,n,a,h,l,1);else if(1===g){g=c;k=n;r=b;do y=r.prev,z=r.next.next,!q(y,z)&&A(y,r,r.next,z)&&B(y,z)&&B(z,y)&&(g.push(y.i/k),g.push(r.i/k),g.push(z.i/k),v(r),v(r.next),r=b=z),r=r.next;while(r!==b);b=r;d(b,c,n,a,h,l,2)}else if(2===g)a:{g=b;do{for(k=g.next.next;k!==g.prev;){if(r=g.i!==k.i){r=g;y=k;if(z=r.next.i!==y.i&&r.prev.i!==y.i){b:{z=r;do{if(z.i!==r.i&&z.next.i!==r.i&&z.i!==y.i&&z.next.i!==y.i&&A(z,z.next,r,y)){z=!0;break b}z=
z.next}while(z!==r);z=!1}z=!z}if(z=z&&B(r,y)&&B(y,r)){z=r;C=!1;x=(r.x+y.x)/2;y=(r.y+y.y)/2;do z.y>y!==z.next.y>y&&x<(z.next.x-z.x)*(y-z.y)/(z.next.y-z.y)+z.x&&(C=!C),z=z.next;while(z!==r);z=C}r=z}if(r){b=w(g,k);g=f(g,g.next);b=f(b,b.next);d(g,c,n,a,h,l);d(b,c,n,a,h,l);break a}k=k.next}g=g.next}while(g!==b)}break}}}}function c(b,c){return b.x-c.x}function b(b,c){var e=c,d=b.x,f=b.y,n=-Infinity,a;do{if(f<=e.y&&f>=e.next.y){var m=e.x+(f-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(m<=d&&m>n){n=m;if(m===d){if(f===
e.y)return e;if(f===e.next.y)return e.next}a=e.x<e.next.x?e:e.next}}e=e.next}while(e!==c);if(!a)return null;if(d===n)return a.prev;for(var m=a,q=a.x,h=a.y,A=Infinity,g,e=a.next;e!==m;)d>=e.x&&e.x>=q&&p(f<h?d:n,f,q,h,f<h?n:d,f,e.x,e.y)&&(g=Math.abs(f-e.y)/(d-e.x),(g<A||g===A&&e.x>a.x)&&B(e,b)&&(a=e,A=g)),e=e.next;return a}function e(b,e,c,d,f){b=32767*(b-c)/f;e=32767*(e-d)/f;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;
return(b|b<<1)&1431655765|((e|e<<1)&1431655765)<<1}function n(b){var e=b,c=b;do e.x<c.x&&(c=e),e=e.next;while(e!==b);return c}function p(b,e,c,d,f,n,a,m){return 0<=(f-a)*(e-m)-(b-a)*(n-m)&&0<=(b-a)*(d-m)-(c-a)*(e-m)&&0<=(c-a)*(n-m)-(f-a)*(d-m)}function m(b,e,c){return(e.y-b.y)*(c.x-e.x)-(e.x-b.x)*(c.y-e.y)}function q(b,e){return b.x===e.x&&b.y===e.y}function A(b,e,c,d){return q(b,e)&&q(c,d)||q(b,d)&&q(c,e)?!0:0<m(b,e,c)!==0<m(b,e,d)&&0<m(c,d,b)!==0<m(c,d,e)}function B(b,e){return 0>m(b.prev,b,b.next)?
0<=m(b,e,b.next)&&0<=m(b,b.prev,e):0>m(b,e,b.prev)||0>m(b,b.next,e)}function w(b,e){var c=new r(b.i,b.x,b.y),d=new r(e.i,e.x,e.y),f=b.next,n=e.prev;b.next=e;e.prev=b;c.next=f;f.prev=c;d.next=c;c.prev=d;n.next=d;d.prev=n;return d}function t(b,e,c,d){b=new r(b,e,c);d?(b.next=d.next,b.prev=d,d.next.prev=b,d.next=b):(b.prev=b,b.next=b);return b}function v(b){b.next.prev=b.prev;b.prev.next=b.next;b.prevZ&&(b.prevZ.nextZ=b.nextZ);b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function r(b,e,c){this.i=b;this.x=e;this.y=
c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function x(b,e,c,d){for(var f=0,n=c-d;e<c;e+=d)f+=(b[n]-b[e])*(b[e+1]+b[n+1]),n=e;return f}k.exports=l;l.deviation=function(b,e,c,d){var f=e&&e.length,n=Math.abs(x(b,0,f?e[0]*c:b.length,c));if(f)for(var f=0,a=e.length;f<a;f++)n-=Math.abs(x(b,e[f]*c,f<a-1?e[f+1]*c:b.length,c));for(f=e=0;f<d.length;f+=3){var a=d[f]*c,m=d[f+1]*c,p=d[f+2]*c;e+=Math.abs((b[a]-b[p])*(b[m+1]-b[a+1])-(b[a]-b[m])*(b[p+1]-b[a+1]))}return 0===n&&0===e?0:
Math.abs((e-n)/n)};l.flatten=function(b){for(var e=b[0][0].length,c={vertices:[],holes:[],dimensions:e},d=0,f=0;f<b.length;f++){for(var n=0;n<b[f].length;n++)for(var a=0;a<e;a++)c.vertices.push(b[f][n][a]);0<f&&(d+=b[f-1].length,c.holes.push(d))}return c}},{}],3:[function(a,k,g){function l(){}function h(b,e,c){this.fn=b;this.context=e;this.once=c||!1}function f(){this._events=new l;this._eventsCount=0}var d=Object.prototype.hasOwnProperty,c="~";Object.create&&(l.prototype=Object.create(null),(new l).__proto__||
(c=!1));f.prototype.eventNames=function(){var b=[],e,f;if(0===this._eventsCount)return b;for(f in e=this._events)d.call(e,f)&&b.push(c?f.slice(1):f);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(e)):b};f.prototype.listeners=function(b,e){var d=this._events[c?c+b:b];if(e)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var f=0,a=d.length,q=Array(a);f<a;f++)q[f]=d[f].fn;return q};f.prototype.emit=function(b,e,d,f,a,q){var n=c?c+b:b;if(!this._events[n])return!1;var n=this._events[n],
m=arguments.length,p,h;if(n.fn){n.once&&this.removeListener(b,n.fn,void 0,!0);switch(m){case 1:return n.fn.call(n.context),!0;case 2:return n.fn.call(n.context,e),!0;case 3:return n.fn.call(n.context,e,d),!0;case 4:return n.fn.call(n.context,e,d,f),!0;case 5:return n.fn.call(n.context,e,d,f,a),!0;case 6:return n.fn.call(n.context,e,d,f,a,q),!0}h=1;for(p=Array(m-1);h<m;h++)p[h-1]=arguments[h];n.fn.apply(n.context,p)}else{var g=n.length,l;for(h=0;h<g;h++)switch(n[h].once&&this.removeListener(b,n[h].fn,
void 0,!0),m){case 1:n[h].fn.call(n[h].context);break;case 2:n[h].fn.call(n[h].context,e);break;case 3:n[h].fn.call(n[h].context,e,d);break;case 4:n[h].fn.call(n[h].context,e,d,f);break;default:if(!p)for(l=1,p=Array(m-1);l<m;l++)p[l-1]=arguments[l];n[h].fn.apply(n[h].context,p)}}return!0};f.prototype.on=function(b,e,d){e=new h(e,d||this);b=c?c+b:b;this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],e]:this._events[b].push(e):(this._events[b]=e,this._eventsCount++);return this};f.prototype.once=
function(b,e,d){e=new h(e,d||this,!0);b=c?c+b:b;this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],e]:this._events[b].push(e):(this._events[b]=e,this._eventsCount++);return this};f.prototype.removeListener=function(b,e,d,f){b=c?c+b:b;if(!this._events[b])return this;if(!e)return 0===--this._eventsCount?this._events=new l:delete this._events[b],this;var n=this._events[b];if(n.fn)n.fn!==e||f&&!n.once||d&&n.context!==d||(0===--this._eventsCount?this._events=new l:delete this._events[b]);
else{for(var a=0,p=[],h=n.length;a<h;a++)(n[a].fn!==e||f&&!n[a].once||d&&n[a].context!==d)&&p.push(n[a]);p.length?this._events[b]=1===p.length?p[0]:p:0===--this._eventsCount?this._events=new l:delete this._events[b]}return this};f.prototype.removeAllListeners=function(b){b?(b=c?c+b:b,this._events[b]&&(0===--this._eventsCount?this._events=new l:delete this._events[b])):(this._events=new l,this._eventsCount=0);return this};f.prototype.off=f.prototype.removeListener;f.prototype.addListener=f.prototype.on;
f.prototype.setMaxListeners=function(){return this};f.prefixed=c;f.EventEmitter=f;"undefined"!==typeof k&&(k.exports=f)},{}],4:[function(a,k,g){(function(a){var h=/iPhone/i,f=/iPod/i,d=/iPad/i,c=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,b=/Android/i,e=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,n=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,p=/IEMobile/i,m=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,q=/BlackBerry/i,A=/BB10/i,g=/Opera Mini/i,l=
/(CriOS|Chrome)(?=.*\bMobile\b)/i,t=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,r=function(a){a=a||navigator.userAgent;var k=a.split("[FBAN");"undefined"!==typeof k[1]&&(a=k[0]);k=a.split("Twitter");"undefined"!==typeof k[1]&&(a=k[0]);this.apple={phone:h.test(a),ipod:f.test(a),tablet:!h.test(a)&&d.test(a),device:h.test(a)||f.test(a)||d.test(a)};this.amazon={phone:e.test(a),tablet:!e.test(a)&&n.test(a),device:e.test(a)||n.test(a)};this.android={phone:e.test(a)||
c.test(a),tablet:!e.test(a)&&!c.test(a)&&(n.test(a)||b.test(a)),device:e.test(a)||n.test(a)||c.test(a)||b.test(a)};this.windows={phone:p.test(a),tablet:m.test(a),device:p.test(a)||m.test(a)};this.other={blackberry:q.test(a),blackberry10:A.test(a),opera:g.test(a),firefox:t.test(a),chrome:l.test(a),device:q.test(a)||A.test(a)||g.test(a)||t.test(a)||l.test(a)};this.seven_inch=v.test(a);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=
this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if("undefined"===typeof window)return this},x=function(){var b=new r;b.Class=r;return b};"undefined"!==typeof k&&k.exports&&"undefined"===typeof window?k.exports=r:"undefined"!==typeof k&&k.exports&&"undefined"!==typeof window?k.exports=x():a.isMobile=x()})(this)},{}],5:[function(a,k,g){var l=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;
k.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");d[5]="de";if("5"===Object.getOwnPropertyNames(d)[0])return!1;for(var c={},d=0;10>d;d++)c["_"+String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(c).map(function(b){return c[b]}).join(""))return!1;var b={};"abcdefghijklmnopqrst".split("").forEach(function(e){b[e]=e});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},b)).join("")?!1:!0}catch(e){return!1}}()?Object.assign:function(d,c){var b,e;if(null===
d||void 0===d)throw new TypeError("Object.assign cannot be called with null or undefined");e=Object(d);for(var n,a=1;a<arguments.length;a++){b=Object(arguments[a]);for(var m in b)h.call(b,m)&&(e[m]=b[m]);if(l){n=l(b);for(var q=0;q<n.length;q++)f.call(b,n[q])&&(e[n[q]]=b[n[q]])}}return e}},{}],6:[function(a,k,g){var l=new ArrayBuffer(0),h=function(f,d,c,b){this.gl=f;this.buffer=f.createBuffer();this.type=d||f.ARRAY_BUFFER;this.drawType=b||f.STATIC_DRAW;this.data=l;c&&this.upload(c)};h.prototype.upload=
function(f,d,c){c||this.bind();c=this.gl;f=f||this.data;this.data.byteLength>=f.byteLength?c.bufferSubData(this.type,d||0,f):c.bufferData(this.type,f,this.drawType);this.data=f};h.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)};h.createVertexBuffer=function(f,d,c){return new h(f,f.ARRAY_BUFFER,d,c)};h.createIndexBuffer=function(f,d,c){return new h(f,f.ELEMENT_ARRAY_BUFFER,d,c)};h.create=function(f,d,c,b){return new h(f,d,c,b)};h.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};
k.exports=h},{}],7:[function(a,k,g){var l=a("./GLTexture"),h=function(f,d,c){this.gl=f;this.framebuffer=f.createFramebuffer();this.texture=this.stencil=null;this.width=d||100;this.height=c||100};h.prototype.enableTexture=function(f){var d=this.gl;this.texture=f||new l(d);this.texture.bind();this.bind();d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,this.texture.texture,0)};h.prototype.enableStencil=function(){if(!this.stencil){var f=this.gl;this.stencil=f.createRenderbuffer();
f.bindRenderbuffer(f.RENDERBUFFER,this.stencil);f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,this.stencil);f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,this.width,this.height)}};h.prototype.clear=function(f,d,c,b){this.bind();var e=this.gl;e.clearColor(f,d,c,b);e.clear(e.COLOR_BUFFER_BIT)};h.prototype.bind=function(){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer)};h.prototype.unbind=function(){var f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,
null)};h.prototype.resize=function(f,d){var c=this.gl;this.width=f;this.height=d;this.texture&&this.texture.uploadData(null,f,d);this.stencil&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencil),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,f,d))};h.prototype.destroy=function(){var f=this.gl;this.texture&&this.texture.destroy();f.deleteFramebuffer(this.framebuffer);this.texture=this.stencil=this.gl=null};h.createRGBA=function(f,d,c,b){b=l.fromData(f,null,d,c);b.enableNearestScaling();b.enableWrapClamp();
f=new h(f,d,c);f.enableTexture(b);f.unbind();return f};h.createFloat32=function(f,d,c,b){b=new l.fromData(f,b,d,c);b.enableNearestScaling();b.enableWrapClamp();f=new h(f,d,c);f.enableTexture(b);f.unbind();return f};k.exports=h},{"./GLTexture":9}],8:[function(a,k,g){var l=a("./shader/compileProgram"),h=a("./shader/extractAttributes"),f=a("./shader/extractUniforms"),d=a("./shader/generateUniformAccessObject");a=function(c,b,e){this.gl=c;this.program=l(c,b,e);this.attributes=h(c,this.program);b=f(c,
this.program);this.uniforms=d(c,b)};a.prototype.bind=function(){this.gl.useProgram(this.program)};a.prototype.destroy=function(){};k.exports=a},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18}],9:[function(a,k,g){var l=function(f,d,c,b,e){this.gl=f;this.texture=f.createTexture();this.premultiplyAlpha=this.mipmap=!1;this.width=d||-1;this.height=c||-1;this.format=b||f.RGBA;this.type=e||f.UNSIGNED_BYTE};l.prototype.upload=
function(f){this.bind();var d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var c=f.videoWidth||f.width,b=f.videoHeight||f.height;b!==this.height||c!==this.width?d.texImage2D(d.TEXTURE_2D,0,this.format,this.format,this.type,f):d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.format,this.type,f);this.width=c;this.height=b};var h=!1;l.prototype.uploadData=function(f,d,c){this.bind();var b=this.gl;if(f instanceof Float32Array){if(!h)if(b.getExtension("OES_texture_float"))h=!0;
else throw Error("floating point textures not available");this.type=b.FLOAT}else this.type=b.UNSIGNED_BYTE;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);d!==this.width||c!==this.height?b.texImage2D(b.TEXTURE_2D,0,this.format,d,c,0,this.format,this.type,f||null):b.texSubImage2D(b.TEXTURE_2D,0,0,0,d,c,this.format,this.type,f||null);this.width=d;this.height=c};l.prototype.bind=function(f){var d=this.gl;void 0!==f&&d.activeTexture(d.TEXTURE0+f);d.bindTexture(d.TEXTURE_2D,this.texture)};
l.prototype.unbind=function(){var f=this.gl;f.bindTexture(f.TEXTURE_2D,null)};l.prototype.minFilter=function(f){var d=this.gl;this.bind();this.mipmap?d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,f?d.LINEAR_MIPMAP_LINEAR:d.NEAREST_MIPMAP_NEAREST):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,f?d.LINEAR:d.NEAREST)};l.prototype.magFilter=function(f){var d=this.gl;this.bind();d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,f?d.LINEAR:d.NEAREST)};l.prototype.enableMipmap=function(){var f=this.gl;
this.bind();this.mipmap=!0;f.generateMipmap(f.TEXTURE_2D)};l.prototype.enableLinearScaling=function(){this.minFilter(!0);this.magFilter(!0)};l.prototype.enableNearestScaling=function(){this.minFilter(!1);this.magFilter(!1)};l.prototype.enableWrapClamp=function(){var f=this.gl;this.bind();f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE)};l.prototype.enableWrapRepeat=function(){var f=this.gl;this.bind();f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_WRAP_S,f.REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)};l.prototype.enableWrapMirrorRepeat=function(){var f=this.gl;this.bind();f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.MIRRORED_REPEAT);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.MIRRORED_REPEAT)};l.prototype.destroy=function(){this.gl.deleteTexture(this.texture)};l.fromSource=function(f,d,c){f=new l(f);f.premultiplyAlpha=c||!1;f.upload(d);return f};l.fromData=function(f,d,c,b){f=new l(f);f.uploadData(d,c,b);
return f};k.exports=l},{}],10:[function(a,k,g){function l(f,d){this.nativeVaoExtension=null;l.FORCE_NATIVE||(this.nativeVaoExtension=f.getExtension("OES_vertex_array_object")||f.getExtension("MOZ_OES_vertex_array_object")||f.getExtension("WEBKIT_OES_vertex_array_object"));this.nativeState=d;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var c=f.getParameter(f.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(c),attribState:Array(c)}}this.gl=f;this.attributes=
[];this.indexBuffer=null;this.dirty=!1}var h=a("./setVertexAttribArrays");l.prototype.constructor=l;k.exports=l;l.FORCE_NATIVE=!1;l.prototype.bind=function(){this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate();return this};l.prototype.unbind=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null);return this};l.prototype.activate=function(){for(var f=this.gl,d=null,c=0;c<this.attributes.length;c++){var b=
this.attributes[c];d!==b.buffer&&(b.buffer.bind(),d=b.buffer);f.vertexAttribPointer(b.attribute.location,b.attribute.size,b.type||f.FLOAT,b.normalized||!1,b.stride||0,b.start||0)}h(f,this.attributes,this.nativeState);this.indexBuffer.bind();return this};l.prototype.addAttribute=function(f,d,c,b,e,n){this.attributes.push({buffer:f,attribute:d,location:d.location,type:c||this.gl.FLOAT,normalized:b||!1,stride:e||0,start:n||0});this.dirty=!0;return this};l.prototype.addIndex=function(f){this.indexBuffer=
f;this.dirty=!0;return this};l.prototype.clear=function(){this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);this.attributes.length=0;this.indexBuffer=null;return this};l.prototype.draw=function(f,d,c){var b=this.gl;b.drawElements(f,d,b.UNSIGNED_SHORT,c||0);return this};l.prototype.destroy=function(){this.nativeState=this.attributes=this.indexBuffer=this.gl=null;this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);this.nativeVao=this.nativeVaoExtension=
null}},{"./setVertexAttribArrays":13}],11:[function(a,k,g){k.exports=function(a,h){var f=a.getContext("webgl",h)||a.getContext("experimental-webgl",h);if(!f)throw Error("This browser does not support webGL. Try using the canvas renderer");return f}},{}],12:[function(a,k,g){a={createContext:a("./createContext"),setVertexAttribArrays:a("./setVertexAttribArrays"),GLBuffer:a("./GLBuffer"),GLFramebuffer:a("./GLFramebuffer"),GLShader:a("./GLShader"),GLTexture:a("./GLTexture"),VertexArrayObject:a("./VertexArrayObject"),
shader:a("./shader")};"undefined"!==typeof k&&k.exports&&(k.exports=a);"undefined"!==typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=a)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(a,k,g){k.exports=function(a,h,f){var d;if(f){var c=f.tempAttribState,b=f.attribState;for(d=0;d<c.length;d++)c[d]=!1;for(d=0;d<h.length;d++)c[h[d].attribute.location]=!0;for(d=0;d<
b.length;d++)b[d]!==c[d]&&(b[d]=c[d],f.attribState[d]?a.enableVertexAttribArray(d):a.disableVertexAttribArray(d))}else for(d=0;d<h.length;d++)a.enableVertexAttribArray(h[d].attribute.location)}},{}],14:[function(a,k,g){var l=function(a,f,d){f=a.createShader(f);a.shaderSource(f,d);a.compileShader(f);return a.getShaderParameter(f,a.COMPILE_STATUS)?f:(console.log(a.getShaderInfoLog(f)),null)};k.exports=function(a,f,d){f=l(a,a.VERTEX_SHADER,f);d=l(a,a.FRAGMENT_SHADER,d);var c=a.createProgram();a.attachShader(c,
f);a.attachShader(c,d);a.linkProgram(c);a.getProgramParameter(c,a.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(c,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(c)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(c)),a.deleteProgram(c),c=null);a.deleteShader(f);a.deleteShader(d);return c}},{}],15:[function(a,k,g){var l=function(a){a=Array(a);for(var f=
0;f<a.length;f++)a[f]=!1;return a};k.exports=function(a,f){switch(a){case "float":return 0;case "vec2":return new Float32Array(2*f);case "vec3":return new Float32Array(3*f);case "vec4":return new Float32Array(4*f);case "int":case "sampler2D":return 0;case "ivec2":return new Int32Array(2*f);case "ivec3":return new Int32Array(3*f);case "ivec4":return new Int32Array(4*f);case "bool":return!1;case "bvec2":return l(2*f);case "bvec3":return l(3*f);case "bvec4":return l(4*f);case "mat2":return new Float32Array([1,
0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],16:[function(a,k,g){var l=a("./mapType"),h=a("./mapSize"),f=function(d,c,b,e){gl.vertexAttribPointer(this.location,this.size,d||gl.FLOAT,c||!1,b||0,e||0)};k.exports=function(d,c){for(var b={},e=d.getProgramParameter(c,d.ACTIVE_ATTRIBUTES),a=0;a<e;a++){var p=d.getActiveAttrib(c,a),m=l(d,p.type);b[p.name]={type:m,size:h(m),location:d.getAttribLocation(c,p.name),
pointer:f}}return b}},{"./mapSize":20,"./mapType":21}],17:[function(a,k,g){var l=a("./mapType"),h=a("./defaultValue");k.exports=function(f,d){for(var c={},b=f.getProgramParameter(d,f.ACTIVE_UNIFORMS),e=0;e<b;e++){var a=f.getActiveUniform(d,e),p=a.name.replace(/\[.*?\]/,""),m=l(f,a.type);c[p]={type:m,size:a.size,location:f.getUniformLocation(d,p),value:h(m,a.size)}}return c}},{"./defaultValue":15,"./mapType":21}],18:[function(a,k,g){var l=function(b){b=f.replace("%%",b);return new Function(b)},h=function(e,
f){var a=d.replace(/%%/g,e),n;(n=1===f.size?c[f.type]:b[f.type])&&(a+="\nthis.gl."+n+";");return new Function("value",a)},f="return this.data.%%.value;",d="this.data.%%.value = value;\nvar location = this.data.%%.location;",c={"float":"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])","int":"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",
ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},
b={"float":"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)","int":"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};k.exports=function(b,c){var e=
{data:{}};e.gl=b;for(var d=Object.keys(c),f=0;f<d.length;f++){for(var a=d[f],n=a.split("."),g=n[n.length-1],k=e,v=0;v<n.length-1;v++)var r=k[n[v]]||{data:{}},k=k[n[v]]=r;n=k;a=c[a];n.data[g]=a;n.gl=b;Object.defineProperty(n,g,{get:l(g),set:h(g,a)})}return e}},{}],19:[function(a,k,g){k.exports={compileProgram:a("./compileProgram"),defaultValue:a("./defaultValue"),extractAttributes:a("./extractAttributes"),extractUniforms:a("./extractUniforms"),generateUniformAccessObject:a("./generateUniformAccessObject"),
mapSize:a("./mapSize"),mapType:a("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21}],20:[function(a,k,g){var l={"float":1,vec2:2,vec3:3,vec4:4,"int":1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};k.exports=function(a){return l[a]}},{}],21:[function(a,k,g){var l=null,h={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",
INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};k.exports=function(f,d){if(!l){var c=Object.keys(h);l={};for(var b=0;b<c.length;++b){var e=c[b];l[f[e]]=h[e]}}return l[d]}},{}],22:[function(a,k,g){(function(a){function h(b,e){for(var c=0,d=b.length-1;0<=d;d--){var f=b[d];"."===f?b.splice(d,1):".."===f?(b.splice(d,1),c++):c&&(b.splice(d,1),c--)}if(e)for(;c--;c)b.unshift("..");
return b}function f(b,e){if(b.filter)return b.filter(e);for(var c=[],d=0;d<b.length;d++)e(b[d],d,b)&&c.push(b[d]);return c}var d=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;g.resolve=function(){for(var b="",e=!1,c=arguments.length-1;-1<=c&&!e;c--){var d=0<=c?arguments[c]:a.cwd();if("string"!==typeof d)throw new TypeError("Arguments to path.resolve must be strings");d&&(b=d+"/"+b,e="/"===d.charAt(0))}b=h(f(b.split("/"),function(b){return!!b}),!e).join("/");return(e?"/":"")+b||"."};
g.normalize=function(b){var e=g.isAbsolute(b),d="/"===c(b,-1);(b=h(f(b.split("/"),function(b){return!!b}),!e).join("/"))||e||(b=".");b&&d&&(b+="/");return(e?"/":"")+b};g.isAbsolute=function(b){return"/"===b.charAt(0)};g.join=function(){var b=Array.prototype.slice.call(arguments,0);return g.normalize(f(b,function(b,c){if("string"!==typeof b)throw new TypeError("Arguments to path.join must be strings");return b}).join("/"))};g.relative=function(b,e){function c(b){for(var e=0;e<b.length&&""===b[e];e++);
for(var c=b.length-1;0<=c&&""===b[c];c--);return e>c?[]:b.slice(e,c-e+1)}b=g.resolve(b).substr(1);e=g.resolve(e).substr(1);for(var d=c(b.split("/")),f=c(e.split("/")),a=Math.min(d.length,f.length),h=a,l=0;l<a;l++)if(d[l]!==f[l]){h=l;break}a=[];for(l=h;l<d.length;l++)a.push("..");a=a.concat(f.slice(h));return a.join("/")};g.sep="/";g.delimiter=":";g.dirname=function(b){var e=d.exec(b).slice(1);b=e[0];e=e[1];if(!b&&!e)return".";e&&(e=e.substr(0,e.length-1));return b+e};g.basename=function(b,e){var c=
d.exec(b).slice(1)[2];e&&c.substr(-1*e.length)===e&&(c=c.substr(0,c.length-e.length));return c};g.extname=function(b){return d.exec(b).slice(1)[3]};var c="b"==="ab".substr(-1)?function(b,e,c){return b.substr(e,c)}:function(b,e,c){0>e&&(e=b.length+e);return b.substr(e,c)}}).call(this,a("_process"))},{_process:23}],23:[function(a,k,g){function l(){throw Error("setTimeout has not been defined");}function h(){throw Error("clearTimeout has not been defined");}function f(b){if(p===setTimeout)return setTimeout(b,
0);if((p===l||!p)&&setTimeout)return p=setTimeout,setTimeout(b,0);try{return p(b,0)}catch(v){try{return p.call(null,b,0)}catch(r){return p.call(this,b,0)}}}function d(b){if(m===clearTimeout)return clearTimeout(b);if((m===h||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(b);try{return m(b)}catch(v){try{return m.call(null,b)}catch(r){return m.call(this,b)}}}function c(){A&&B&&(A=!1,B.length?q=B.concat(q):w=-1,q.length&&b())}function b(){if(!A){var b=f(c);A=!0;for(var e=q.length;e;){B=q;for(q=
[];++w<e;)B&&B[w].run();w=-1;e=q.length}B=null;A=!1;d(b)}}function e(b,e){this.fun=b;this.array=e}function n(){}a=k.exports={};var p,m;try{p="function"===typeof setTimeout?setTimeout:l}catch(t){p=l}try{m="function"===typeof clearTimeout?clearTimeout:h}catch(t){m=h}var q=[],A=!1,B,w=-1;a.nextTick=function(c){var d=Array(arguments.length-1);if(1<arguments.length)for(var a=1;a<arguments.length;a++)d[a-1]=arguments[a];q.push(new e(c,d));1!==q.length||A||f(b)};e.prototype.run=function(){this.fun.apply(null,
this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=n;a.addListener=n;a.once=n;a.off=n;a.removeListener=n;a.removeAllListeners=n;a.emit=n;a.binding=function(b){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(b){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],24:[function(a,k,g){(function(a){(function(h){function f(b){throw new RangeError(x[b]);}function d(b,e){for(var c=b.length,
d=[];c--;)d[c]=e(b[c]);return d}function c(b,e){var c=b.split("@"),f="";1<c.length&&(f=c[0]+"@",b=c[1]);b=b.replace(r,".");c=b.split(".");c=d(c,e).join(".");return f+c}function b(b){for(var e=[],c=0,d=b.length,f,a;c<d;)f=b.charCodeAt(c++),55296<=f&&56319>=f&&c<d?(a=b.charCodeAt(c++),56320==(a&64512)?e.push(((f&1023)<<10)+(a&1023)+65536):(e.push(f),c--)):e.push(f);return e}function e(b){return d(b,function(b){var e="";65535<b&&(b-=65536,e+=C(b>>>10&1023|55296),b=56320|b&1023);return e+=C(b)}).join("")}
function n(b,e){return b+22+75*(26>b)-((0!=e)<<5)}function p(b,e,c){var d=0;b=c?y(b/700):b>>1;for(b+=y(b/e);455<b;d+=36)b=y(b/35);return y(d+36*b/(b+38))}function m(b){var c=[],d=b.length,a,n=0,m=128,q=72,h,A,g,l,k;h=b.lastIndexOf("-");0>h&&(h=0);for(A=0;A<h;++A)128<=b.charCodeAt(A)&&f("not-basic"),c.push(b.charCodeAt(A));for(h=0<h?h+1:0;h<d;){A=n;a=1;for(g=36;;g+=36){h>=d&&f("invalid-input");l=b.charCodeAt(h++);l=10>l-48?l-22:26>l-65?l-65:26>l-97?l-97:36;(36<=l||l>y((2147483647-n)/a))&&f("overflow");
n+=l*a;k=g<=q?1:g>=q+26?26:g-q;if(l<k)break;l=36-k;a>y(2147483647/l)&&f("overflow");a*=l}a=c.length+1;q=p(n-A,a,0==A);y(n/a)>2147483647-m&&f("overflow");m+=y(n/a);n%=a;c.splice(n++,0,m)}return e(c)}function q(e){var c,d,a,m,q,h,A,g,l,k=[],r,B,w;e=b(e);r=e.length;c=128;d=0;q=72;for(h=0;h<r;++h)l=e[h],128>l&&k.push(C(l));for((a=m=k.length)&&k.push("-");a<r;){A=2147483647;for(h=0;h<r;++h)l=e[h],l>=c&&l<A&&(A=l);B=a+1;A-c>y((2147483647-d)/B)&&f("overflow");d+=(A-c)*B;c=A;for(h=0;h<r;++h)if(l=e[h],l<c&&
2147483647<++d&&f("overflow"),l==c){g=d;for(A=36;;A+=36){l=A<=q?1:A>=q+26?26:A-q;if(g<l)break;w=g-l;g=36-l;k.push(C(n(l+w%g,0)));g=y(w/g)}k.push(C(n(g,0)));q=p(d,B,a==m);d=0;++a}++d;++c}return k.join("")}var A="object"==typeof g&&g&&!g.nodeType&&g,l="object"==typeof k&&k&&!k.nodeType&&k,w="object"==typeof a&&a;if(w.global===w||w.window===w||w.self===w)h=w;var t=/^xn--/,v=/[^\x20-\x7E]/,r=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)",
"invalid-input":"Invalid input"},y=Math.floor,C=String.fromCharCode,z,w={version:"1.4.1",ucs2:{decode:b,encode:e},decode:m,encode:q,toASCII:function(b){return c(b,function(b){return v.test(b)?"xn--"+q(b):b})},toUnicode:function(b){return c(b,function(b){return t.test(b)?m(b.slice(4).toLowerCase()):b})}};if(A&&l)if(k.exports==A)l.exports=w;else for(z in w)w.hasOwnProperty(z)&&(A[z]=w[z]);else h.punycode=w})(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{}],25:[function(a,k,g){k.exports=function(a,f,d,c){d=d||"=";var b={};if("string"!==typeof a||0===a.length)return b;var e=/\+/g;a=a.split(f||"&");f=1E3;c&&"number"===typeof c.maxKeys&&(f=c.maxKeys);c=a.length;0<f&&c>f&&(c=f);for(f=0;f<c;++f){var n=a[f].replace(e,"%20"),p=n.indexOf(d),m;0<=p?(m=n.substr(0,p),n=n.substr(p+1)):(m=n,n="");m=decodeURIComponent(m);n=decodeURIComponent(n);Object.prototype.hasOwnProperty.call(b,m)?l(b[m])?b[m].push(n):b[m]=[b[m],n]:b[m]=n}return b};
var l=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],26:[function(a,k,g){function l(c,b){if(c.map)return c.map(b);for(var e=[],d=0;d<c.length;d++)e.push(b(c[d],d));return e}var h=function(c){switch(typeof c){case "string":return c;case "boolean":return c?"true":"false";case "number":return isFinite(c)?c:"";default:return""}};k.exports=function(c,b,e,a){b=b||"&";e=e||"=";null===c&&(c=void 0);return"object"===typeof c?l(d(c),function(d){var a=encodeURIComponent(h(d))+
e;return f(c[d])?l(c[d],function(b){return a+encodeURIComponent(h(b))}).join(b):a+encodeURIComponent(h(c[d]))}).join(b):a?encodeURIComponent(h(a))+e+encodeURIComponent(h(c)):""};var f=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},d=Object.keys||function(c){var b=[],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&b.push(e);return b}},{}],27:[function(a,k,g){g.decode=g.parse=a("./decode");g.encode=g.stringify=a("./encode")},{"./decode":25,"./encode":26}],
28:[function(a,k,g){function l(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function h(b,e,c){if(b&&d.isObject(b)&&b instanceof l)return b;var f=new l;f.parse(b,e,c);return f}var f=a("punycode"),d=a("./util");g.parse=h;g.resolve=function(b,e){return h(b,!1,!0).resolve(e)};g.resolveObject=function(b,e){return b?h(b,!1,!0).resolveObject(e):e};g.format=function(b){d.isString(b)&&(b=h(b));return b instanceof
l?b.format():l.prototype.format.call(b)};g.Url=l;var c=/^([a-z0-9.+-]+:)/i,b=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;k="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var n=["'"].concat(k),p=["%","/","?",";","#"].concat(n),m=["/","?","#"],q=/^[+a-z0-9A-Z_-]{0,63}$/,A=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,B={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},t={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=a("querystring");
l.prototype.parse=function(b,a,h){if(!d.isString(b))throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var g=b.indexOf("?"),g=-1!==g&&g<b.indexOf("#")?"?":"#";b=b.split(g);b[0]=b[0].replace(/\\/g,"/");b=b.join(g);g=b.trim();if(!h&&1===b.split("#").length&&(b=e.exec(g)))return this.href=this.path=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=a?v.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this;if(b=c.exec(g)){b=b[0];var l=b.toLowerCase();
this.protocol=l;g=g.substr(b.length)}if(h||b||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===g.substr(0,2);!k||b&&w[b]||(g=g.substr(2),this.slashes=!0)}if(!w[b]&&(k||b&&!t[b])){k=-1;for(h=0;h<m.length;h++)b=g.indexOf(m[h]),-1!==b&&(-1===k||b<k)&&(k=b);k=-1===k?g.lastIndexOf("@"):g.lastIndexOf("@",k);-1!==k&&(h=g.slice(0,k),g=g.slice(k+1),this.auth=decodeURIComponent(h));k=-1;for(h=0;h<p.length;h++)b=g.indexOf(p[h]),-1!==b&&(-1===k||b<k)&&(k=b);-1===k&&(k=g.length);this.host=g.slice(0,k);g=g.slice(k);
this.parseHost();this.hostname=this.hostname||"";k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var r=this.hostname.split(/\./);h=0;for(b=r.length;h<b;h++){var x=r[h];if(x&&!x.match(q)){for(var y="",G=0,M=x.length;G<M;G++)y=127<x.charCodeAt(G)?y+"x":y+x[G];if(!y.match(q)){b=r.slice(0,h);h=r.slice(h+1);if(x=x.match(A))b.push(x[1]),h.unshift(x[2]);h.length&&(g="/"+h.join(".")+g);this.hostname=b.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
k||(this.hostname=f.toASCII(this.hostname));h=this.port?":"+this.port:"";this.host=(this.hostname||"")+h;this.href+=this.host;k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!B[l])for(h=0,b=n.length;h<b;h++)k=n[h],-1!==g.indexOf(k)&&(x=encodeURIComponent(k),x===k&&(x=escape(k)),g=g.split(k).join(x));h=g.indexOf("#");-1!==h&&(this.hash=g.substr(h),g=g.slice(0,h));h=g.indexOf("?");-1!==h?(this.search=g.substr(h),this.query=g.substr(h+1),a&&(this.query=v.parse(this.query)),
g=g.slice(0,h)):a&&(this.search="",this.query={});g&&(this.pathname=g);t[l]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)h=this.pathname||"",this.path=h+(this.search||"");this.href=this.format();return this};l.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var e=this.protocol||"",c=this.pathname||"",f=this.hash||"",a=!1,n="";this.host?a=b+this.host:this.hostname&&(a=b+(-1===this.hostname.indexOf(":")?
this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port));this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(n=v.stringify(this.query));b=this.search||n&&"?"+n||"";e&&":"!==e.substr(-1)&&(e+=":");this.slashes||(!e||t[e])&&!1!==a?(a="//"+(a||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):a||(a="");f&&"#"!==f.charAt(0)&&(f="#"+f);b&&"?"!==b.charAt(0)&&(b="?"+b);c=c.replace(/[?#]/g,function(b){return encodeURIComponent(b)});b=b.replace("#","%23");return e+a+c+b+f};l.prototype.resolve=
function(b){return this.resolveObject(h(b,!1,!0)).format()};l.prototype.resolveObject=function(b){if(d.isString(b)){var e=new l;e.parse(b,!1,!0);b=e}for(var e=new l,c=Object.keys(this),f=0;f<c.length;f++){var a=c[f];e[a]=this[a]}e.hash=b.hash;if(""===b.href)return e.href=e.format(),e;if(b.slashes&&!b.protocol){c=Object.keys(b);for(f=0;f<c.length;f++)a=c[f],"protocol"!==a&&(e[a]=b[a]);t[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/");e.href=e.format();return e}if(b.protocol&&b.protocol!==
e.protocol){if(!t[b.protocol]){c=Object.keys(b);for(f=0;f<c.length;f++)a=c[f],e[a]=b[a];e.href=e.format();return e}e.protocol=b.protocol;if(b.host||w[b.protocol])e.pathname=b.pathname;else{for(var n=(b.pathname||"").split("/");n.length&&!(b.host=n.shift()););b.host||(b.host="");b.hostname||(b.hostname="");""!==n[0]&&n.unshift("");2>n.length&&n.unshift("");e.pathname=n.join("/")}e.search=b.search;e.query=b.query;e.host=b.host||"";e.auth=b.auth;e.hostname=b.hostname||b.host;e.port=b.port;if(e.pathname||
e.search)e.path=(e.pathname||"")+(e.search||"");e.slashes=e.slashes||b.slashes;e.href=e.format();return e}var c=e.pathname&&"/"===e.pathname.charAt(0),m=b.host||b.pathname&&"/"===b.pathname.charAt(0),p=c=m||c||e.host&&b.pathname,f=e.pathname&&e.pathname.split("/")||[],n=b.pathname&&b.pathname.split("/")||[];if(a=e.protocol&&!t[e.protocol])e.hostname="",e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(""===n[0]?n[0]=b.host:n.unshift(b.host)),
b.host=null),c=c&&(""===n[0]||""===f[0]);if(m)e.host=b.host||""===b.host?b.host:e.host,e.hostname=b.hostname||""===b.hostname?b.hostname:e.hostname,e.search=b.search,e.query=b.query,f=n;else if(n.length)f||(f=[]),f.pop(),f=f.concat(n),e.search=b.search,e.query=b.query;else if(!d.isNullOrUndefined(b.search))return a&&(e.hostname=e.host=f.shift(),a=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=a.shift(),e.host=e.hostname=a.shift()),e.search=b.search,e.query=b.query,d.isNull(e.pathname)&&
d.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!f.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var m=f.slice(-1)[0],n=(e.host||b.host||1<f.length)&&("."===m||".."===m)||""===m,q=0,h=f.length;0<=h;h--)m=f[h],"."===m?f.splice(h,1):".."===m?(f.splice(h,1),q++):q&&(f.splice(h,1),q--);if(!c&&!p)for(;q--;q)f.unshift("..");!c||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift("");n&&"/"!==f.join("/").substr(-1)&&
f.push("");p=""===f[0]||f[0]&&"/"===f[0].charAt(0);a&&(e.hostname=e.host=p?"":f.length?f.shift():"",a=e.host&&0<e.host.indexOf("@")?e.host.split("@"):!1)&&(e.auth=a.shift(),e.host=e.hostname=a.shift());(c=c||e.host&&f.length)&&!p&&f.unshift("");f.length?e.pathname=f.join("/"):(e.pathname=null,e.path=null);d.isNull(e.pathname)&&d.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:""));e.auth=b.auth||e.auth;e.slashes=e.slashes||b.slashes;e.href=e.format();return e};l.prototype.parseHost=
function(){var e=this.host,c=b.exec(e);c&&(c=c[0],":"!==c&&(this.port=c.substr(1)),e=e.substr(0,e.length-c.length));e&&(this.hostname=e)}},{"./util":29,punycode:24,querystring:27}],29:[function(a,k,g){k.exports={isString:function(a){return"string"===typeof a},isObject:function(a){return"object"===typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},{}],30:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}g.__esModule=!0;var h=
"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};k=a("mini-signals");var f=l(k);k=a("parse-uri");var d=l(k),c=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(e[c]=b[c]);e["default"]=b;return e}(a("./async"));a=a("./Resource");var b=l(a),e=/(#[\w-]+)?$/;a=function(){function a(){var b=
this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.baseUrl=e;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(e,c){return b._loadResource(e,c)};this._queue=c.queue(this._boundLoadResource,d);this._queue.pause();this.resources=
{};this.onProgress=new f["default"];this.onError=new f["default"];this.onLoad=new f["default"];this.onStart=new f["default"];this.onComplete=new f["default"]}a.prototype.add=function(e,c,d,f){if(Array.isArray(e)){for(c=0;c<e.length;++c)this.add(e[c]);return this}"object"===("undefined"===typeof e?"undefined":h(e))&&(f=c||e.callback||e.onComplete,d=e,c=e.url,e=e.name||e.key||e.url);"string"!==typeof c&&(f=d,d=c,c=e);if("string"!==typeof c)throw Error("No url passed to add resource to loader.");"function"===
typeof d&&(f=d,d=null);if(this.loading&&(!d||!d.parentResource))throw Error("Cannot add resources while the loader is running.");if(this.resources[e])throw Error('Resource named "'+e+'" already exists.');c=this._prepareUrl(c);this.resources[e]=new b["default"](e,c,d);if("function"===typeof f)this.resources[e].onAfterMiddleware.once(f);if(this.loading){d=d.parentResource;c=[];for(f=0;f<d.children.length;++f)d.children[f].isComplete||c.push(d.children[f]);f=d.progressChunk*(c.length+1)/(c.length+2);
d.children.push(this.resources[e]);d.progressChunk=f;for(d=0;d<c.length;++d)c[d].progressChunk=f}this._queue.push(this.resources[e]);return this};a.prototype.pre=function(b){this._beforeMiddleware.push(b);return this};a.prototype.use=function(b){this._afterMiddleware.push(b);return this};a.prototype.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();this._queue.pause();for(var b in this.resources){var e=this.resources[b];e._onLoadBinding&&e._onLoadBinding.detach();e.isLoading&&e.abort()}this.resources=
{};return this};a.prototype.load=function(b){if("function"===typeof b)this.onComplete.once(b);if(this.loading)return this;b=100/this._queue._tasks.length;for(var e=0;e<this._queue._tasks.length;++e)this._queue._tasks[e].data.progressChunk=b;this.loading=!0;this.onStart.dispatch(this);this._queue.resume();return this};a.prototype._prepareUrl=function(b){var c=(0,d["default"])(b,{strictMode:!0});b=c.protocol||!c.path||0===b.indexOf("//")?b:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-
1&&"/"!==b.charAt(0)?this.baseUrl+"/"+b:this.baseUrl+b;this.defaultQueryString&&(c=e.exec(b)[0],b=b.substr(0,b.length-c.length),b=-1!==b.indexOf("?")?b+("&"+this.defaultQueryString):b+("?"+this.defaultQueryString),b+=c);return b};a.prototype._loadResource=function(b,e){var d=this;b._dequeue=e;c.eachSeries(this._beforeMiddleware,function(e,c){e.call(d,b,function(){c(b.isComplete?{}:null)})},function(){b.isComplete?d._onLoad(b):(b._onLoadBinding=b.onComplete.once(d._onLoad,d),b.load())})};a.prototype._onComplete=
function(){this.loading=!1;this.onComplete.dispatch(this,this.resources)};a.prototype._onLoad=function(b){var e=this;b._onLoadBinding=null;b._dequeue();this._resourcesParsing.push(b);c.eachSeries(this._afterMiddleware,function(c,d){c.call(e,b,d)},function(){b.onAfterMiddleware.dispatch(b);e.progress+=b.progressChunk;e.onProgress.dispatch(e,b);b.error?e.onError.dispatch(b.error,e,b):e.onLoad.dispatch(e,b);e._resourcesParsing.splice(e._resourcesParsing.indexOf(b),1);e._queue.idle()&&0===e._resourcesParsing.length&&
(e.progress=100,e._onComplete())})};return a}();g["default"]=a},{"./Resource":31,"./async":32,"mini-signals":36,"parse-uri":37}],31:[function(a,k,g){function l(){}function h(b,e,c){e&&0===e.indexOf(".")&&(e=e.substring(1));e&&(b[e]=c)}function f(b){return b.toString().replace("object ","")}g.__esModule=!0;var d=function(){function b(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(e,
c,d){c&&b(e.prototype,c);d&&b(e,d);return e}}(),c=(k=a("parse-uri"))&&k.__esModule?k:{"default":k},b=(a=a("mini-signals"))&&a.__esModule?a:{"default":a},e=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),n=null;a=function(){function a(e,c,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");if("string"!==typeof e||"string"!==typeof c)throw Error("Both name and url are required for constructing a resource.");d=d||{};this._flags=0;this._setFlag(a.STATUS_FLAGS.DATA_URL,
0===c.indexOf("data:"));this.name=e;this.url=c;this.data=null;this.crossOrigin=!0===d.crossOrigin?"anonymous":d.crossOrigin;this.loadType=d.loadType||this._determineLoadType();this.xhrType=d.xhrType;this.metadata=d.metadata||{};this.xhr=this.error=null;this.children=[];this.type=a.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=l;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=
this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new b["default"];this.onProgress=new b["default"];this.onComplete=new b["default"];this.onAfterMiddleware=new b["default"]}a.setExtensionLoadType=function(b,e){h(a._loadTypeMap,b,e)};a.setExtensionXhrType=function(b,e){h(a._xhrTypeMap,b,e)};a.prototype.complete=function(){this.data&&this.data.removeEventListener&&
(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",
this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null));if(this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(a.STATUS_FLAGS.COMPLETE,!0);this._setFlag(a.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};a.prototype.abort=function(b){if(!this.error){this.error=Error(b);if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=
a.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}};a.prototype.load=function(b){var c=this;if(!this.isLoading)if(this.isComplete)b&&setTimeout(function(){return b(c)},1);else{if(b)this.onComplete.once(b);this._setFlag(a.STATUS_FLAGS.LOADING,!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=this._determineCrossOrigin(this.url);switch(this.loadType){case a.LOAD_TYPE.IMAGE:this.type=a.TYPE.IMAGE;
this._loadElement("image");break;case a.LOAD_TYPE.AUDIO:this.type=a.TYPE.AUDIO;this._loadSourceElement("audio");break;case a.LOAD_TYPE.VIDEO:this.type=a.TYPE.VIDEO;this._loadSourceElement("video");break;default:e&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};a.prototype._hasFlag=function(b){return!!(this._flags&b)};a.prototype._setFlag=function(b,e){this._flags=e?this._flags|b:this._flags&~b};a.prototype._loadElement=function(b){this.data=this.metadata.loadElement?this.metadata.loadElement:
"image"===b&&"undefined"!==typeof window.Image?new Image:document.createElement(b);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1)};a.prototype._loadSourceElement=function(b){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===b&&"undefined"!==
typeof window.Audio?new Audio:document.createElement(b);if(null===this.data)this.abort("Unsupported element: "+b);else{if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(b,this.url[e]));else this.data.appendChild(this._createSource(b,this.url));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",
this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load()}};a.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XMLHttpRequest;b.open("GET",this.url,!0);b.responseType=this.xhrType===a.XHR_RESPONSE_TYPE.JSON||this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT?a.XHR_RESPONSE_TYPE.TEXT:this.xhrType;b.addEventListener("error",
this._boundXhrOnError,!1);b.addEventListener("abort",this._boundXhrOnAbort,!1);b.addEventListener("progress",this._boundOnProgress,!1);b.addEventListener("load",this._boundXhrOnLoad,!1);b.send()};a.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var b=this.xhr=new XDomainRequest;b.timeout=5E3;b.onerror=this._boundXhrOnError;b.ontimeout=this._boundXdrOnTimeout;b.onprogress=this._boundOnProgress;b.onload=this._boundXhrOnLoad;b.open("GET",this.url,
!0);setTimeout(function(){return b.send()},1)};a.prototype._createSource=function(b,e,c){c||(c=b+"/"+e.substr(e.lastIndexOf(".")+1));b=document.createElement("source");b.src=e;b.type=c;return b};a.prototype._onError=function(b){this.abort("Failed to load element using: "+b.target.nodeName)};a.prototype._onProgress=function(b){b&&b.lengthComputable&&this.onProgress.dispatch(this,b.loaded/b.total)};a.prototype._xhrOnError=function(){var b=this.xhr;this.abort(f(b)+" Request failed. Status: "+b.status+
', text: "'+b.statusText+'"')};a.prototype._xhrOnAbort=function(){this.abort(f(this.xhr)+" Request was aborted by the user.")};a.prototype._xdrOnTimeout=function(){this.abort(f(this.xhr)+" Request timed out.")};a.prototype._xhrOnLoad=function(){var b=this.xhr,e="undefined"===typeof b.status?b.status:200;if(200===e||204===e||0===e&&0<b.responseText.length){if(this.xhrType===a.XHR_RESPONSE_TYPE.TEXT)this.data=b.responseText,this.type=a.TYPE.TEXT;else if(this.xhrType===a.XHR_RESPONSE_TYPE.JSON)try{this.data=
JSON.parse(b.responseText),this.type=a.TYPE.JSON}catch(B){this.abort("Error trying to parse loaded json: "+B);return}else if(this.xhrType===a.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(b.responseText,"text/xml");else{var c=document.createElement("div");c.innerHTML=b.responseText;this.data=c}this.type=a.TYPE.XML}catch(B){this.abort("Error trying to parse loaded xml: "+B);return}else this.data=b.response||b.responseText;this.complete()}else this.abort("["+
b.status+"] "+b.statusText+": "+b.responseURL)};a.prototype._determineCrossOrigin=function(b,e){if(0===b.indexOf("data:"))return"";e=e||window.location;n||(n=document.createElement("a"));n.href=b;b=(0,c["default"])(n.href,{strictMode:!0});var d=!b.port&&""===e.port||b.port===e.port,f=b.protocol?b.protocol+":":"";return b.host===e.hostname&&d&&f===e.protocol?"":"anonymous"};a.prototype._determineXhrType=function(){return a._xhrTypeMap[this._getExtension()]||a.XHR_RESPONSE_TYPE.TEXT};a.prototype._determineLoadType=
function(){return a._loadTypeMap[this._getExtension()]||a.LOAD_TYPE.XHR};a.prototype._getExtension=function(){var b=this.url;if(this.isDataUrl)var e=b.indexOf("/"),b=b.substring(e+1,b.indexOf(";",e));else e=b.indexOf("?"),-1!==e&&(b=b.substring(0,e)),b=b.substring(b.lastIndexOf(".")+1);return b.toLowerCase()};a.prototype._getMimeFromXhrType=function(b){switch(b){case a.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case a.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case a.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";
case a.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};d(a,[{key:"isDataUrl",get:function(){return this._hasFlag(a.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(a.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(a.STATUS_FLAGS.LOADING)}}]);return a}();g["default"]=a;a.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};a.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};a.LOAD_TYPE={XHR:1,IMAGE:2,
AUDIO:3,VIDEO:4};a.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};a._loadTypeMap={gif:a.LOAD_TYPE.IMAGE,png:a.LOAD_TYPE.IMAGE,bmp:a.LOAD_TYPE.IMAGE,jpg:a.LOAD_TYPE.IMAGE,jpeg:a.LOAD_TYPE.IMAGE,tif:a.LOAD_TYPE.IMAGE,tiff:a.LOAD_TYPE.IMAGE,webp:a.LOAD_TYPE.IMAGE,tga:a.LOAD_TYPE.IMAGE,svg:a.LOAD_TYPE.IMAGE,"svg+xml":a.LOAD_TYPE.IMAGE,mp3:a.LOAD_TYPE.AUDIO,ogg:a.LOAD_TYPE.AUDIO,wav:a.LOAD_TYPE.AUDIO,mp4:a.LOAD_TYPE.VIDEO,webm:a.LOAD_TYPE.VIDEO};
a._xhrTypeMap={xhtml:a.XHR_RESPONSE_TYPE.DOCUMENT,html:a.XHR_RESPONSE_TYPE.DOCUMENT,htm:a.XHR_RESPONSE_TYPE.DOCUMENT,xml:a.XHR_RESPONSE_TYPE.DOCUMENT,tmx:a.XHR_RESPONSE_TYPE.DOCUMENT,svg:a.XHR_RESPONSE_TYPE.DOCUMENT,tsx:a.XHR_RESPONSE_TYPE.DOCUMENT,gif:a.XHR_RESPONSE_TYPE.BLOB,png:a.XHR_RESPONSE_TYPE.BLOB,bmp:a.XHR_RESPONSE_TYPE.BLOB,jpg:a.XHR_RESPONSE_TYPE.BLOB,jpeg:a.XHR_RESPONSE_TYPE.BLOB,tif:a.XHR_RESPONSE_TYPE.BLOB,tiff:a.XHR_RESPONSE_TYPE.BLOB,webp:a.XHR_RESPONSE_TYPE.BLOB,tga:a.XHR_RESPONSE_TYPE.BLOB,
json:a.XHR_RESPONSE_TYPE.JSON,text:a.XHR_RESPONSE_TYPE.TEXT,txt:a.XHR_RESPONSE_TYPE.TEXT,ttf:a.XHR_RESPONSE_TYPE.BUFFER,otf:a.XHR_RESPONSE_TYPE.BUFFER};a.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":36,"parse-uri":37}],32:[function(a,k,g){function l(){}function h(f){return function(){if(null===f)throw Error("Callback was already called.");var d=f;f=null;d.apply(this,arguments)}}g.__esModule=!0;g.eachSeries=function(f,d,c){var b=0,
e=f.length;(function p(a){a||b===e?c&&c(a):d(f[b++],p)})()};g.queue=function(f,d){function c(b,e,c){if(null!=c&&"function"!==typeof c)throw Error("task callback must be a function");a.started=!0;null==b&&a.idle()?setTimeout(function(){return a.drain()},1):(b={data:b,callback:"function"===typeof c?c:l},e?a._tasks.unshift(b):a._tasks.push(b),setTimeout(function(){return a.process()},1))}function b(b){return function(){--e;b.callback.apply(b,arguments);null!=arguments[0]&&a.error(arguments[0],b.data);
e<=a.concurrency-a.buffer&&a.unsaturated();a.idle()&&a.drain();a.process()}}if(null==d)d=1;else if(0===d)throw Error("Concurrency must not be zero");var e=0,a={_tasks:[],concurrency:d,saturated:l,unsaturated:l,buffer:d/4,empty:l,drain:l,error:l,started:!1,paused:!1,push:function(b,e){c(b,!1,e)},kill:function(){e=0;a.drain=l;a.started=!1;a._tasks=[]},unshift:function(b,e){c(b,!0,e)},process:function(){for(;!a.paused&&e<a.concurrency&&a._tasks.length;){var c=a._tasks.shift();0===a._tasks.length&&a.empty();
e+=1;e===a.concurrency&&a.saturated();f(c.data,h(b(c)))}},length:function(){return a._tasks.length},running:function(){return e},idle:function(){return 0===a._tasks.length+e},pause:function(){!0!==a.paused&&(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var b=1;b<=a.concurrency;b++)a.process()}}};return a}},{}],33:[function(a,k,g){g.__esModule=!0;g.encodeBinary=function(a){for(var f="",d=0;d<a.length;){for(var c=[0,0,0],b=[0,0,0,0],e=0;e<c.length;++e)c[e]=d<a.length?a.charCodeAt(d++)&
255:0;b[0]=c[0]>>2;b[1]=(c[0]&3)<<4|c[1]>>4;b[2]=(c[1]&15)<<2|c[2]>>6;b[3]=c[2]&63;switch(d-(a.length-1)){case 2:b[3]=64;b[2]=64;break;case 1:b[3]=64}for(c=0;c<b.length;++c)f+=l.charAt(b[c])}return f};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],34:[function(a,k,g){function l(c){if(c&&c.__esModule)return c;var b={};if(null!=c)for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(b[e]=c[e]);b["default"]=c;return b}g.__esModule=!0;var h=a("./Loader"),h=h&&h.__esModule?
h:{"default":h},f=a("./Resource"),f=f&&f.__esModule?f:{"default":f},d=a("./async"),d=l(d);a=a("./b64");a=l(a);h["default"].Resource=f["default"];h["default"].async=d;h["default"].base64=a;k.exports=h["default"];g["default"]=h["default"]},{"./Loader":30,"./Resource":31,"./async":32,"./b64":33}],35:[function(a,k,g){g.__esModule=!0;var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&
c!==Symbol.prototype?"symbol":typeof c};g.blobMiddlewareFactory=function(){return function(c,b){if(c.data&&c.xhr&&c.xhrType===h["default"].XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof c.data){var e=c.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image")){c.data=new Image;c.data.src="data:"+e+";base64,"+f["default"].encodeBinary(c.xhr.responseText);c.type=h["default"].TYPE.IMAGE;c.data.onload=function(){c.data.onload=null;b()};return}}else if(0===c.data.type.indexOf("image")&&
(e=function(){var e=d.createObjectURL(c.data);c.blob=c.data;c.data=new Image;c.data.src=e;c.type=h["default"].TYPE.IMAGE;c.data.onload=function(){d.revokeObjectURL(e);c.data.onload=null;b()};return{v:void 0}}(),"object"===("undefined"===typeof e?"undefined":l(e))))return e.v;b()}};var h=(k=a("../../Resource"))&&k.__esModule?k:{"default":k},f=(a=a("../../b64"))&&a.__esModule?a:{"default":a},d=window.URL||window.webkitURL},{"../../Resource":31,"../../b64":33}],36:[function(a,k,g){function l(c,b){if(!(c instanceof
b))throw new TypeError("Cannot call a class as a function");}function h(c,b){c._head?(c._tail._next=b,b._prev=c._tail):c._head=b;c._tail=b;b._owner=c;return b}Object.defineProperty(g,"__esModule",{value:!0});var f=function(){function c(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,d){e&&c(b.prototype,e);d&&c(b,d);return b}}(),d=function(){function c(b,e,d){void 0===e&&(e=
!1);l(this,c);this._fn=b;this._once=e;this._thisArg=d;this._next=this._prev=this._owner=null}f(c,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return c}();a=function(){function c(){l(this,c);this._head=this._tail=void 0}f(c,[{key:"handlers",value:function(){var b=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!b;for(var e=[];b;)e.push(b),b=b._next;return e}},{key:"has",value:function(b){if(!(b instanceof d))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
return b._owner===this}},{key:"dispatch",value:function(){var b=this._head;if(!b)return!1;for(;b;)b._once&&this.detach(b),b._fn.apply(b._thisArg,arguments),b=b._next;return!0}},{key:"add",value:function(b){var e=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof b)throw Error("MiniSignal#add(): First arg must be a Function.");return h(this,new d(b,!1,e))}},{key:"once",value:function(b){var e=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==
typeof b)throw Error("MiniSignal#once(): First arg must be a Function.");return h(this,new d(b,!0,e))}},{key:"detach",value:function(b){if(!(b instanceof d))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(b._owner!==this)return this;b._prev&&(b._prev._next=b._next);b._next&&(b._next._prev=b._prev);b===this._head?(this._head=b._next,null===b._next&&(this._tail=null)):b===this._tail&&(this._tail=b._prev,this._tail._next=null);b._owner=null;return this}},{key:"detachAll",
value:function(){var b=this._head;if(!b)return this;for(this._head=this._tail=null;b;)b._owner=null,b=b._next;return this}}]);return c}();a.MiniSignalBinding=d;g["default"]=a;k.exports=g["default"]},{}],37:[function(a,k,g){k.exports=function(a,h){h=h||{};for(var f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),d={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[h.strictMode?"strict":"loose"].exec(a),c={},b=14;b--;)c[f[b]]=d[b]||"";c.queryKey={};c[f[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(b,d,f){d&&(c.queryKey[d]=f)});return c}},{}],38:[function(a,k,g){g.__esModule=!0;var l=function(f){if(f&&f.__esModule)return f;var d={};if(null!=f)for(var c in f)Object.prototype.hasOwnProperty.call(f,
c)&&(d[c]=f[c]);d["default"]=f;return d}(a("../core")),h=(k=a("ismobilejs"))&&k.__esModule?k:{"default":k};a=a("./accessibleTarget");Object.assign(l.DisplayObject.prototype,(a&&a.__esModule?a:{"default":a})["default"]);a=function(){function f(d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");!h["default"].tablet&&!h["default"].phone||navigator.isCocoonJS||this.createTouchHook();var c=document.createElement("div");c.style.width="100px";c.style.height="100px";c.style.position=
"absolute";c.style.top="0px";c.style.left="0px";c.style.zIndex=2;this.div=c;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=d;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isMobileAccessabillity=this.isActive=!1;window.addEventListener("keydown",this._onKeyDown,!1)}f.prototype.createTouchHook=function(){var d=this,c=document.createElement("button");c.style.width="1px";c.style.height="1px";c.style.position="absolute";c.style.top=
"-1000px";c.style.left="-1000px";c.style.zIndex=2;c.style.backgroundColor="#FF0000";c.title="HOOK DIV";c.addEventListener("focus",function(){d.isMobileAccessabillity=!0;d.activate();document.body.removeChild(c)});document.body.appendChild(c)};f.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&
this.renderer.view.parentNode.appendChild(this.div))};f.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};f.prototype.updateAccessibleObjects=function(d){if(d.visible){d.accessible&&d.interactive&&(d._accessibleActive||this.addChild(d),
d.renderId=this.renderId);d=d.children;for(var c=d.length-1;0<=c;c--)this.updateAccessibleObjects(d[c])}};f.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var d=this.renderer.view.getBoundingClientRect(),c=d.width/this.renderer.width,b=d.height/this.renderer.height,e=this.div;e.style.left=d.left+"px";e.style.top=d.top+"px";e.style.width=this.renderer.width+"px";e.style.height=this.renderer.height+"px";for(d=0;d<this.children.length;d++){var f=
this.children[d];if(f.renderId!==this.renderId)f._accessibleActive=!1,l.utils.removeItems(this.children,d,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,d--,0===this.children.length&&this.deactivate();else{var e=f._accessibleDiv,a=f.hitArea,m=f.worldTransform;f.hitArea?(e.style.left=(m.tx+a.x*m.a)*c+"px",e.style.top=(m.ty+a.y*m.d)*b+"px",e.style.width=a.width*m.a*c+"px",e.style.height=a.height*m.d*b+"px"):(a=f.getBounds(),this.capHitArea(a),e.style.left=
a.x*c+"px",e.style.top=a.y*b+"px",e.style.width=a.width*c+"px",e.style.height=a.height*b+"px")}}this.renderId++}};f.prototype.capHitArea=function(d){0>d.x&&(d.width+=d.x,d.x=0);0>d.y&&(d.height+=d.y,d.y=0);d.x+d.width>this.renderer.width&&(d.width=this.renderer.width-d.x);d.y+d.height>this.renderer.height&&(d.height=this.renderer.height-d.y)};f.prototype.addChild=function(d){var c=this.pool.pop();c||(c=document.createElement("button"),c.style.width="100px",c.style.height="100px",c.style.backgroundColor=
this.debug?"rgba(255,0,0,0.5)":"transparent",c.style.position="absolute",c.style.zIndex=2,c.style.borderStyle="none",c.addEventListener("click",this._onClick.bind(this)),c.addEventListener("focus",this._onFocus.bind(this)),c.addEventListener("focusout",this._onFocusOut.bind(this)));d.accessibleTitle?c.title=d.accessibleTitle:d.accessibleTitle||d.accessibleHint||(c.title="displayObject "+this.tabIndex);d.accessibleHint&&c.setAttribute("aria-label",d.accessibleHint);d._accessibleActive=!0;d._accessibleDiv=
c;c.displayObject=d;this.children.push(d);this.div.appendChild(d._accessibleDiv);d._accessibleDiv.tabIndex=d.tabIndex};f.prototype._onClick=function(d){var c=this.renderer.plugins.interaction;c.dispatchEvent(d.target.displayObject,"click",c.eventData)};f.prototype._onFocus=function(d){var c=this.renderer.plugins.interaction;c.dispatchEvent(d.target.displayObject,"mouseover",c.eventData)};f.prototype._onFocusOut=function(d){var c=this.renderer.plugins.interaction;c.dispatchEvent(d.target.displayObject,
"mouseout",c.eventData)};f.prototype._onKeyDown=function(d){9===d.keyCode&&this.activate()};f.prototype._onMouseMove=function(){this.deactivate()};f.prototype.destroy=function(){this.div=null;for(var d=0;d<this.children.length;d++)this.children[d].div=null;window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};return f}();g["default"]=a;l.WebGLRenderer.registerPlugin("accessibility",a);l.CanvasRenderer.registerPlugin("accessibility",
a)},{"../core":63,"./accessibleTarget":39,ismobilejs:4}],39:[function(a,k,g){g.__esModule=!0;g["default"]={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],40:[function(a,k,g){g.__esModule=!0;var l=a("./accessibleTarget");Object.defineProperty(g,"accessibleTarget",{enumerable:!0,get:function(){return(l&&l.__esModule?l:{"default":l})["default"]}});var h=a("./AccessibilityManager");Object.defineProperty(g,"AccessibilityManager",{enumerable:!0,
get:function(){return(h&&h.__esModule?h:{"default":h})["default"]}})},{"./AccessibilityManager":38,"./accessibleTarget":39}],41:[function(a,k,g){g.__esModule=!0;var l=function(){function c(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,d){e&&c(b.prototype,e);d&&c(b,d);return b}}(),h=a("./autoDetectRenderer"),f=(k=a("./display/Container"))&&k.__esModule?k:{"default":k},d=
(a=a("./ticker/Ticker"))&&a.__esModule?a:{"default":a};a=function(){function c(b,e,a,p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.renderer=(0,h.autoDetectRenderer)(b,e,a,p);this.stage=new f["default"];this.ticker=new d["default"];this.ticker.add(this.render,this);this.start()}c.prototype.render=function(){this.renderer.render(this.stage)};c.prototype.stop=function(){this.ticker.stop()};c.prototype.start=function(){this.ticker.start()};c.prototype.destroy=
function(b){this.stop();this.ticker.remove(this.render,this);this.ticker=null;this.stage.destroy();this.stage=null;this.renderer.destroy(b);this.renderer=null};l(c,[{key:"view",get:function(){return this.renderer.view}}]);return c}();g["default"]=a},{"./autoDetectRenderer":43,"./display/Container":46,"./ticker/Ticker":114}],42:[function(a,k,g){function l(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&
c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}function h(d){if(d instanceof Array)"precision"!==d[0].substring(0,9)&&(d=d.slice(0),d.unshift("precision "+f+" float;"));else if("precision"!==d.substring(0,9))return"precision "+f+" float;\n"+d;return d}g.__esModule=!0;k=a("pixi-gl-core");a=a("./settings");var f=(a&&a.__esModule?a:{"default":a})["default"].PRECISION;a=function(d){function c(b,e,f){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");b=d.call(this,b,h(e),h(f));if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?this:b}l(c,d);return c}(k.GLShader);g["default"]=a},{"./settings":99,"pixi-gl-core":12}],43:[function(a,k,g){g.__esModule=!0;g.autoDetectRenderer=function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:800,c=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:600,b=arguments[2];return!arguments[3]&&l.isWebGLSupported()?new f["default"](d,c,b):new h["default"](d,c,b)};var l=function(d){if(d&&d.__esModule)return d;var c={};if(null!=d)for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(c[b]=d[b]);c["default"]=d;return c}(a("./utils")),h=(k=a("./renderers/canvas/CanvasRenderer"))&&k.__esModule?k:{"default":k},f=(a=a("./renderers/webgl/WebGLRenderer"))&&a.__esModule?a:{"default":a}},{"./renderers/canvas/CanvasRenderer":75,"./renderers/webgl/WebGLRenderer":82,
"./utils":119}],44:[function(a,k,g){g.__esModule=!0;g.VERSION="4.3.4";g.PI_2=2*Math.PI;g.RAD_TO_DEG=180/Math.PI;g.DEG_TO_RAD=Math.PI/180;g.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};g.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};g.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};g.SCALE_MODES=
{LINEAR:0,NEAREST:1};g.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};g.GC_MODES={AUTO:0,MANUAL:1};g.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;g.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;g.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;g.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};g.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};g.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};
g.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},{}],45:[function(a,k,g){g.__esModule=!0;var l=a("../math");a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null}a.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY};a.prototype.clear=function(){this.updateID++;this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};a.prototype.getRectangle=
function(f){if(this.minX>this.maxX||this.minY>this.maxY)return l.Rectangle.EMPTY;f=f||new l.Rectangle(0,0,1,1);f.x=this.minX;f.y=this.minY;f.width=this.maxX-this.minX;f.height=this.maxY-this.minY;return f};a.prototype.addPoint=function(f){this.minX=Math.min(this.minX,f.x);this.maxX=Math.max(this.maxX,f.x);this.minY=Math.min(this.minY,f.y);this.maxY=Math.max(this.maxY,f.y)};a.prototype.addQuad=function(f){var d=this.minX,c=this.minY,b=this.maxX,e=this.maxY,a=f[0],p=f[1],d=a<d?a:d,c=p<c?p:c,b=a>b?a:
b,e=p>e?p:e,a=f[2],p=f[3],d=a<d?a:d,c=p<c?p:c,b=a>b?a:b,e=p>e?p:e,a=f[4],p=f[5],d=a<d?a:d,c=p<c?p:c,b=a>b?a:b,e=p>e?p:e,a=f[6],p=f[7];this.minX=a<d?a:d;this.minY=p<c?p:c;this.maxX=a>b?a:b;this.maxY=p>e?p:e};a.prototype.addFrame=function(f,d,c,b,e){var a=f.worldTransform;f=a.a;var p=a.b,m=a.c,h=a.d,g=a.tx,a=a.ty,l=this.minX,k=this.minY,t=this.maxX,v=this.maxY,r=f*d+m*c+g,x=p*d+h*c+a,l=r<l?r:l,k=x<k?x:k,t=r>t?r:t,v=x>v?x:v,r=f*b+m*c+g,x=p*b+h*c+a,l=r<l?r:l,k=x<k?x:k,t=r>t?r:t,v=x>v?x:v,r=f*d+m*e+g,
x=p*d+h*e+a,l=r<l?r:l,k=x<k?x:k,t=r>t?r:t,v=x>v?x:v,r=f*b+m*e+g,x=p*b+h*e+a;this.minX=r<l?r:l;this.minY=x<k?x:k;this.maxX=r>t?r:t;this.maxY=x>v?x:v};a.prototype.addVertices=function(f,d,c,b){var e=f.worldTransform;f=e.a;for(var a=e.b,p=e.c,m=e.d,h=e.tx,e=e.ty,g=this.minX,l=this.minY,k=this.maxX,t=this.maxY;c<b;c+=2)var v=d[c],r=d[c+1],x=f*v+p*r+h,v=m*r+a*v+e,g=x<g?x:g,l=v<l?v:l,k=x>k?x:k,t=v>t?v:t;this.minX=g;this.minY=l;this.maxX=k;this.maxY=t};a.prototype.addBounds=function(f){var d=this.minX,c=
this.minY,b=this.maxX,e=this.maxY;this.minX=f.minX<d?f.minX:d;this.minY=f.minY<c?f.minY:c;this.maxX=f.maxX>b?f.maxX:b;this.maxY=f.maxY>e?f.maxY:e};a.prototype.addBoundsMask=function(f,d){var c=f.minX>d.minX?f.minX:d.minX,b=f.minY>d.minY?f.minY:d.minY,e=f.maxX<d.maxX?f.maxX:d.maxX,a=f.maxY<d.maxY?f.maxY:d.maxY;if(c<=e&&b<=a){var h=this.minX,m=this.minY,q=this.maxX,g=this.maxY;this.minX=c<h?c:h;this.minY=b<m?b:m;this.maxX=e>q?e:q;this.maxY=a>g?a:g}};a.prototype.addBoundsArea=function(f,d){var c=f.minX>
d.x?f.minX:d.x,b=f.minY>d.y?f.minY:d.y,e=f.maxX<d.x+d.width?f.maxX:d.x+d.width,a=f.maxY<d.y+d.height?f.maxY:d.y+d.height;if(c<=e&&b<=a){var h=this.minX,m=this.minY,q=this.maxX,g=this.maxY;this.minX=c<h?c:h;this.minY=b<m?b:m;this.maxX=e>q?e:q;this.maxY=a>g?a:g}};return a}();g["default"]=a},{"../math":68}],46:[function(a,k,g){function l(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,
{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}g.__esModule=!0;var h=function(){function d(c,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,e){b&&d(c.prototype,b);e&&d(c,e);return c}}(),f=a("../utils");a=a("./DisplayObject");a=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var b;b=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.children=[];return b}l(c,d);c.prototype.onChildrenChange=function(){};c.prototype.addChild=function(b){var e=arguments.length;if(1<e)for(var c=0;c<e;c++)this.addChild(arguments[c]);else b.parent&&b.parent.removeChild(b),b.parent=this,this.transform._parentID=-1,this._boundsID++,this.children.push(b),this.onChildrenChange(this.children.length-
1),b.emit("added",this);return b};c.prototype.addChildAt=function(b,e){if(0>e||e>this.children.length)throw Error(b+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);b.parent&&b.parent.removeChild(b);b.parent=this;this.children.splice(e,0,b);this.onChildrenChange(e);b.emit("added",this);return b};c.prototype.swapChildren=function(b,e){if(b!==e){var c=this.getChildIndex(b),d=this.getChildIndex(e);this.children[c]=e;this.children[d]=b;this.onChildrenChange(c<d?c:d)}};c.prototype.getChildIndex=
function(b){b=this.children.indexOf(b);if(-1===b)throw Error("The supplied DisplayObject must be a child of the caller");return b};c.prototype.setChildIndex=function(b,e){if(0>e||e>=this.children.length)throw Error("The supplied index is out of bounds");var c=this.getChildIndex(b);(0,f.removeItems)(this.children,c,1);this.children.splice(e,0,b);this.onChildrenChange(e)};c.prototype.getChildAt=function(b){if(0>b||b>=this.children.length)throw Error("getChildAt: Index ("+b+") does not exist.");return this.children[b]};
c.prototype.removeChild=function(b){var e=arguments.length;if(1<e)for(var c=0;c<e;c++)this.removeChild(arguments[c]);else{e=this.children.indexOf(b);if(-1===e)return null;b.parent=null;(0,f.removeItems)(this.children,e,1);this.transform._parentID=-1;this._boundsID++;this.onChildrenChange(e);b.emit("removed",this)}return b};c.prototype.removeChildAt=function(b){var e=this.getChildAt(b);e.parent=null;(0,f.removeItems)(this.children,b,1);this.onChildrenChange(b);e.emit("removed",this);return e};c.prototype.removeChildren=
function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],e="number"===typeof e?e:this.children.length,c=e-b;if(0<c&&c<=e){e=this.children.splice(b,c);for(c=0;c<e.length;++c)e[c].parent=null;this.onChildrenChange(b);for(b=0;b<e.length;++b)e[b].emit("removed",this);return e}if(0===c&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};c.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);
this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var b=0,e=this.children.length;b<e;++b){var c=this.children[b];c.visible&&c.updateTransform()}};c.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var b=0;b<this.children.length;b++){var e=this.children[b];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=
this._boundsID};c.prototype._calculateBounds=function(){};c.prototype.renderWebGL=function(b){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(b);else{this._renderWebGL(b);for(var e=0,c=this.children.length;e<c;++e)this.children[e].renderWebGL(b)}};c.prototype.renderAdvancedWebGL=function(b){b.flush();var e=this._filters,c=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var d=this._enabledFilters.length=0;d<e.length;d++)e[d].enabled&&
this._enabledFilters.push(e[d]);this._enabledFilters.length&&b.filterManager.pushFilter(this,this._enabledFilters)}c&&b.maskManager.pushMask(this,this._mask);this._renderWebGL(b);for(var d=0,a=this.children.length;d<a;d++)this.children[d].renderWebGL(b);b.flush();c&&b.maskManager.popMask(this,this._mask);e&&this._enabledFilters&&this._enabledFilters.length&&b.filterManager.popFilter()};c.prototype._renderWebGL=function(b){};c.prototype._renderCanvas=function(b){};c.prototype.renderCanvas=function(b){if(this.visible&&
!(0>=this.worldAlpha)&&this.renderable){this._mask&&b.maskManager.pushMask(this._mask);this._renderCanvas(b);for(var e=0,c=this.children.length;e<c;++e)this.children[e].renderCanvas(b);this._mask&&b.maskManager.popMask(b)}};c.prototype.destroy=function(b){d.prototype.destroy.call(this);var e="boolean"===typeof b?b:b&&b.children,c=this.removeChildren(0,this.children.length);if(e)for(e=0;e<c.length;++e)c[e].destroy(b)};h(c,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},
set:function(b){var e=this.getLocalBounds().width;this.scale.x=0!==e?b/e:1;this._width=b}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(b){var e=this.getLocalBounds().height;this.scale.y=0!==e?b/e:1;this._height=b}}]);return c}((a&&a.__esModule?a:{"default":a})["default"]);g["default"]=a;a.prototype.containerUpdateTransform=a.prototype.updateTransform},{"../utils":119,"./DisplayObject":47}],47:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}
function h(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}g.__esModule=!0;var f=function(){function b(b,e){for(var c=0;c<e.length;c++){var d=e[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,
d.key,d)}}return function(e,c,d){c&&b(e.prototype,c);d&&b(e,d);return e}}();k=a("eventemitter3");k=l(k);var d=a("../const"),c=a("../settings"),b=l(c),c=a("./TransformStatic"),e=l(c),c=a("./Transform"),n=l(c),c=a("./Bounds"),p=l(c),m=a("../math");a=function(c){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var f;f=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==
typeof f?this:f;var m=b["default"].TRANSFORM_MODE===d.TRANSFORM_MODE.STATIC?e["default"]:n["default"];f.tempDisplayObjectParent=null;f.transform=new m;f.alpha=1;f.visible=!0;f.renderable=!0;f.parent=null;f.worldAlpha=1;f.filterArea=null;f._filters=null;f._enabledFilters=null;f._bounds=new p["default"];f._boundsID=0;f._lastBoundsID=-1;f._boundsRect=null;f._localBoundsRect=null;f._mask=null;return f}h(a,c);a.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform);
this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};a.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};a.prototype.getBounds=function(b,e){b||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=
null));this._boundsID!==this._lastBoundsID&&this.calculateBounds();e||(this._boundsRect||(this._boundsRect=new m.Rectangle),e=this._boundsRect);return this._bounds.getRectangle(e)};a.prototype.getLocalBounds=function(b){var e=this.transform,c=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;b||(this._localBoundsRect||(this._localBoundsRect=new m.Rectangle),b=this._localBoundsRect);b=this.getBounds(!1,b);this.parent=c;this.transform=e;return b};a.prototype.toGlobal=
function(b,e){2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.apply(b,e)};a.prototype.toLocal=function(b,e,c,d){e&&(b=e.toGlobal(b,c,d));d||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.applyInverse(b,c)};a.prototype.renderWebGL=function(b){};a.prototype.renderCanvas=function(b){};a.prototype.setParent=function(b){if(!b||!b.addChild)throw Error("setParent: Argument must be a Container");b.addChild(this);return b};a.prototype.setTransform=function(){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,d=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:0,f=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,n=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,m=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;this.position.x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.position.y=b;this.scale.x=e?e:1;this.scale.y=c?c:1;this.rotation=d;this.skew.x=f;this.skew.y=a;this.pivot.x=n;this.pivot.y=m;return this};a.prototype.destroy=
function(){this.removeAllListeners();this.parent&&this.parent.removeChild(this);this.filterArea=this._mask=this._currentBounds=this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1};f(a,[{key:"_tempDisplayObjectParent",get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new a);return this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(b){this.transform.position.x=b}},{key:"y",get:function(){return this.position.y},
set:function(b){this.transform.position.y=b}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(b){this.transform.position.copy(b)}},{key:"scale",get:function(){return this.transform.scale},set:function(b){this.transform.scale.copy(b)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(b){this.transform.pivot.copy(b)}},
{key:"skew",get:function(){return this.transform.skew},set:function(b){this.transform.skew.copy(b)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(b){this.transform.rotation=b}},{key:"worldVisible",get:function(){var b=this;do{if(!b.visible)return!1;b=b.parent}while(b);return!0}},{key:"mask",get:function(){return this._mask},set:function(b){this._mask&&(this._mask.renderable=!0);if(this._mask=b)this._mask.renderable=!1}},{key:"filters",get:function(){return this._filters&&
this._filters.slice()},set:function(b){this._filters=b&&b.slice()}}]);return a}(k["default"]);g["default"]=a;a.prototype.displayObjectUpdateTransform=a.prototype.updateTransform},{"../const":44,"../math":68,"../settings":99,"./Bounds":45,"./Transform":48,"./TransformStatic":50,eventemitter3:3}],48:[function(a,k,g){function l(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,
enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}g.__esModule=!0;var h=function(){function d(c,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,e){b&&d(c.prototype,b);e&&d(c,e);return c}}(),f=a("../math");a=a("./TransformBase");a=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var b;b=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.position=new f.Point(0,0);b.scale=new f.Point(1,1);b.skew=new f.ObservablePoint(b.updateSkew,b,0,0);b.pivot=new f.Point(0,0);b._rotation=0;b._cx=1;b._sx=0;b._cy=0;b._sy=1;return b}l(c,d);c.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-
this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x)};c.prototype.updateLocalTransform=function(){var b=this.localTransform;b.a=this._cx*this.scale.x;b.b=this._sx*this.scale.x;b.c=this._cy*this.scale.y;b.d=this._sy*this.scale.y;b.tx=this.position.x-(this.pivot.x*b.a+this.pivot.y*b.c);b.ty=this.position.y-(this.pivot.x*b.b+this.pivot.y*b.d)};c.prototype.updateTransform=function(b){var e=this.localTransform;e.a=this._cx*this.scale.x;e.b=this._sx*this.scale.x;e.c=this._cy*this.scale.y;e.d=this._sy*
this.scale.y;e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c);e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);b=b.worldTransform;var c=this.worldTransform;c.a=e.a*b.a+e.b*b.c;c.b=e.a*b.b+e.b*b.d;c.c=e.c*b.a+e.d*b.c;c.d=e.c*b.b+e.d*b.d;c.tx=e.tx*b.a+e.ty*b.c+b.tx;c.ty=e.tx*b.b+e.ty*b.d+b.ty;this._worldID++};c.prototype.setFromMatrix=function(b){b.decompose(this)};h(c,[{key:"rotation",get:function(){return this._rotation},set:function(b){this._rotation=b;this.updateSkew()}}]);return c}((a&&
a.__esModule?a:{"default":a})["default"]);g["default"]=a},{"../math":68,"./TransformBase":49}],49:[function(a,k,g){g.__esModule=!0;var l=a("../math");a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.worldTransform=new l.Matrix;this.localTransform=new l.Matrix;this._parentID=this._worldID=0}a.prototype.updateLocalTransform=function(){};a.prototype.updateTransform=function(a){a=a.worldTransform;var d=this.worldTransform,c=this.localTransform;
d.a=c.a*a.a+c.b*a.c;d.b=c.a*a.b+c.b*a.d;d.c=c.c*a.a+c.d*a.c;d.d=c.c*a.b+c.d*a.d;d.tx=c.tx*a.a+c.ty*a.c+a.tx;d.ty=c.tx*a.b+c.ty*a.d+a.ty;this._worldID++};return a}();g["default"]=a;a.prototype.updateWorldTransform=a.prototype.updateTransform;a.IDENTITY=new a},{"../math":68}],50:[function(a,k,g){function l(d,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,enumerable:!1,
writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(d,c):d.__proto__=c)}g.__esModule=!0;var h=function(){function d(c,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(c,d.key,d)}}return function(c,b,e){b&&d(c.prototype,b);e&&d(c,e);return c}}(),f=a("../math");a=a("./TransformBase");a=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var b;b=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.position=new f.ObservablePoint(b.onChange,b,0,0);b.scale=new f.ObservablePoint(b.onChange,b,1,1);b.pivot=new f.ObservablePoint(b.onChange,b,0,0);b.skew=new f.ObservablePoint(b.updateSkew,b,0,0);b._rotation=0;b._cx=1;b._sx=0;b._cy=0;b._sy=1;b._localID=0;b._currentLocalID=0;return b}l(c,d);c.prototype.onChange=function(){this._localID++};
c.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++};c.prototype.updateLocalTransform=function(){var b=this.localTransform;this._localID!==this._currentLocalID&&(b.a=this._cx*this.scale._x,b.b=this._sx*this.scale._x,b.c=this._cy*this.scale._y,b.d=this._sy*this.scale._y,b.tx=this.position._x-(this.pivot._x*b.a+this.pivot._y*
b.c),b.ty=this.position._y-(this.pivot._x*b.b+this.pivot._y*b.d),this._currentLocalID=this._localID,this._parentID=-1)};c.prototype.updateTransform=function(b){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=
-1);if(this._parentID!==b._worldID){var c=b.worldTransform,d=this.worldTransform;d.a=e.a*c.a+e.b*c.c;d.b=e.a*c.b+e.b*c.d;d.c=e.c*c.a+e.d*c.c;d.d=e.c*c.b+e.d*c.d;d.tx=e.tx*c.a+e.ty*c.c+c.tx;d.ty=e.tx*c.b+e.ty*c.d+c.ty;this._parentID=b._worldID;this._worldID++}};c.prototype.setFromMatrix=function(b){b.decompose(this);this._localID++};h(c,[{key:"rotation",get:function(){return this._rotation},set:function(b){this._rotation=b;this.updateSkew()}}]);return c}((a&&a.__esModule?a:{"default":a})["default"]);
g["default"]=a},{"../math":68,"./TransformBase":49}],51:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}g.__esModule=!0;k=a("../display/Container");k=l(k);var f=a("../textures/RenderTexture"),
d=l(f),f=a("../textures/Texture"),c=l(f),f=a("./GraphicsData"),b=l(f),f=a("../sprites/Sprite"),e=l(f),n=a("../math"),p=a("../utils"),m=a("../const"),f=a("../display/Bounds"),q=l(f),f=a("./utils/bezierCurveTo"),A=l(f);a=a("../renderers/canvas/CanvasRenderer");var B=l(a),w=void 0,t=new n.Matrix,v=new n.Point,r=new Float32Array(4),x=new Float32Array(4);a=function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var b;b=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.fillAlpha=1;b.lineWidth=0;b.lineColor=0;b.graphicsData=[];b.tint=16777215;b._prevTint=16777215;b.blendMode=m.BLEND_MODES.NORMAL;b.currentPath=null;b._webGL={};b.isMask=!1;b.boundsPadding=0;b._localBounds=new q["default"];b.dirty=0;b.fastRectDirty=-1;b.clearDirty=0;b.boundsDirty=-1;b.cachedSpriteDirty=!1;b._spriteRect=null;b._fastRect=!1;return b}h(f,a);f.prototype.clone=function(){var b=new f;b.renderable=this.renderable;b.fillAlpha=this.fillAlpha;
b.lineWidth=this.lineWidth;b.lineColor=this.lineColor;b.tint=this.tint;b.blendMode=this.blendMode;b.isMask=this.isMask;b.boundsPadding=this.boundsPadding;b.dirty=0;b.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)b.graphicsData.push(this.graphicsData[e].clone());b.currentPath=b.graphicsData[b.graphicsData.length-1];b.updateLocalBounds();return b};f.prototype.lineStyle=function(){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:1;this.lineWidth=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.lineColor=b;this.lineAlpha=e;this.currentPath&&(this.currentPath.shape.points.length?(b=new n.Polygon(this.currentPath.shape.points.slice(-2)),b.closed=!1,this.drawShape(b)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha));return this};f.prototype.moveTo=function(b,e){var c=new n.Polygon([b,e]);c.closed=!1;
this.drawShape(c);return this};f.prototype.lineTo=function(b,e){this.currentPath.shape.points.push(b,e);this.dirty++;return this};f.prototype.quadraticCurveTo=function(b,e,c,d){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,f,n;0===a.length&&this.moveTo(0,0);for(var m=a[a.length-2],h=a[a.length-1],p=1;20>=p;++p){var q=p/20;f=m+(b-m)*q;n=h+(e-h)*q;a.push(f+(b+(c-b)*q-f)*q,n+(e+(d-e)*q-n)*q)}this.dirty++;
return this};f.prototype.bezierCurveTo=function(b,e,c,d,a,f){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n=this.currentPath.shape.points,m=n[n.length-2],h=n[n.length-1];n.length-=2;(0,A["default"])(m,h,b,e,c,d,a,f,n);this.dirty++;return this};f.prototype.arcTo=function(b,e,c,d,a){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(b,e):this.moveTo(b,e);var f=this.currentPath.shape.points,
n=f[f.length-1]-e,m=f[f.length-2]-b;d-=e;c-=b;var h=Math.abs(n*c-m*d);if(1E-8>h||0===a)f[f.length-2]===b&&f[f.length-1]===e||f.push(b,e);else{var p=n*n+m*m,q=d*d+c*c,g=n*d+m*c,f=a*Math.sqrt(p)/h,h=a*Math.sqrt(q)/h,p=f*g/p,q=h*g/q,g=f*c+h*m,l=f*d+h*n;this.arc(g+b,l+e,a,Math.atan2(n*(h+p)-l,m*(h+p)-g),Math.atan2(d*(f+q)-l,c*(f+q)-g),m*d>c*n)}this.dirty++;return this};f.prototype.arc=function(b,e,c,d,f){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(d===f)return this;!a&&f<=d?f+=
2*Math.PI:a&&d<=f&&(d+=2*Math.PI);var n=f-d,m=40*Math.ceil(Math.abs(n)/(2*Math.PI));if(0===n)return this;var h=b+Math.cos(d)*c,p=e+Math.sin(d)*c;(a=this.currentPath?this.currentPath.shape.points:null)?a[a.length-2]===h&&a[a.length-1]===p||a.push(h,p):(this.moveTo(h,p),a=this.currentPath.shape.points);for(var n=n/(2*m),h=2*n,p=Math.cos(n),q=Math.sin(n),m=m-1,g=m%1/m,l=0;l<=m;++l){var A=n+d+h*(l+g*l),k=Math.cos(A),A=-Math.sin(A);a.push((p*k+q*A)*c+b,(p*-A+q*k)*c+e)}this.dirty++;return this};f.prototype.beginFill=
function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.filling=!0;this.fillColor=b;this.fillAlpha=e;this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha);return this};f.prototype.endFill=function(){this.filling=!1;this.fillColor=null;this.fillAlpha=1;return this};f.prototype.drawRect=function(b,
e,c,d){this.drawShape(new n.Rectangle(b,e,c,d));return this};f.prototype.drawRoundedRect=function(b,e,c,d,f){this.drawShape(new n.RoundedRectangle(b,e,c,d,f));return this};f.prototype.drawCircle=function(b,e,c){this.drawShape(new n.Circle(b,e,c));return this};f.prototype.drawEllipse=function(b,e,c,d){this.drawShape(new n.Ellipse(b,e,c,d));return this};f.prototype.drawPolygon=function(b){var e=b,c=!0;e instanceof n.Polygon&&(c=e.closed,e=e.points);if(!Array.isArray(e))for(var e=Array(arguments.length),
d=0;d<e.length;++d)e[d]=arguments[d];e=new n.Polygon(e);e.closed=c;this.drawShape(e);return this};f.prototype.clear=function(){if(this.lineWidth||this.filling||0<this.graphicsData.length)this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0;this._spriteRect=this.currentPath=null;return this};f.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===m.SHAPES.RECT&&!this.graphicsData[0].lineWidth};
f.prototype._renderWebGL=function(b){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect());this._fastRect?this._renderSpriteRect(b):(b.setObjectRenderer(b.plugins.graphics),b.plugins.graphics.render(this))};f.prototype._renderSpriteRect=function(b){var a=this.graphicsData[0].shape;if(!this._spriteRect){if(!f._SPRITE_TEXTURE){f._SPRITE_TEXTURE=d["default"].create(10,10);var n=document.createElement("canvas");n.width=10;n.height=10;var m=n.getContext("2d");
m.fillStyle="white";m.fillRect(0,0,10,10);f._SPRITE_TEXTURE=c["default"].fromCanvas(n)}this._spriteRect=new e["default"](f._SPRITE_TEXTURE)}16777215===this.tint?this._spriteRect.tint=this.graphicsData[0].fillColor:((0,p.hex2rgb)(this.graphicsData[0].fillColor,r),(0,p.hex2rgb)(this.tint,x),r[0]*=x[0],r[1]*=x[1],r[2]*=x[2],this._spriteRect.tint=(0,p.rgb2hex)(r));this._spriteRect.alpha=this.graphicsData[0].fillAlpha;this._spriteRect.worldAlpha=this.worldAlpha*this._spriteRect.alpha;f._SPRITE_TEXTURE._frame.width=
a.width;f._SPRITE_TEXTURE._frame.height=a.height;this._spriteRect.transform.worldTransform=this.transform.worldTransform;this._spriteRect.anchor.set(-a.x/a.width,-a.y/a.height);this._spriteRect._onAnchorUpdate();this._spriteRect._renderWebGL(b)};f.prototype._renderCanvas=function(b){!0!==this.isMask&&b.plugins.graphics.render(this)};f.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var b=this._localBounds;
this._bounds.addFrame(this.transform,b.minX,b.minY,b.maxX,b.maxY)};f.prototype.containsPoint=function(b){this.worldTransform.applyInverse(b,v);b=this.graphicsData;for(var e=0;e<b.length;++e){var c=b[e];if(c.fill&&c.shape&&c.shape.contains(v.x,v.y))return!0}return!1};f.prototype.updateLocalBounds=function(){var b=Infinity,e=-Infinity,c=Infinity,d=-Infinity;if(this.graphicsData.length)for(var a,f,n,h,p,q=0;q<this.graphicsData.length;q++){a=this.graphicsData[q];n=a.type;var g=a.lineWidth;a=a.shape;if(n===
m.SHAPES.RECT||n===m.SHAPES.RREC)f=a.x-g/2,n=a.y-g/2,h=a.width+g,p=a.height+g,b=f<b?f:b,e=f+h>e?f+h:e,c=n<c?n:c,d=n+p>d?n+p:d;else if(n===m.SHAPES.CIRC)f=a.x,n=a.y,h=a.radius+g/2,p=a.radius+g/2,b=f-h<b?f-h:b,e=f+h>e?f+h:e,c=n-p<c?n-p:c,d=n+p>d?n+p:d;else if(n===m.SHAPES.ELIP)f=a.x,n=a.y,h=a.width+g/2,p=a.height+g/2,b=f-h<b?f-h:b,e=f+h>e?f+h:e,c=n-p<c?n-p:c,d=n+p>d?n+p:d;else{a=a.points;for(var l,A,k,w,t,B=0;B+2<a.length;B+=2)f=a[B],n=a[B+1],l=a[B+2],A=a[B+3],k=Math.abs(l-f),w=Math.abs(A-n),p=g,h=
Math.sqrt(k*k+w*w),1E-9>h||(t=(p/h*w+k)/2,h=(p/h*k+w)/2,f=(l+f)/2,n=(A+n)/2,b=f-t<b?f-t:b,e=f+t>e?f+t:e,c=n-h<c?n-h:c,d=n+h>d?n+h:d)}}else d=c=e=b=0;q=this.boundsPadding;this._localBounds.minX=b-q;this._localBounds.maxX=e+2*q;this._localBounds.minY=c-q;this._localBounds.maxY=d+2*q};f.prototype.drawShape=function(e){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop();this.currentPath=null;e=new b["default"](this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,
this.fillAlpha,this.filling,e);this.graphicsData.push(e);e.type===m.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e);this.dirty++;return e};f.prototype.generateCanvasTexture=function(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=this.getLocalBounds(),f=d["default"].create(a.width,a.height,b,e);w||(w=new B["default"]);t.tx=-a.x;t.ty=-a.y;w.render(this,f,!1,t);a=c["default"].fromCanvas(f.baseTexture._canvasRenderTarget.canvas,b);a.baseTexture.resolution=
e;a.baseTexture.update();return a};f.prototype.closePath=function(){var b=this.currentPath;b&&b.shape&&b.shape.close();return this};f.prototype.addHole=function(){var b=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(b.shape);this.currentPath=null;return this};f.prototype.destroy=function(b){a.prototype.destroy.call(this,b);for(b=0;b<this.graphicsData.length;++b)this.graphicsData[b].destroy();for(var e in this._webgl)for(b=0;b<this._webgl[e].data.length;++b)this._webgl[e].data[b].destroy();
this._spriteRect&&this._spriteRect.destroy();this._localBounds=this._webgl=this.currentPath=this.graphicsData=null};return f}(k["default"]);g["default"]=a;a._SPRITE_TEXTURE=null},{"../const":44,"../display/Bounds":45,"../display/Container":46,"../math":68,"../renderers/canvas/CanvasRenderer":75,"../sprites/Sprite":100,"../textures/RenderTexture":110,"../textures/Texture":111,"../utils":119,"./GraphicsData":52,"./utils/bezierCurveTo":54}],52:[function(a,k,g){g.__esModule=!0;a=function(){function a(h,
f,d,c,b,e,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.lineWidth=h;this.lineColor=f;this.lineAlpha=d;this._lineTint=f;this.fillColor=c;this.fillAlpha=b;this._fillTint=c;this.fill=e;this.holes=[];this.shape=n;this.type=n.type}a.prototype.clone=function(){return new a(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)};a.prototype.addHole=function(a){this.holes.push(a)};a.prototype.destroy=function(){this.holes=
this.shape=null};return a}();g["default"]=a},{}],53:[function(a,k,g){g.__esModule=!0;k=(k=a("../../renderers/canvas/CanvasRenderer"))&&k.__esModule?k:{"default":k};var l=a("../../const");a=function(){function a(f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=f}a.prototype.render=function(a){var d=this.renderer,c=d.context,b=a.worldAlpha,e=a.transform.worldTransform,f=d.resolution;this._prevTint!==this.tint&&(this.dirty=!0);c.setTransform(e.a*f,e.b*
f,e.c*f,e.d*f,e.tx*f,e.ty*f);a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1);d.setBlendMode(a.blendMode);for(d=0;d<a.graphicsData.length;d++){var e=a.graphicsData[d],h=e.shape,f=e._fillTint,m=e._lineTint;c.lineWidth=e.lineWidth;if(e.type===l.SHAPES.POLY){c.beginPath();this.renderPolygon(h.points,h.closed,c);for(var q=0;q<e.holes.length;q++)this.renderPolygon(e.holes[q].points,!0,c);e.fill&&(c.globalAlpha=e.fillAlpha*b,c.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6),c.fill());e.lineWidth&&
(c.globalAlpha=e.lineAlpha*b,c.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.stroke())}else if(e.type===l.SHAPES.RECT){if(e.fillColor||0===e.fillColor)c.globalAlpha=e.fillAlpha*b,c.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6),c.fillRect(h.x,h.y,h.width,h.height);e.lineWidth&&(c.globalAlpha=e.lineAlpha*b,c.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.strokeRect(h.x,h.y,h.width,h.height))}else if(e.type===l.SHAPES.CIRC)c.beginPath(),c.arc(h.x,h.y,h.radius,0,2*Math.PI),
c.closePath(),e.fill&&(c.globalAlpha=e.fillAlpha*b,c.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6),c.fill()),e.lineWidth&&(c.globalAlpha=e.lineAlpha*b,c.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.stroke());else if(e.type===l.SHAPES.ELIP){var g=2*h.width,k=2*h.height,q=h.x-g/2,h=h.y-k/2;c.beginPath();var w=g/2*.5522848,t=k/2*.5522848,v=q+g,r=h+k,g=q+g/2,k=h+k/2;c.moveTo(q,k);c.bezierCurveTo(q,k-t,g-w,h,g,h);c.bezierCurveTo(g+w,h,v,k-t,v,k);c.bezierCurveTo(v,k+t,g+w,r,g,r);c.bezierCurveTo(g-
w,r,q,k+t,q,k);c.closePath();e.fill&&(c.globalAlpha=e.fillAlpha*b,c.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6),c.fill());e.lineWidth&&(c.globalAlpha=e.lineAlpha*b,c.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.stroke())}else if(e.type===l.SHAPES.RREC){q=h.x;k=h.y;w=h.width;t=h.height;h=h.radius;v=Math.min(w,t)/2|0;h=h>v?v:h;c.beginPath();c.moveTo(q,k+h);c.lineTo(q,k+t-h);c.quadraticCurveTo(q,k+t,q+h,k+t);c.lineTo(q+w-h,k+t);c.quadraticCurveTo(q+w,k+t,q+w,k+t-h);c.lineTo(q+
w,k+h);c.quadraticCurveTo(q+w,k,q+w-h,k);c.lineTo(q+h,k);c.quadraticCurveTo(q,k,q,k+h);c.closePath();if(e.fillColor||0===e.fillColor)c.globalAlpha=e.fillAlpha*b,c.fillStyle="#"+("00000"+(f|0).toString(16)).substr(-6),c.fill();e.lineWidth&&(c.globalAlpha=e.lineAlpha*b,c.strokeStyle="#"+("00000"+(m|0).toString(16)).substr(-6),c.stroke())}}};a.prototype.updateGraphicsTint=function(a){a._prevTint=a.tint;for(var d=(a.tint>>16&255)/255,c=(a.tint>>8&255)/255,b=(a.tint&255)/255,e=0;e<a.graphicsData.length;++e){var f=
a.graphicsData[e],h=f.fillColor|0,m=f.lineColor|0;f._fillTint=((h>>16&255)/255*d*255<<16)+((h>>8&255)/255*c*255<<8)+(h&255)/255*b*255;f._lineTint=((m>>16&255)/255*d*255<<16)+((m>>8&255)/255*c*255<<8)+(m&255)/255*b*255}};a.prototype.renderPolygon=function(a,d,c){c.moveTo(a[0],a[1]);for(var b=1;b<a.length/2;++b)c.lineTo(a[2*b],a[2*b+1]);d&&c.closePath()};a.prototype.destroy=function(){this.renderer=null};return a}();g["default"]=a;k["default"].registerPlugin("graphics",a)},{"../../const":44,"../../renderers/canvas/CanvasRenderer":75}],
54:[function(a,k,g){g.__esModule=!0;g["default"]=function(a,h,f,d,c,b,e,n){var p=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],m,q,g,l,k;p.push(a,h);for(var t=1,v;20>=t;++t)v=t/20,m=1-v,q=m*m,g=q*m,l=v*v,k=l*v,p.push(g*a+3*q*v*f+3*m*l*c+k*e,g*h+3*q*v*d+3*m*l*b+k*n);return p}},{}],55:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}g.__esModule=!0;var f=a("../../utils"),d=a("../../const");k=a("../../renderers/webgl/utils/ObjectRenderer");var c=l(k);k=a("../../renderers/webgl/WebGLRenderer");k=l(k);var b=a("./WebGLGraphicsData"),e=l(b),b=a("./shaders/PrimitiveShader"),n=l(b),b=a("./utils/buildPoly"),p=l(b),b=a("./utils/buildRectangle"),m=l(b),b=a("./utils/buildRoundedRectangle"),
q=l(b);a=a("./utils/buildCircle");var A=l(a);a=function(b){function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var c;c=b.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.graphicsDataPool=[];c.primitiveShader=null;c.gl=e.gl;c.CONTEXT_UID=0;return c}h(a,b);a.prototype.onContextChange=function(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;
this.primitiveShader=new n["default"](this.gl)};a.prototype.destroy=function(){c["default"].prototype.destroy.call(this);for(var b=0;b<this.graphicsDataPool.length;++b)this.graphicsDataPool[b].destroy();this.graphicsDataPool=null};a.prototype.render=function(b){var e=this.renderer,c=e.gl,d,a=b._webGL[this.CONTEXT_UID];a&&b.dirty===a.dirty||(this.updateGraphics(b),a=b._webGL[this.CONTEXT_UID]);e.bindShader(this.primitiveShader);e.state.setBlendMode(b.blendMode);for(var n=0,m=a.data.length;n<m;n++){d=
a.data[n];var h=d.shader;e.bindShader(h);h.uniforms.translationMatrix=b.transform.worldTransform.toArray(!0);h.uniforms.tint=(0,f.hex2rgb)(b.tint);h.uniforms.alpha=b.worldAlpha;e.bindVao(d.vao);d.vao.draw(c.TRIANGLE_STRIP,d.indices.length)}};a.prototype.updateGraphics=function(b){var e=this.renderer.gl,c=b._webGL[this.CONTEXT_UID];c||(c=b._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1});c.dirty=b.dirty;if(b.clearDirty!==c.clearDirty){c.clearDirty=b.clearDirty;for(e=0;e<
c.data.length;e++)this.graphicsDataPool.push(c.data[e]);c.data.length=0;c.lastIndex=0}for(var a=c.lastIndex;a<b.graphicsData.length;a++){var f=b.graphicsData[a],e=this.getWebGLData(c,0);f.type===d.SHAPES.POLY&&(0,p["default"])(f,e);f.type===d.SHAPES.RECT?(0,m["default"])(f,e):f.type===d.SHAPES.CIRC||f.type===d.SHAPES.ELIP?(0,A["default"])(f,e):f.type===d.SHAPES.RREC&&(0,q["default"])(f,e);c.lastIndex++}this.renderer.bindVao(null);for(b=0;b<c.data.length;b++)e=c.data[b],e.dirty&&e.upload()};a.prototype.getWebGLData=
function(b,c){var d=b.data[b.data.length-1];if(!d||32E4<d.points.length)d=this.graphicsDataPool.pop()||new e["default"](this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),d.reset(c),b.data.push(d);d.dirty=!0;return d};return a}(c["default"]);g["default"]=a;k["default"].registerPlugin("graphics",a)},{"../../const":44,"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,"../../utils":119,"./WebGLGraphicsData":56,"./shaders/PrimitiveShader":57,
"./utils/buildCircle":58,"./utils/buildPoly":60,"./utils/buildRectangle":61,"./utils/buildRoundedRectangle":62}],56:[function(a,k,g){g.__esModule=!0;var l=(a=a("pixi-gl-core"))&&a.__esModule?a:{"default":a};a=function(){function a(f,d,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=f;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=l["default"].GLBuffer.createVertexBuffer(f);this.indexBuffer=l["default"].GLBuffer.createIndexBuffer(f);this.dirty=
!0;this.glIndices=this.glPoints=null;this.shader=d;this.vao=(new l["default"].VertexArrayObject(f,c)).addIndex(this.indexBuffer).addAttribute(this.buffer,d.attributes.aVertexPosition,f.FLOAT,!1,24,0).addAttribute(this.buffer,d.attributes.aColor,f.FLOAT,!1,24,8)}a.prototype.reset=function(){this.points.length=0;this.indices.length=0};a.prototype.upload=function(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);
this.dirty=!1};a.prototype.destroy=function(){this.indices=this.points=this.color=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.glIndices=this.glPoints=this.indexBuffer=this.buffer=this.gl=null};return a}();g["default"]=a},{"pixi-gl-core":12}],57:[function(a,k,g){function l(a,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}g.__esModule=!0;a=a("../../../Shader");a=function(a){function f(d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");d=a.call(this,d,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"varying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}l(f,a);return f}((a&&a.__esModule?a:{"default":a})["default"]);g["default"]=a},{"../../../Shader":42}],58:[function(a,k,g){g.__esModule=!0;g["default"]=function(d,c){var b=d.shape,e=b.x,a=b.y,p,m;d.type===h.SHAPES.CIRC?m=p=b.radius:(p=b.width,m=b.height);var b=Math.floor(30*
Math.sqrt(b.radius))||Math.floor(15*Math.sqrt(b.width+b.height)),q=2*Math.PI/b;if(d.fill){var g=(0,f.hex2rgb)(d.fillColor),k=d.fillAlpha,w=g[0]*k,t=g[1]*k,g=g[2]*k,v=c.points,r=c.indices,x=v.length/6;r.push(x);for(var y=0;y<b+1;y++)v.push(e,a,w,t,g,k),v.push(e+Math.sin(q*y)*p,a+Math.cos(q*y)*m,w,t,g,k),r.push(x++,x++);r.push(x-1)}if(d.lineWidth){k=d.points;d.points=[];for(w=0;w<b+1;w++)d.points.push(e+Math.sin(q*w)*p,a+Math.cos(q*w)*m);(0,l["default"])(d,c);d.points=k}};var l=(k=a("./buildLine"))&&
k.__esModule?k:{"default":k},h=a("../../../const"),f=a("../../../utils")},{"../../../const":44,"../../../utils":119,"./buildLine":59}],59:[function(a,k,g){g.__esModule=!0;g["default"]=function(a,d){var c=a.points;if(0!==c.length){var b=new l.Point(c[0],c[1]),e=new l.Point(c[c.length-2],c[c.length-1]);if(b.x===e.x&&b.y===e.y){c=c.slice();c.pop();c.pop();var e=new l.Point(c[c.length-2],c[c.length-1]),f=e.x+.5*(b.x-e.x),b=e.y+.5*(b.y-e.y);c.unshift(f,b);c.push(f,b)}var p=d.points,f=d.indices,m=c.length/
2,b=c.length,e=p.length/6,q=a.lineWidth/2,g=(0,h.hex2rgb)(a.lineColor),k=a.lineAlpha,w=g[0]*k,t=g[1]*k,g=g[2]*k,v=c[0],r=c[1],x=c[2],y=c[3],C,z,E=-(r-y),D=v-x,F,H,G=Math.sqrt(E*E+D*D),E=E/G*q,D=D/G*q;p.push(v-E,r-D,w,t,g,k);p.push(v+E,r+D,w,t,g,k);for(var M=1;M<m-1;++M){v=c[2*(M-1)];r=c[2*(M-1)+1];x=c[2*M];y=c[2*M+1];C=c[2*(M+1)];z=c[2*(M+1)+1];E=-(r-y);D=v-x;G=Math.sqrt(E*E+D*D);E/=G;D/=G;E*=q;D*=q;F=-(y-z);H=x-C;G=Math.sqrt(F*F+H*H);F/=G;H/=G;F*=q;H*=q;var G=-D+r-(-D+y),O=-E+x-(-E+v),v=(-E+v)*(-D+
y)-(-E+x)*(-D+r),r=-H+z-(-H+y),Q=-F+x-(-F+C);C=(-F+C)*(-H+y)-(-F+x)*(-H+z);z=G*Q-r*O;.1>Math.abs(z)?(p.push(x-E,y-D,w,t,g,k),p.push(x+E,y+D,w,t,g,k)):(O=(O*C-Q*v)/z,G=(r*v-G*C)/z,(O-x)*(O-x)+(G-y)*(G-y)>196*q*q?(E-=F,D-=H,G=Math.sqrt(E*E+D*D),E/=G,D/=G,E*=q,D*=q,p.push(x-E,y-D),p.push(w,t,g,k),p.push(x+E,y+D),p.push(w,t,g,k),p.push(x-E,y-D),p.push(w,t,g,k),b++):(p.push(O,G),p.push(w,t,g,k),p.push(x-(O-x),y-(G-y)),p.push(w,t,g,k)))}v=c[2*(m-2)];r=c[2*(m-2)+1];x=c[2*(m-1)];y=c[2*(m-1)+1];E=-(r-y);D=
v-x;G=Math.sqrt(E*E+D*D);E=E/G*q;D=D/G*q;p.push(x-E,y-D);p.push(w,t,g,k);p.push(x+E,y+D);p.push(w,t,g,k);f.push(e);for(c=0;c<b;++c)f.push(e++);f.push(e-1)}};var l=a("../../../math"),h=a("../../../utils")},{"../../../math":68,"../../../utils":119}],60:[function(a,k,g){g.__esModule=!0;g["default"]=function(d,c){d.points=d.shape.points.slice();var b=d.points;if(d.fill&&6<=b.length){for(var e=[],a=d.holes,p=0;p<a.length;p++){var m=a[p];e.push(b.length/2);b=b.concat(m.points)}var a=c.points,q=c.indices,
p=b.length/2,g=(0,h.hex2rgb)(d.fillColor),m=d.fillAlpha,k=g[0]*m,w=g[1]*m,g=g[2]*m,e=(0,f["default"])(b,e,2);if(!e)return;for(var t=a.length/6,v=0;v<e.length;v+=3)q.push(e[v]+t),q.push(e[v]+t),q.push(e[v+1]+t),q.push(e[v+2]+t),q.push(e[v+2]+t);for(e=0;e<p;e++)a.push(b[2*e],b[2*e+1],k,w,g,m)}0<d.lineWidth&&(0,l["default"])(d,c)};var l=(k=a("./buildLine"))&&k.__esModule?k:{"default":k},h=a("../../../utils"),f=(a=a("earcut"))&&a.__esModule?a:{"default":a}},{"../../../utils":119,"./buildLine":59,earcut:2}],
61:[function(a,k,g){g.__esModule=!0;g["default"]=function(a,d){var c=a.shape,b=c.x,e=c.y,f=c.width,c=c.height;if(a.fill){var p=(0,h.hex2rgb)(a.fillColor),m=a.fillAlpha,q=p[0]*m,g=p[1]*m,p=p[2]*m,k=d.points,w=d.indices,t=k.length/6;k.push(b,e);k.push(q,g,p,m);k.push(b+f,e);k.push(q,g,p,m);k.push(b,e+c);k.push(q,g,p,m);k.push(b+f,e+c);k.push(q,g,p,m);w.push(t,t,t+1,t+2,t+3,t+3)}a.lineWidth&&(m=a.points,a.points=[b,e,b+f,e,b+f,e+c,b,e+c,b,e],(0,l["default"])(a,d),a.points=m)};var l=(k=a("./buildLine"))&&
k.__esModule?k:{"default":k},h=a("../../../utils")},{"../../../utils":119,"./buildLine":59}],62:[function(a,k,g){function l(c,b,e,d,a,f){for(var n=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],m,h,p,g,l=0,k;20>=l;++l)k=l/20,m=c+(e-c)*k,h=b+(d-b)*k,p=e+(a-e)*k,g=d+(f-d)*k,m+=(p-m)*k,h+=(g-h)*k,n.push(m,h);return n}g.__esModule=!0;g["default"]=function(c,b){var e=c.shape,a=e.x,p=e.y,m=e.width,q=e.height,g=e.radius,e=[];e.push(a,p+g);l(a,p+q-g,a,p+q,a+g,p+q,e);l(a+m-g,p+q,a+m,p+q,a+m,p+q-
g,e);l(a+m,p+g,a+m,p,a+m-g,p,e);l(a+g,p,a,p,a,p+g+1E-10,e);if(c.fill){for(var q=(0,d.hex2rgb)(c.fillColor),a=c.fillAlpha,p=q[0]*a,m=q[1]*a,q=q[2]*a,g=b.points,k=b.indices,w=g.length/6,t=(0,h["default"])(e,null,2),v=0,r=t.length;v<r;v+=3)k.push(t[v]+w),k.push(t[v]+w),k.push(t[v+1]+w),k.push(t[v+2]+w),k.push(t[v+2]+w);k=0;for(w=e.length;k<w;k++)g.push(e[k],e[++k],p,m,q,a)}c.lineWidth&&(a=c.points,c.points=e,(0,f["default"])(c,b),c.points=a)};var h=(k=a("earcut"))&&k.__esModule?k:{"default":k},f=(k=
a("./buildLine"))&&k.__esModule?k:{"default":k},d=a("../../../utils")},{"../../../utils":119,"./buildLine":59,earcut:2}],63:[function(a,k,g){function l(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(e[c]=b[c]);e["default"]=b;return e}function h(b){return b&&b.__esModule?b:{"default":b}}g.__esModule=!0;g.autoDetectRenderer=g.Application=g.Filter=g.SpriteMaskFilter=g.Quad=g.RenderTarget=g.ObjectRenderer=g.WebGLManager=g.Shader=g.CanvasRenderTarget=
g.TextureUvs=g.VideoBaseTexture=g.BaseRenderTexture=g.RenderTexture=g.BaseTexture=g.Texture=g.CanvasGraphicsRenderer=g.GraphicsRenderer=g.GraphicsData=g.Graphics=g.TextStyle=g.Text=g.SpriteRenderer=g.CanvasTinter=g.CanvasSpriteRenderer=g.Sprite=g.TransformBase=g.TransformStatic=g.Transform=g.Container=g.DisplayObject=g.Bounds=g.glCore=g.WebGLRenderer=g.CanvasRenderer=g.ticker=g.utils=g.settings=void 0;var f=a("./const");Object.keys(f).forEach(function(b){"default"!==b&&"__esModule"!==b&&Object.defineProperty(g,
b,{enumerable:!0,get:function(){return f[b]}})});var d=a("./math");Object.keys(d).forEach(function(b){"default"!==b&&"__esModule"!==b&&Object.defineProperty(g,b,{enumerable:!0,get:function(){return d[b]}})});var c=a("pixi-gl-core");Object.defineProperty(g,"glCore",{enumerable:!0,get:function(){return h(c)["default"]}});var b=a("./display/Bounds");Object.defineProperty(g,"Bounds",{enumerable:!0,get:function(){return h(b)["default"]}});var e=a("./display/DisplayObject");Object.defineProperty(g,"DisplayObject",
{enumerable:!0,get:function(){return h(e)["default"]}});var n=a("./display/Container");Object.defineProperty(g,"Container",{enumerable:!0,get:function(){return h(n)["default"]}});var p=a("./display/Transform");Object.defineProperty(g,"Transform",{enumerable:!0,get:function(){return h(p)["default"]}});var m=a("./display/TransformStatic");Object.defineProperty(g,"TransformStatic",{enumerable:!0,get:function(){return h(m)["default"]}});var q=a("./display/TransformBase");Object.defineProperty(g,"TransformBase",
{enumerable:!0,get:function(){return h(q)["default"]}});var A=a("./sprites/Sprite");Object.defineProperty(g,"Sprite",{enumerable:!0,get:function(){return h(A)["default"]}});var B=a("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(g,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return h(B)["default"]}});var w=a("./sprites/canvas/CanvasTinter");Object.defineProperty(g,"CanvasTinter",{enumerable:!0,get:function(){return h(w)["default"]}});var t=a("./sprites/webgl/SpriteRenderer");
Object.defineProperty(g,"SpriteRenderer",{enumerable:!0,get:function(){return h(t)["default"]}});var v=a("./text/Text");Object.defineProperty(g,"Text",{enumerable:!0,get:function(){return h(v)["default"]}});var r=a("./text/TextStyle");Object.defineProperty(g,"TextStyle",{enumerable:!0,get:function(){return h(r)["default"]}});var x=a("./graphics/Graphics");Object.defineProperty(g,"Graphics",{enumerable:!0,get:function(){return h(x)["default"]}});var y=a("./graphics/GraphicsData");Object.defineProperty(g,
"GraphicsData",{enumerable:!0,get:function(){return h(y)["default"]}});var C=a("./graphics/webgl/GraphicsRenderer");Object.defineProperty(g,"GraphicsRenderer",{enumerable:!0,get:function(){return h(C)["default"]}});var z=a("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(g,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return h(z)["default"]}});var E=a("./textures/Texture");Object.defineProperty(g,"Texture",{enumerable:!0,get:function(){return h(E)["default"]}});var D=a("./textures/BaseTexture");
Object.defineProperty(g,"BaseTexture",{enumerable:!0,get:function(){return h(D)["default"]}});var F=a("./textures/RenderTexture");Object.defineProperty(g,"RenderTexture",{enumerable:!0,get:function(){return h(F)["default"]}});var H=a("./textures/BaseRenderTexture");Object.defineProperty(g,"BaseRenderTexture",{enumerable:!0,get:function(){return h(H)["default"]}});var G=a("./textures/VideoBaseTexture");Object.defineProperty(g,"VideoBaseTexture",{enumerable:!0,get:function(){return h(G)["default"]}});
var M=a("./textures/TextureUvs");Object.defineProperty(g,"TextureUvs",{enumerable:!0,get:function(){return h(M)["default"]}});var O=a("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(g,"CanvasRenderTarget",{enumerable:!0,get:function(){return h(O)["default"]}});var Q=a("./Shader");Object.defineProperty(g,"Shader",{enumerable:!0,get:function(){return h(Q)["default"]}});var R=a("./renderers/webgl/managers/WebGLManager");Object.defineProperty(g,"WebGLManager",{enumerable:!0,get:function(){return h(R)["default"]}});
var L=a("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(g,"ObjectRenderer",{enumerable:!0,get:function(){return h(L)["default"]}});var I=a("./renderers/webgl/utils/RenderTarget");Object.defineProperty(g,"RenderTarget",{enumerable:!0,get:function(){return h(I)["default"]}});var N=a("./renderers/webgl/utils/Quad");Object.defineProperty(g,"Quad",{enumerable:!0,get:function(){return h(N)["default"]}});var S=a("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(g,
"SpriteMaskFilter",{enumerable:!0,get:function(){return h(S)["default"]}});var J=a("./renderers/webgl/filters/Filter");Object.defineProperty(g,"Filter",{enumerable:!0,get:function(){return h(J)["default"]}});var P=a("./Application");Object.defineProperty(g,"Application",{enumerable:!0,get:function(){return h(P)["default"]}});var K=a("./autoDetectRenderer");Object.defineProperty(g,"autoDetectRenderer",{enumerable:!0,get:function(){return K.autoDetectRenderer}});k=a("./utils");k=l(k);var T=a("./ticker"),
T=l(T),U=a("./settings"),U=h(U),V=a("./renderers/canvas/CanvasRenderer"),V=h(V);a=a("./renderers/webgl/WebGLRenderer");a=h(a);g.settings=U["default"];g.utils=k;g.ticker=T;g.CanvasRenderer=V["default"];g.WebGLRenderer=a["default"]},{"./Application":41,"./Shader":42,"./autoDetectRenderer":43,"./const":44,"./display/Bounds":45,"./display/Container":46,"./display/DisplayObject":47,"./display/Transform":48,"./display/TransformBase":49,"./display/TransformStatic":50,"./graphics/Graphics":51,"./graphics/GraphicsData":52,
"./graphics/canvas/CanvasGraphicsRenderer":53,"./graphics/webgl/GraphicsRenderer":55,"./math":68,"./renderers/canvas/CanvasRenderer":75,"./renderers/canvas/utils/CanvasRenderTarget":77,"./renderers/webgl/WebGLRenderer":82,"./renderers/webgl/filters/Filter":84,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":87,"./renderers/webgl/managers/WebGLManager":91,"./renderers/webgl/utils/ObjectRenderer":92,"./renderers/webgl/utils/Quad":93,"./renderers/webgl/utils/RenderTarget":94,"./settings":99,"./sprites/Sprite":100,
"./sprites/canvas/CanvasSpriteRenderer":101,"./sprites/canvas/CanvasTinter":102,"./sprites/webgl/SpriteRenderer":104,"./text/Text":106,"./text/TextStyle":107,"./textures/BaseRenderTexture":108,"./textures/BaseTexture":109,"./textures/RenderTexture":110,"./textures/Texture":111,"./textures/TextureUvs":112,"./textures/VideoBaseTexture":113,"./ticker":115,"./utils":119,"pixi-gl-core":12}],64:[function(a,k,g){function l(b){return 0>b?-1:0<b?1:0}g.__esModule=!0;var h=(a=a("./Matrix"))&&a.__esModule?a:
{"default":a},f=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],c=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],b=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],e=[],n=[];(function(){for(var a=0;16>a;a++){var q=[];n.push(q);for(var g=0;16>g;g++)for(var p=l(f[a]*f[g]+c[a]*d[g]),k=l(d[a]*f[g]+b[a]*d[g]),t=l(f[a]*c[g]+c[a]*b[g]),v=l(d[a]*c[g]+b[a]*b[g]),r=0;16>r;r++)if(f[r]===p&&d[r]===k&&c[r]===t&&b[r]===v){q.push(r);break}}for(a=0;16>a;a++)q=new h["default"],q.set(f[a],d[a],c[a],
b[a],0,0),e.push(q)})();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(b){return f[b]},uY:function(b){return d[b]},vX:function(b){return c[b]},vY:function(e){return b[e]},inv:function(b){return b&8?b&15:-b&7},add:function(b,e){return n[b][e]},sub:function(b,e){return n[b][p.inv(e)]},rotate180:function(b){return b^4},isSwapWidthHeight:function(b){return 2===(b&3)},byDirection:function(b,e){return 2*Math.abs(b)<=Math.abs(e)?0<=e?p.S:p.N:2*Math.abs(e)<=
Math.abs(b)?0<b?p.E:p.W:0<e?0<b?p.SE:p.SW:0<b?p.NE:p.NW},matrixAppendRotationInv:function(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,f=e[p.inv(c)];f.tx=d;f.ty=a;b.append(f)}};g["default"]=p},{"./Matrix":65}],65:[function(a,k,g){g.__esModule=!0;var l=function(){function a(d,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(d,
e.key,e)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}(),h=(a=a("./Point"))&&a.__esModule?a:{"default":a};a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;this.array=null}a.prototype.fromArray=function(d){this.a=d[0];this.b=d[1];this.c=d[3];this.d=d[4];this.tx=d[2];this.ty=d[5]};a.prototype.set=function(d,c,b,e,a,f){this.a=d;this.b=c;this.c=b;this.d=e;this.tx=a;this.ty=
f;return this};a.prototype.toArray=function(d,c){this.array||(this.array=new Float32Array(9));var b=c||this.array;d?(b[0]=this.a,b[1]=this.b,b[2]=0,b[3]=this.c,b[4]=this.d,b[5]=0,b[6]=this.tx,b[7]=this.ty):(b[0]=this.a,b[1]=this.c,b[2]=this.tx,b[3]=this.b,b[4]=this.d,b[5]=this.ty,b[6]=0,b[7]=0);b[8]=1;return b};a.prototype.apply=function(d,c){c=c||new h["default"];var b=d.x,e=d.y;c.x=this.a*b+this.c*e+this.tx;c.y=this.b*b+this.d*e+this.ty;return c};a.prototype.applyInverse=function(d,c){c=c||new h["default"];
var b=1/(this.a*this.d+this.c*-this.b),e=d.x,a=d.y;c.x=this.d*b*e+-this.c*b*a+(this.ty*this.c-this.tx*this.d)*b;c.y=this.a*b*a+-this.b*b*e+(-this.ty*this.a+this.tx*this.b)*b;return c};a.prototype.translate=function(d,c){this.tx+=d;this.ty+=c;return this};a.prototype.scale=function(d,c){this.a*=d;this.d*=c;this.c*=d;this.b*=c;this.tx*=d;this.ty*=c;return this};a.prototype.rotate=function(d){var c=Math.cos(d);d=Math.sin(d);var b=this.a,e=this.c,a=this.tx;this.a=b*c-this.b*d;this.b=b*d+this.b*c;this.c=
e*c-this.d*d;this.d=e*d+this.d*c;this.tx=a*c-this.ty*d;this.ty=a*d+this.ty*c;return this};a.prototype.append=function(d){var c=this.a,b=this.b,e=this.c,a=this.d;this.a=d.a*c+d.b*e;this.b=d.a*b+d.b*a;this.c=d.c*c+d.d*e;this.d=d.c*b+d.d*a;this.tx=d.tx*c+d.ty*e+this.tx;this.ty=d.tx*b+d.ty*a+this.ty;return this};a.prototype.setTransform=function(d,c,b,e,a,f,m,h,g){var n=Math.sin(m),q=Math.cos(m);m=Math.cos(g);g=Math.sin(g);var p=-Math.sin(h);h=Math.cos(h);var l=q*a;a*=n;n=-n*f;f*=q;this.a=m*l+g*n;this.b=
m*a+g*f;this.c=p*l+h*n;this.d=p*a+h*f;this.tx=d+(b*l+e*n);this.ty=c+(b*a+e*f);return this};a.prototype.prepend=function(d){var c=this.tx;if(1!==d.a||0!==d.b||0!==d.c||1!==d.d){var b=this.a,e=this.c;this.a=b*d.a+this.b*d.c;this.b=b*d.b+this.b*d.d;this.c=e*d.a+this.d*d.c;this.d=e*d.b+this.d*d.d}this.tx=c*d.a+this.ty*d.c+d.tx;this.ty=c*d.b+this.ty*d.d+d.ty;return this};a.prototype.decompose=function(d){var c=this.a,b=this.b,e=this.c,a=this.d,f=-Math.atan2(-e,a),m=Math.atan2(b,c);1E-5>Math.abs(f+m)?(d.rotation=
m,0>c&&0<=a&&(d.rotation+=0>=d.rotation?Math.PI:-Math.PI),d.skew.x=d.skew.y=0):(d.skew.x=f,d.skew.y=m);d.scale.x=Math.sqrt(c*c+b*b);d.scale.y=Math.sqrt(e*e+a*a);d.position.x=this.tx;d.position.y=this.ty;return d};a.prototype.invert=function(){var d=this.a,c=this.b,b=this.c,e=this.d,a=this.tx,f=d*e-c*b;this.a=e/f;this.b=-c/f;this.c=-b/f;this.d=d/f;this.tx=(b*this.ty-e*a)/f;this.ty=-(d*this.ty-c*a)/f;return this};a.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};
a.prototype.clone=function(){var d=new a;d.a=this.a;d.b=this.b;d.c=this.c;d.d=this.d;d.tx=this.tx;d.ty=this.ty;return d};a.prototype.copy=function(d){d.a=this.a;d.b=this.b;d.c=this.c;d.d=this.d;d.tx=this.tx;d.ty=this.ty;return d};l(a,null,[{key:"IDENTITY",get:function(){return new a}},{key:"TEMP_MATRIX",get:function(){return new a}}]);return a}();g["default"]=a},{"./Point":67}],66:[function(a,k,g){g.__esModule=!0;var l=function(){function a(a,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=
b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(f,d,c){d&&a(f.prototype,d);c&&a(f,c);return f}}();a=function(){function a(f,d){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._x=c;this._y=b;this.cb=f;this.scope=d}a.prototype.set=function(a,d){var c=a||0,b=d||(0!==d?c:0);if(this._x!==
c||this._y!==b)this._x=c,this._y=b,this.cb.call(this.scope)};a.prototype.copy=function(a){if(this._x!==a.x||this._y!==a.y)this._x=a.x,this._y=a.y,this.cb.call(this.scope)};l(a,[{key:"x",get:function(){return this._x},set:function(a){this._x!==a&&(this._x=a,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(a){this._y!==a&&(this._y=a,this.cb.call(this.scope))}}]);return a}();g["default"]=a},{}],67:[function(a,k,g){g.__esModule=!0;a=function(){function a(){var h=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:0,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=h;this.y=f}a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.copy=function(a){this.set(a.x,a.y)};a.prototype.equals=function(a){return a.x===this.x&&a.y===this.y};a.prototype.set=function(a,f){this.x=a||0;this.y=f||(0!==f?this.x:0)};return a}();g["default"]=a},{}],68:[function(a,k,g){function l(b){return b&&
b.__esModule?b:{"default":b}}g.__esModule=!0;var h=a("./Point");Object.defineProperty(g,"Point",{enumerable:!0,get:function(){return l(h)["default"]}});var f=a("./ObservablePoint");Object.defineProperty(g,"ObservablePoint",{enumerable:!0,get:function(){return l(f)["default"]}});var d=a("./Matrix");Object.defineProperty(g,"Matrix",{enumerable:!0,get:function(){return l(d)["default"]}});var c=a("./GroupD8");Object.defineProperty(g,"GroupD8",{enumerable:!0,get:function(){return l(c)["default"]}});var b=
a("./shapes/Circle");Object.defineProperty(g,"Circle",{enumerable:!0,get:function(){return l(b)["default"]}});var e=a("./shapes/Ellipse");Object.defineProperty(g,"Ellipse",{enumerable:!0,get:function(){return l(e)["default"]}});var n=a("./shapes/Polygon");Object.defineProperty(g,"Polygon",{enumerable:!0,get:function(){return l(n)["default"]}});var p=a("./shapes/Rectangle");Object.defineProperty(g,"Rectangle",{enumerable:!0,get:function(){return l(p)["default"]}});var m=a("./shapes/RoundedRectangle");
Object.defineProperty(g,"RoundedRectangle",{enumerable:!0,get:function(){return l(m)["default"]}})},{"./GroupD8":64,"./Matrix":65,"./ObservablePoint":66,"./Point":67,"./shapes/Circle":69,"./shapes/Ellipse":70,"./shapes/Polygon":71,"./shapes/Rectangle":72,"./shapes/RoundedRectangle":73}],69:[function(a,k,g){g.__esModule=!0;var l=(k=a("./Rectangle"))&&k.__esModule?k:{"default":k},h=a("../../const");a=function(){function a(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=d;this.y=c;this.radius=b;this.type=h.SHAPES.CIRC}a.prototype.clone=function(){return new a(this.x,this.y,this.radius)};a.prototype.contains=function(d,c){if(0>=this.radius)return!1;var b=this.x-d,e=this.y-c;return b*b+e*e<=this.radius*this.radius};a.prototype.getBounds=function(){return new l["default"](this.x-this.radius,
this.y-this.radius,2*this.radius,2*this.radius)};return a}();g["default"]=a},{"../../const":44,"./Rectangle":72}],70:[function(a,k,g){g.__esModule=!0;var l=(k=a("./Rectangle"))&&k.__esModule?k:{"default":k},h=a("../../const");a=function(){function a(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.x=d;this.y=c;this.width=b;this.height=e;this.type=h.SHAPES.ELIP}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(d,c){if(0>=this.width||0>=this.height)return!1;var b=(d-this.x)/this.width,e=(c-this.y)/this.height;return 1>=b*b+e*e};a.prototype.getBounds=function(){return new l["default"](this.x-this.width,this.y-this.height,this.width,this.height)};return a}();g["default"]=
a},{"../../const":44,"./Rectangle":72}],71:[function(a,k,g){g.__esModule=!0;var l=(k=a("../Point"))&&k.__esModule?k:{"default":k},h=a("../../const");a=function(){function a(){for(var d=arguments.length,c=Array(d),b=0;b<d;b++)c[b]=arguments[b];if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");Array.isArray(c[0])&&(c=c[0]);if(c[0]instanceof l["default"]){for(var d=[],b=0,e=c.length;b<e;b++)d.push(c[b].x,c[b].y);c=d}this.closed=!0;this.points=c;this.type=h.SHAPES.POLY}
a.prototype.clone=function(){return new a(this.points.slice())};a.prototype.close=function(){var d=this.points;d[0]===d[d.length-2]&&d[1]===d[d.length-1]||d.push(d[0],d[1])};a.prototype.contains=function(d,c){for(var b=!1,e=this.points.length/2,a=0,f=e-1;a<e;f=a++){var m=this.points[2*a],h=this.points[2*a+1],g=this.points[2*f],f=this.points[2*f+1];h>c!==f>c&&d<(c-h)/(f-h)*(g-m)+m&&(b=!b)}return b};return a}();g["default"]=a},{"../../const":44,"../Point":67}],72:[function(a,k,g){g.__esModule=!0;var l=
function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}(),h=a("../../const");a=function(){function a(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:0;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=d;this.y=c;this.width=b;this.height=e;this.type=h.SHAPES.RECT}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};a.prototype.contains=function(a,c){return 0>=this.width||0>=this.height?!1:a>=this.x&&a<this.x+this.width&&c>=this.y&&c<this.y+this.height?!0:!1};a.prototype.pad=
function(a,c){a=a||0;c=c||(0!==c?a:0);this.x-=a;this.y-=c;this.width+=2*a;this.height+=2*c};a.prototype.fit=function(a){this.x<a.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=a.x);this.y<a.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=a.y);this.x+this.width>a.x+a.width&&(this.width=a.width-this.x,0>this.width&&(this.width=0));this.y+this.height>a.y+a.height&&(this.height=a.height-this.y,0>this.height&&(this.height=0))};a.prototype.enlarge=function(a){var c=Math.min(this.x,
a.x),b=Math.max(this.x+this.width,a.x+a.width),e=Math.min(this.y,a.y);a=Math.max(this.y+this.height,a.y+a.height);this.x=c;this.width=b-c;this.y=e;this.height=a-e};l(a,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new a(0,0,0,0)}}]);return a}();g["default"]=a},{"../../const":44}],73:[function(a,k,g){g.__esModule=
!0;var l=a("../../const");a=function(){function a(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,b=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.x=f;this.y=d;this.width=c;this.height=b;this.radius=e;this.type=
l.SHAPES.RREC}a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.radius)};a.prototype.contains=function(a,d){if(0>=this.width||0>=this.height)return!1;if(a>=this.x&&a<=this.x+this.width&&d>=this.y&&d<=this.y+this.height){if(d>=this.y+this.radius&&d<=this.y+this.height-this.radius||a>=this.x+this.radius&&a<=this.x+this.width-this.radius)return!0;var c=a-(this.x+this.radius),b=d-(this.y+this.radius),e=this.radius*this.radius;if(c*c+b*b<=e)return!0;c=a-(this.x+this.width-
this.radius);if(c*c+b*b<=e)return!0;b=d-(this.y+this.height-this.radius);if(c*c+b*b<=e)return!0;c=a-(this.x+this.radius);if(c*c+b*b<=e)return!0}return!1};return a}();g["default"]=a},{"../../const":44}],74:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,
configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}g.__esModule=!0;var f=function(){function b(b,e){for(var c=0;c<e.length;c++){var a=e[c];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,c,a){c&&b(e.prototype,c);a&&b(e,a);return e}}(),d=a("../utils");k=a("../math");var c=a("../const"),b=a("../settings"),e=l(b),b=a("../display/Container"),n=l(b),b=a("../textures/RenderTexture"),p=l(b);
a=a("eventemitter3");a=l(a);var m=new k.Matrix;k=function(b){function a(f,m,h,g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var p;p=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");p=!p||"object"!==typeof p&&"function"!==typeof p?this:p;(0,d.sayHello)(f);if(g)for(var q in e["default"].RENDER_OPTIONS)"undefined"===typeof g[q]&&(g[q]=e["default"].RENDER_OPTIONS[q]);else g=e["default"].RENDER_OPTIONS;p.type=
c.RENDERER_TYPE.UNKNOWN;p.width=m||800;p.height=h||600;p.view=g.view||document.createElement("canvas");p.resolution=g.resolution||e["default"].RESOLUTION;p.transparent=g.transparent;p.autoResize=g.autoResize||!1;p.blendModes=null;p.preserveDrawingBuffer=g.preserveDrawingBuffer;p.clearBeforeRender=g.clearBeforeRender;p.roundPixels=g.roundPixels;p._backgroundColor=0;p._backgroundColorRgba=[0,0,0,0];p._backgroundColorString="#000000";p.backgroundColor=g.backgroundColor||p._backgroundColor;p._tempDisplayObjectParent=
new n["default"];p._lastObjectRendered=p._tempDisplayObjectParent;return p}h(a,b);a.prototype.resize=function(b,e){this.width=b*this.resolution;this.height=e*this.resolution;this.view.width=this.width;this.view.height=this.height;this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")};a.prototype.generateTexture=function(b,e,c){var a=b.getLocalBounds();e=p["default"].create(a.width|0,a.height|0,e,c);m.tx=-a.x;m.ty=-a.y;this.render(b,
e,!1,m,!0);return e};a.prototype.destroy=function(b){b&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.type=c.RENDERER_TYPE.UNKNOWN;this.height=this.width=0;this.view=null;this.resolution=0;this.autoResize=this.transparent=!1;this.blendModes=null;this.roundPixels=this.clearBeforeRender=this.preserveDrawingBuffer=!1;this._backgroundColor=0;this._backgroundColorString=this._backgroundColorRgba=null;this.backgroundColor=0;this._lastObjectRendered=this._tempDisplayObjectParent=
null};f(a,[{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(b){this._backgroundColor=b;this._backgroundColorString=(0,d.hex2string)(b);(0,d.hex2rgb)(b,this._backgroundColorRgba)}}]);return a}(a["default"]);g["default"]=k},{"../const":44,"../display/Container":46,"../math":68,"../settings":99,"../textures/RenderTexture":110,"../utils":119,eventemitter3:3}],75:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,e){if("function"!==typeof e&&
null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}g.__esModule=!0;k=a("../SystemRenderer");k=l(k);var f=a("./utils/CanvasMaskManager"),d=l(f),f=a("./utils/CanvasRenderTarget"),c=l(f),f=a("./utils/mapCanvasBlendModesToPixi"),b=l(f),f=a("../../utils"),e=a("../../const");a=a("../../settings");
var n=l(a);a=function(a){function f(c,n){var m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");m=a.call(this,"Canvas",c,n,m);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.type=e.RENDERER_TYPE.CANVAS;m.rootContext=m.view.getContext("2d",{alpha:m.transparent});m.refresh=!0;m.maskManager=new d["default"](m);
m.smoothProperty="imageSmoothingEnabled";m.rootContext.imageSmoothingEnabled||(m.rootContext.webkitImageSmoothingEnabled?m.smoothProperty="webkitImageSmoothingEnabled":m.rootContext.mozImageSmoothingEnabled?m.smoothProperty="mozImageSmoothingEnabled":m.rootContext.oImageSmoothingEnabled?m.smoothProperty="oImageSmoothingEnabled":m.rootContext.msImageSmoothingEnabled&&(m.smoothProperty="msImageSmoothingEnabled"));m.initPlugins();m.blendModes=(0,b["default"])();m._activeBlendMode=null;m.context=null;
m.renderingToScreen=!1;m.resize(c,n);return m}h(f,a);f.prototype.render=function(b,a,d,f,n){if(this.view){this.renderingToScreen=!a;this.emit("prerender");var m=this.resolution;a?(a=a.baseTexture||a,a._canvasRenderTarget||(a._canvasRenderTarget=new c["default"](a.width,a.height,a.resolution),a.source=a._canvasRenderTarget.canvas,a.valid=!0),this.context=a._canvasRenderTarget.context,this.resolution=a._canvasRenderTarget.resolution):this.context=this.rootContext;var h=this.context;a||(this._lastObjectRendered=
b);n||(a=b.parent,n=this._tempDisplayObjectParent.transform.worldTransform,f?f.copy(n):n.identity(),b.parent=this._tempDisplayObjectParent,b.updateTransform(),b.parent=a);h.setTransform(1,0,0,1,0,0);h.globalAlpha=1;h.globalCompositeOperation=this.blendModes[e.BLEND_MODES.NORMAL];navigator.isCocoonJS&&this.view.screencanvas&&(h.fillStyle="black",h.clear());(void 0!==d?d:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?h.clearRect(0,0,this.width,this.height):(h.fillStyle=this._backgroundColorString,
h.fillRect(0,0,this.width,this.height)));d=this.context;this.context=h;b.renderCanvas(this);this.context=d;this.resolution=m;this.emit("postrender")}};f.prototype.clear=function(b){var e=this.context;b=b||this._backgroundColorString;!this.transparent&&b?(e.fillStyle=b,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)};f.prototype.setBlendMode=function(b){this._activeBlendMode!==b&&(this._activeBlendMode=b,this.context.globalCompositeOperation=this.blendModes[b])};f.prototype.destroy=
function(b){this.destroyPlugins();a.prototype.destroy.call(this,b);this.context=null;this.refresh=!0;this.maskManager.destroy();this.smoothProperty=this.maskManager=null};f.prototype.resize=function(b,c){a.prototype.resize.call(this,b,c);this.smoothProperty&&(this.rootContext[this.smoothProperty]=n["default"].SCALE_MODE===e.SCALE_MODES.LINEAR)};return f}(k["default"]);g["default"]=a;f.pluginTarget.mixin(a)},{"../../const":44,"../../settings":99,"../../utils":119,"../SystemRenderer":74,"./utils/CanvasMaskManager":76,
"./utils/CanvasRenderTarget":77,"./utils/mapCanvasBlendModesToPixi":79}],76:[function(a,k,g){g.__esModule=!0;var l=a("../../../const");a=function(){function a(f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=f}a.prototype.pushMask=function(a){var d=this.renderer;d.context.save();var c=a.alpha,b=a.transform.worldTransform,e=d.resolution;d.context.setTransform(b.a*e,b.b*e,b.c*e,b.d*e,b.tx*e,b.ty*e);a._texture||(this.renderGraphicsShape(a),d.context.clip());
a.worldAlpha=c};a.prototype.renderGraphicsShape=function(a){var d=this.renderer.context,c=a.graphicsData.length;if(0!==c){d.beginPath();for(var b=0;b<c;b++){var e=a.graphicsData[b],f=e.shape;if(e.type===l.SHAPES.POLY){e=f.points;d.moveTo(e[0],e[1]);for(var h=1;h<e.length/2;h++)d.lineTo(e[2*h],e[2*h+1]);e[0]===e[e.length-2]&&e[1]===e[e.length-1]&&d.closePath()}else if(e.type===l.SHAPES.RECT)d.rect(f.x,f.y,f.width,f.height),d.closePath();else if(e.type===l.SHAPES.CIRC)d.arc(f.x,f.y,f.radius,0,2*Math.PI),
d.closePath();else if(e.type===l.SHAPES.ELIP){var m=2*f.width,h=2*f.height,e=f.x-m/2,f=f.y-h/2,g=m/2*.5522848,k=h/2*.5522848,B=e+m,w=f+h,m=e+m/2,h=f+h/2;d.moveTo(e,h);d.bezierCurveTo(e,h-k,m-g,f,m,f);d.bezierCurveTo(m+g,f,B,h-k,B,h);d.bezierCurveTo(B,h+k,m+g,w,m,w);d.bezierCurveTo(m-g,w,e,h+k,e,h);d.closePath()}else e.type===l.SHAPES.RREC&&(e=f.x,h=f.y,g=f.width,k=f.height,f=f.radius,B=Math.min(g,k)/2|0,f=f>B?B:f,d.moveTo(e,h+f),d.lineTo(e,h+k-f),d.quadraticCurveTo(e,h+k,e+f,h+k),d.lineTo(e+g-f,h+
k),d.quadraticCurveTo(e+g,h+k,e+g,h+k-f),d.lineTo(e+g,h+f),d.quadraticCurveTo(e+g,h,e+g-f,h),d.lineTo(e+f,h),d.quadraticCurveTo(e,h,e,h+f),d.closePath())}}};a.prototype.popMask=function(a){a.context.restore()};a.prototype.destroy=function(){};return a}();g["default"]=a},{"../../../const":44}],77:[function(a,k,g){g.__esModule=!0;var l=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();a=a("../../../settings");var h=(a&&a.__esModule?a:{"default":a})["default"].RESOLUTION;a=function(){function a(d,c,b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=b||h;this.resize(d,c)}a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,
this.canvas.height)};a.prototype.resize=function(a,c){this.canvas.width=a*this.resolution;this.canvas.height=c*this.resolution};a.prototype.destroy=function(){this.canvas=this.context=null};l(a,[{key:"width",get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},{key:"height",get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}]);return a}();g["default"]=a},{"../../../settings":99}],78:[function(a,k,g){function l(a){var f=document.createElement("canvas");
f.width=6;f.height=1;var d=f.getContext("2d");d.fillStyle=a;d.fillRect(0,0,6,1);return f}g.__esModule=!0;g["default"]=function(){if("undefined"===typeof document)return!1;var a=l("#ff00ff"),f=l("#ffff00"),d=document.createElement("canvas");d.width=6;d.height=1;d=d.getContext("2d");d.globalCompositeOperation="multiply";d.drawImage(a,0,0);d.drawImage(f,2,0);a=d.getImageData(2,0,1,1);if(!a)return!1;a=a.data;return 255===a[0]&&0===a[1]&&0===a[2]}},{}],79:[function(a,k,g){g.__esModule=!0;g["default"]=
function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,h["default"])()?(a[l.BLEND_MODES.NORMAL]="source-over",a[l.BLEND_MODES.ADD]="lighter",a[l.BLEND_MODES.MULTIPLY]="multiply",a[l.BLEND_MODES.SCREEN]="screen",a[l.BLEND_MODES.OVERLAY]="overlay",a[l.BLEND_MODES.DARKEN]="darken",a[l.BLEND_MODES.LIGHTEN]="lighten",a[l.BLEND_MODES.COLOR_DODGE]="color-dodge",a[l.BLEND_MODES.COLOR_BURN]="color-burn",a[l.BLEND_MODES.HARD_LIGHT]="hard-light",a[l.BLEND_MODES.SOFT_LIGHT]="soft-light",
a[l.BLEND_MODES.DIFFERENCE]="difference",a[l.BLEND_MODES.EXCLUSION]="exclusion",a[l.BLEND_MODES.HUE]="hue",a[l.BLEND_MODES.SATURATION]="saturate",a[l.BLEND_MODES.COLOR]="color",a[l.BLEND_MODES.LUMINOSITY]="luminosity"):(a[l.BLEND_MODES.NORMAL]="source-over",a[l.BLEND_MODES.ADD]="lighter",a[l.BLEND_MODES.MULTIPLY]="source-over",a[l.BLEND_MODES.SCREEN]="source-over",a[l.BLEND_MODES.OVERLAY]="source-over",a[l.BLEND_MODES.DARKEN]="source-over",a[l.BLEND_MODES.LIGHTEN]="source-over",a[l.BLEND_MODES.COLOR_DODGE]=
"source-over",a[l.BLEND_MODES.COLOR_BURN]="source-over",a[l.BLEND_MODES.HARD_LIGHT]="source-over",a[l.BLEND_MODES.SOFT_LIGHT]="source-over",a[l.BLEND_MODES.DIFFERENCE]="source-over",a[l.BLEND_MODES.EXCLUSION]="source-over",a[l.BLEND_MODES.HUE]="source-over",a[l.BLEND_MODES.SATURATION]="source-over",a[l.BLEND_MODES.COLOR]="source-over",a[l.BLEND_MODES.LUMINOSITY]="source-over");return a};var l=a("../../../const"),h=(a=a("./canUseNewCanvasBlendModes"))&&a.__esModule?a:{"default":a}},{"../../../const":44,
"./canUseNewCanvasBlendModes":78}],80:[function(a,k,g){g.__esModule=!0;var l=a("../../const"),h=(a=a("../../settings"))&&a.__esModule?a:{"default":a};a=function(){function a(d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=d;this.checkCount=this.count=0;this.maxIdle=h["default"].GC_MAX_IDLE;this.checkCountMax=h["default"].GC_MAX_CHECK_COUNT;this.mode=h["default"].GC_MODE}a.prototype.update=function(){this.count++;this.mode!==l.GC_MODES.MANUAL&&(this.checkCount++,
this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))};a.prototype.run=function(){for(var a=this.renderer.textureManager,c=a._managedTextures,b=!1,e=0;e<c.length;e++){var f=c[e];!f._glRenderTargets&&this.count-f.touched>this.maxIdle&&(a.destroyTexture(f,!0),c[e]=null,b=!0)}if(b){for(b=a=0;b<c.length;b++)null!==c[b]&&(c[a++]=c[b]);c.length=a}};a.prototype.unload=function(a){var c=this.renderer.textureManager;a._texture&&a._texture._glRenderTargets&&c.destroyTexture(a._texture,!0);for(c=
a.children.length-1;0<=c;c--)this.unload(a.children[c])};return a}();g["default"]=a},{"../../const":44,"../../settings":99}],81:[function(a,k,g){g.__esModule=!0;var l=a("pixi-gl-core"),h=a("../../const"),f=(k=a("./utils/RenderTarget"))&&k.__esModule?k:{"default":k},d=a("../../utils");a=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.renderer=b;this.gl=b.gl;this._managedTextures=[]}c.prototype.bindTexture=function(){};c.prototype.getTexture=
function(){};c.prototype.updateTexture=function(b,e){var c=this.gl,a=!!b._glRenderTargets;if(!b.hasLoaded)return null;var d=this.renderer.boundTextures;if(void 0===e)for(var g=e=0;g<d.length;++g)if(d[g]===b){e=g;break}d[e]=b;c.activeTexture(c.TEXTURE0+e);(c=b._glTextures[this.renderer.CONTEXT_UID])?a?b._glRenderTargets[this.renderer.CONTEXT_UID].resize(b.width,b.height):c.upload(b.source):(a?(a=new f["default"](this.gl,b.width,b.height,b.scaleMode,b.resolution),a.resize(b.width,b.height),b._glRenderTargets[this.renderer.CONTEXT_UID]=
a,c=a.texture):(c=new l.GLTexture(this.gl,null,null,null,null),c.bind(e),c.premultiplyAlpha=!0,c.upload(b.source)),b._glTextures[this.renderer.CONTEXT_UID]=c,b.on("update",this.updateTexture,this),b.on("dispose",this.destroyTexture,this),this._managedTextures.push(b),b.isPowerOfTwo?(b.mipmap&&c.enableMipmap(),b.wrapMode===h.WRAP_MODES.CLAMP?c.enableWrapClamp():b.wrapMode===h.WRAP_MODES.REPEAT?c.enableWrapRepeat():c.enableWrapMirrorRepeat()):c.enableWrapClamp(),b.scaleMode===h.SCALE_MODES.NEAREST?
c.enableNearestScaling():c.enableLinearScaling());return c};c.prototype.destroyTexture=function(b,e){b=b.baseTexture||b;if(b.hasLoaded&&b._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(b),b._glTextures[this.renderer.CONTEXT_UID].destroy(),b.off("update",this.updateTexture,this),b.off("dispose",this.destroyTexture,this),delete b._glTextures[this.renderer.CONTEXT_UID],!e)){var c=this._managedTextures.indexOf(b);-1!==c&&(0,d.removeItems)(this._managedTextures,c,1)}};c.prototype.removeAll=
function(){for(var b=0;b<this._managedTextures.length;++b){var e=this._managedTextures[b];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}};c.prototype.destroy=function(){for(var b=0;b<this._managedTextures.length;++b){var e=this._managedTextures[b];this.destroyTexture(e,!0);e.off("update",this.updateTexture,this);e.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return c}();g["default"]=a},{"../../const":44,"../../utils":119,"./utils/RenderTarget":94,
"pixi-gl-core":12}],82:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}g.__esModule=!0;k=a("../SystemRenderer");var f=l(k);k=a("./managers/MaskManager");var d=l(k);
k=a("./managers/StencilManager");var c=l(k);k=a("./managers/FilterManager");var b=l(k);k=a("./utils/RenderTarget");var e=l(k);k=a("./utils/ObjectRenderer");var n=l(k);k=a("./TextureManager");var p=l(k);k=a("../../textures/BaseTexture");var m=l(k);k=a("./TextureGarbageCollector");var q=l(k);k=a("./WebGLState");var A=l(k);k=a("./utils/mapWebGLDrawModesToPixi");var B=l(k);k=a("./utils/validateContext");var w=l(k);k=a("../../utils");var t=a("pixi-gl-core"),v=l(t),r=a("../../const"),x=0;a=function(a){function g(e,
f){var m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var h;h=a.call(this,"WebGL",e,f,m);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.type=r.RENDERER_TYPE.WEBGL;h.handleContextLost=h.handleContextLost.bind(h);h.handleContextRestored=h.handleContextRestored.bind(h);h.view.addEventListener("webglcontextlost",
h.handleContextLost,!1);h.view.addEventListener("webglcontextrestored",h.handleContextRestored,!1);h._contextOptions={alpha:h.transparent,antialias:m.antialias,premultipliedAlpha:h.transparent&&"notMultiplied"!==h.transparent,stencil:!0,preserveDrawingBuffer:m.preserveDrawingBuffer};h._backgroundColorRgba[3]=h.transparent?0:1;h.maskManager=new d["default"](h);h.stencilManager=new c["default"](h);h.emptyRenderer=new n["default"](h);h.currentRenderer=h.emptyRenderer;h.initPlugins();m.context&&(0,w["default"])(m.context);
h.gl=m.context||v["default"].createContext(h.view,h._contextOptions);h.CONTEXT_UID=x++;h.state=new A["default"](h.gl);h.renderingToScreen=!0;h.boundTextures=null;h._activeShader=null;h._activeVao=null;h._activeRenderTarget=null;h._initContext();h.filterManager=new b["default"](h);h.drawModes=(0,B["default"])(h.gl);h._nextTextureLocation=0;h.setBlendMode(0);return h}h(g,a);g.prototype._initContext=function(){var b=this.gl;b.isContextLost()&&b.getExtension("WEBGL_lose_context")&&b.getExtension("WEBGL_lose_context").restoreContext();
var c=b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=Array(c);this.emptyTextures=Array(c);this.textureManager=new p["default"](this);this.textureGC=new q["default"](this);this.state.resetToDefault();this.rootRenderTarget=new e["default"](b,this.width,this.height,null,this.resolution,!0);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var a=new v["default"].GLTexture.fromData(b,null,1,1),d={_glTextures:{}};d._glTextures[this.CONTEXT_UID]=
{};for(var f=0;f<c;f++){var n=new m["default"];n._glTextures[this.CONTEXT_UID]=a;this.boundTextures[f]=d;this.emptyTextures[f]=n;this.bindTexture(null,f)}this.emit("context",b);this.resize(this.width,this.height)};g.prototype.render=function(b,e,c,a,d){this.renderingToScreen=!e;this.emit("prerender");this.gl&&!this.gl.isContextLost()&&(this._nextTextureLocation=0,e||(this._lastObjectRendered=b),d||(d=b.parent,b.parent=this._tempDisplayObjectParent,b.updateTransform(),b.parent=d),this.bindRenderTexture(e,
a),this.currentRenderer.start(),(void 0!==c?c:this.clearBeforeRender)&&this._activeRenderTarget.clear(),b.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender"))};g.prototype.setObjectRenderer=function(b){this.currentRenderer!==b&&(this.currentRenderer.stop(),this.currentRenderer=b,this.currentRenderer.start())};g.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};g.prototype.resize=function(b,e){f["default"].prototype.resize.call(this,b,
e);this.rootRenderTarget.resize(b,e);this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))};g.prototype.setBlendMode=function(b){this.state.setBlendMode(b)};g.prototype.clear=function(b){this._activeRenderTarget.clear(b)};g.prototype.setTransform=function(b){this._activeRenderTarget.transform=b};g.prototype.bindRenderTexture=function(b,e){var c;b?(c=
b.baseTexture,c._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(c,0),this.unbindTexture(c),c=c._glRenderTargets[this.CONTEXT_UID],c.setFrame(b.frame)):c=this.rootRenderTarget;c.transform=e;this.bindRenderTarget(c);return this};g.prototype.bindRenderTarget=function(b){b!==this._activeRenderTarget&&(this._activeRenderTarget=b,b.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=b.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(b.stencilMaskStack));
return this};g.prototype.bindShader=function(b){this._activeShader!==b&&(this._activeShader=b,b.bind(),b.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0));return this};g.prototype.bindTexture=function(b,e,c){b=b||this.emptyTextures[e];b=b.baseTexture||b;b.touched=this.textureGC.count;if(c)e=e||0;else{for(c=0;c<this.boundTextures.length;c++)if(this.boundTextures[c]===b)return c;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,
e=this.boundTextures.length-this._nextTextureLocation-1)}c=this.gl;var a=b._glTextures[this.CONTEXT_UID];a?(this.boundTextures[e]=b,c.activeTexture(c.TEXTURE0+e),c.bindTexture(c.TEXTURE_2D,a.texture)):this.textureManager.updateTexture(b,e);return e};g.prototype.unbindTexture=function(b){var e=this.gl;b=b.baseTexture||b;for(var c=0;c<this.boundTextures.length;c++)this.boundTextures[c]===b&&(this.boundTextures[c]=this.emptyTextures[c],e.activeTexture(e.TEXTURE0+c),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[c]._glTextures[this.CONTEXT_UID].texture));
return this};g.prototype.createVao=function(){return new v["default"].VertexArrayObject(this.gl,this.state.attribState)};g.prototype.bindVao=function(b){if(this._activeVao===b)return this;b?b.bind():this._activeVao&&this._activeVao.unbind();this._activeVao=b;return this};g.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;this.rootRenderTarget.activate();this.state.resetToDefault();return this};g.prototype.handleContextLost=
function(b){b.preventDefault()};g.prototype.handleContextRestored=function(){this._initContext();this.textureManager.removeAll()};g.prototype.destroy=function(b){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();a.prototype.destroy.call(this,b);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this._contextOptions=
this.handleContextRestored=this.handleContextLost=this.currentRenderer=this.textureManager=this.filterManager=this.maskManager=null;this.gl.useProgram(null);this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext();this.gl=null};return g}(f["default"]);g["default"]=a;k.pluginTarget.mixin(a)},{"../../const":44,"../../textures/BaseTexture":109,"../../utils":119,"../SystemRenderer":74,"./TextureGarbageCollector":80,"./TextureManager":81,"./WebGLState":83,"./managers/FilterManager":88,
"./managers/MaskManager":89,"./managers/StencilManager":90,"./utils/ObjectRenderer":92,"./utils/RenderTarget":94,"./utils/mapWebGLDrawModesToPixi":97,"./utils/validateContext":98,"pixi-gl-core":12}],83:[function(a,k,g){g.__esModule=!0;var l=(a=a("./utils/mapWebGLBlendModesToPixi"))&&a.__esModule?a:{"default":a};a=function(){function a(f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=
1;this.stackIndex=0;this.stack=[];this.gl=f;this.maxAttribs=f.getParameter(f.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)};this.blendModes=(0,l["default"])(f);this.nativeVaoExtension=f.getExtension("OES_vertex_array_object")||f.getExtension("MOZ_OES_vertex_array_object")||f.getExtension("WEBKIT_OES_vertex_array_object")}a.prototype.push=function(){var a=this.stack[++this.stackIndex];a||(a=this.stack[this.stackIndex]=new Uint8Array(16));
for(var d=0;d<this.activeState.length;d++)this.activeState[d]=a[d]};a.prototype.pop=function(){var a=this.stack[--this.stackIndex];this.setState(a)};a.prototype.setState=function(a){this.setBlend(a[0]);this.setDepthTest(a[1]);this.setFrontFace(a[2]);this.setCullFace(a[3]);this.setBlendMode(a[4])};a.prototype.setBlend=function(a){a=a?1:0;this.activeState[0]!==a&&(this.activeState[0]=a,this.gl[a?"enable":"disable"](this.gl.BLEND))};a.prototype.setBlendMode=function(a){a!==this.activeState[4]&&(this.activeState[4]=
a,this.gl.blendFunc(this.blendModes[a][0],this.blendModes[a][1]))};a.prototype.setDepthTest=function(a){a=a?1:0;this.activeState[1]!==a&&(this.activeState[1]=a,this.gl[a?"enable":"disable"](this.gl.DEPTH_TEST))};a.prototype.setCullFace=function(a){a=a?1:0;this.activeState[3]!==a&&(this.activeState[3]=a,this.gl[a?"enable":"disable"](this.gl.CULL_FACE))};a.prototype.setFrontFace=function(a){a=a?1:0;this.activeState[2]!==a&&(this.activeState[2]=a,this.gl.frontFace(this.gl[a?"CW":"CCW"]))};a.prototype.resetAttributes=
function(){for(var a=0;a<this.attribState.tempAttribState.length;a++)this.attribState.tempAttribState[a]=0;for(a=0;a<this.attribState.attribState.length;a++)this.attribState.attribState[a]=0;for(a=1;a<this.maxAttribs;a++)this.gl.disableVertexAttribArray(a)};a.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null);this.resetAttributes();for(var a=0;a<this.activeState.length;++a)this.activeState[a]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,
!1);this.setState(this.defaultState)};return a}();g["default"]=a},{"./utils/mapWebGLBlendModesToPixi":96}],84:[function(a,k,g){g.__esModule=!0;var l=function(){function b(b,c){for(var e=0;e<c.length;e++){var a=c[e];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}return function(e,a,c){a&&b(e.prototype,a);c&&b(e,c);return e}}(),h=(k=a("./extractUniformsFromSrc"))&&k.__esModule?k:{"default":k},f=a("../../../utils"),d=a("../../../const"),
c={};a=function(){function b(e,a,g){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.vertexSrc=e||b.defaultVertexSrc;this.fragmentSrc=a||b.defaultFragmentSrc;this.blendMode=d.BLEND_MODES.NORMAL;this.uniformData=g||(0,h["default"])(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var m in this.uniformData)this.uniforms[m]=this.uniformData[m].value;this.glShaders={};c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=
(0,f.uid)());this.glShaderKey=c[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=1;this.enabled=!0}b.prototype.apply=function(b,a,c,d){b.applyFilter(this,a,c,d)};l(b,null,[{key:"defaultVertexSrc",get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}"}},
{key:"defaultFragmentSrc",get:function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}"}}]);
return b}();g["default"]=a},{"../../../const":44,"../../../utils":119,"./extractUniformsFromSrc":85}],85:[function(a,k,g){function l(a){var d=/^(projectionMatrix|uSampler|filterArea)$/,c={},b;a=a.replace(/\s+/g," ").split(/\s*;\s*/);for(var e=0;e<a.length;e++){var f=a[e].trim();if(-1<f.indexOf("uniform")){b=f.split(" ");var f=b[1],g=b[2],m=1;-1<g.indexOf("[")&&(b=g.split(/\[|]/),g=b[0],m*=Number(b[1]));g.match(d)||(c[g]={value:h(f,m),name:g,type:f})}}return c}g.__esModule=!0;g["default"]=function(a,
d,c){a=l(a,c);d=l(d,c);return Object.assign(a,d)};a=a("pixi-gl-core");var h=(a&&a.__esModule?a:{"default":a})["default"].shader.defaultValue},{"pixi-gl-core":12}],86:[function(a,k,g){g.__esModule=!0;g.calculateScreenSpaceMatrix=function(a,f,d){a=a.identity();a.translate(f.x/d.width,f.y/d.height);a.scale(d.width,d.height);return a};g.calculateNormalizedScreenSpaceMatrix=function(a,f,d){a=a.identity();a.translate(f.x/d.width,f.y/d.height);a.scale(d.width/f.width,d.height/f.height);return a};g.calculateSpriteMatrix=
function(a,f,d,c){var b=c.worldTransform.copy(l.Matrix.TEMP_MATRIX),e=c._texture.baseTexture;a=a.identity();var n=d.height/d.width;a.translate(f.x/d.width,f.y/d.height);a.scale(1,n);f=d.width/e.width;d=d.height/e.height;b.tx/=e.width*f;b.ty/=e.width*f;b.invert();a.prepend(b);a.scale(1,1/n);a.scale(f,d);a.translate(c.anchor.x,c.anchor.y);return a};var l=a("../../../math")},{"../../../math":68}],87:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;k=(k=a("../Filter"))&&k.__esModule?k:{"default":k};var h=a("../../../../math");a("path");a=function(a){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b=new h.Matrix,e;e=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;c.renderable=!1;e.maskSprite=c;e.maskMatrix=b;return e}l(d,a);d.prototype.apply=function(a,b,e){var c=this.maskSprite;this.uniforms.mask=c._texture;this.uniforms.otherMatrix=a.calculateSpriteMatrix(this.maskMatrix,c);this.uniforms.alpha=c.worldAlpha;a.applyFilter(this,b,e)};return d}(k["default"]);g["default"]=a},{"../../../../math":68,"../Filter":84,
path:22}],88:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);b.prototype=Object.create(e&&e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(b,e):b.__proto__=e)}function f(b,e){if(!(b instanceof e))throw new TypeError("Cannot call a class as a function");}g.__esModule=
!0;k=a("./WebGLManager");k=l(k);var d=a("../utils/RenderTarget"),c=l(d),d=a("../utils/Quad"),b=l(d),e=a("../../../math"),d=a("../../../Shader"),n=l(d),p=function(b){if(b&&b.__esModule)return b;var e={};if(null!=b)for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(e[a]=b[a]);e["default"]=b;return e}(a("../filters/filterTransforms"));a=a("bit-twiddle");var m=l(a),q=function B(){f(this,B);this.renderTarget=null;this.sourceFrame=new e.Rectangle;this.destinationFrame=new e.Rectangle;this.filters=
[];this.target=null;this.resolution=1};a=function(e){function a(c){f(this,a);var d;d=e.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.gl=d.renderer.gl;d.quad=new b["default"](d.gl,c.state.attribState);d.shaderCache={};d.pool={};d.filterData=null;return d}h(a,e);a.prototype.pushFilter=function(b,e){var a=this.renderer,c=this.filterData;if(!c){var d=new q;d.sourceFrame=d.destinationFrame=
this.renderer._activeRenderTarget.size;d.renderTarget=a._activeRenderTarget;this.filterData=this.renderer._activeRenderTarget.filterData=c={index:0,stack:[d]}}(d=c.stack[++c.index])||(d=c.stack[c.index]=new q);var f=e[0].resolution,m=e[0].padding|0,n=b.filterArea||b.getBounds(!0),h=d.sourceFrame,g=d.destinationFrame;h.x=(n.x*f|0)/f;h.y=(n.y*f|0)/f;h.width=(n.width*f|0)/f;h.height=(n.height*f|0)/f;c.stack[0].renderTarget.transform||h.fit(c.stack[0].destinationFrame);h.pad(m);g.width=h.width;g.height=
h.height;c=this.getPotRenderTarget(a.gl,h.width,h.height,f);d.target=b;d.filters=e;d.resolution=f;d.renderTarget=c;c.setFrame(g,h);a.bindRenderTarget(c);c.clear()};a.prototype.popFilter=function(){var b=this.filterData,e=b.stack[b.index-1],a=b.stack[b.index];this.quad.map(a.renderTarget.size,a.sourceFrame).upload();var c=a.filters;if(1===c.length)c[0].apply(this,a.renderTarget,e.renderTarget,!1),this.freePotRenderTarget(a.renderTarget);else{var d=a.renderTarget,f=this.getPotRenderTarget(this.renderer.gl,
a.sourceFrame.width,a.sourceFrame.height,a.resolution);f.setFrame(a.destinationFrame,a.sourceFrame);f.clear();for(a=0;a<c.length-1;++a){c[a].apply(this,d,f,!0);var m=d,d=f,f=m}c[a].apply(this,d,e.renderTarget,!0);this.freePotRenderTarget(d);this.freePotRenderTarget(f)}b.index--;0===b.index&&(this.filterData=null)};a.prototype.applyFilter=function(b,e,a,c){var d=this.renderer,f=d.gl,m=b.glShaders[d.CONTEXT_UID];m||(b.glShaderKey?(m=this.shaderCache[b.glShaderKey],m||(m=new n["default"](this.gl,b.vertexSrc,
b.fragmentSrc),b.glShaders[d.CONTEXT_UID]=this.shaderCache[b.glShaderKey]=m)):m=b.glShaders[d.CONTEXT_UID]=new n["default"](this.gl,b.vertexSrc,b.fragmentSrc),d.bindVao(null),this.quad.initVao(m));d.bindVao(this.quad.vao);d.bindRenderTarget(a);c&&(f.disable(f.SCISSOR_TEST),d.clear(),f.enable(f.SCISSOR_TEST));a===d.maskManager.scissorRenderTarget&&d.maskManager.pushScissorMask(null,d.maskManager.scissorData);d.bindShader(m);this.syncUniforms(m,b);d.state.setBlendMode(b.blendMode);b=this.renderer.boundTextures[0];
f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,e.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);f.bindTexture(f.TEXTURE_2D,b._glTextures[this.renderer.CONTEXT_UID].texture)};a.prototype.syncUniforms=function(b,e){var a=e.uniformData,c=e.uniforms,d=1,f;if(b.uniforms.data.filterArea){f=this.filterData.stack[this.filterData.index];var m=b.uniforms.filterArea;m[0]=f.renderTarget.size.width;m[1]=f.renderTarget.size.height;m[2]=f.sourceFrame.x;m[3]=f.sourceFrame.y;b.uniforms.filterArea=
m}b.uniforms.data.filterClamp&&(f=this.filterData.stack[this.filterData.index],m=b.uniforms.filterClamp,m[0]=0,m[1]=0,m[2]=(f.sourceFrame.width-1)/f.renderTarget.size.width,m[3]=(f.sourceFrame.height-1)/f.renderTarget.size.height,b.uniforms.filterClamp=m);for(var n in a)"sampler2D"===a[n].type&&0!==c[n]?(c[n].baseTexture?b.uniforms[n]=this.renderer.bindTexture(c[n].baseTexture,d):(b.uniforms[n]=d,f=this.renderer.gl,this.renderer.boundTextures[d]=this.renderer.emptyTextures[d],f.activeTexture(f.TEXTURE0+
d),c[n].texture.bind()),d++):"mat3"===a[n].type?b.uniforms[n]=void 0!==c[n].a?c[n].toArray(!0):c[n]:"vec2"===a[n].type?void 0!==c[n].x?(f=b.uniforms[n]||new Float32Array(2),f[0]=c[n].x,f[1]=c[n].y,b.uniforms[n]=f):b.uniforms[n]=c[n]:"float"===a[n].type?b.uniforms.data[n].value!==a[n]&&(b.uniforms[n]=c[n]):b.uniforms[n]=c[n]};a.prototype.getRenderTarget=function(b,e){var a=this.filterData.stack[this.filterData.index],c=this.getPotRenderTarget(this.renderer.gl,a.sourceFrame.width,a.sourceFrame.height,
e||a.resolution);c.setFrame(a.destinationFrame,a.sourceFrame);return c};a.prototype.returnRenderTarget=function(b){this.freePotRenderTarget(b)};a.prototype.calculateScreenSpaceMatrix=function(b){var e=this.filterData.stack[this.filterData.index];return p.calculateScreenSpaceMatrix(b,e.sourceFrame,e.renderTarget.size)};a.prototype.calculateNormalizedScreenSpaceMatrix=function(b){var e=this.filterData.stack[this.filterData.index];return p.calculateNormalizedScreenSpaceMatrix(b,e.sourceFrame,e.renderTarget.size,
e.destinationFrame)};a.prototype.calculateSpriteMatrix=function(b,e){var a=this.filterData.stack[this.filterData.index];return p.calculateSpriteMatrix(b,a.sourceFrame,a.renderTarget.size,e)};a.prototype.destroy=function(){this.shaderCache=[];this.emptyPool()};a.prototype.getPotRenderTarget=function(b,e,a,d){e=m["default"].nextPow2(e*d);a=m["default"].nextPow2(a*d);var f=(e&65535)<<16|a&65535;this.pool[f]||(this.pool[f]=[]);f=this.pool[f].pop();if(!f){var n=this.renderer.boundTextures[0];b.activeTexture(b.TEXTURE0);
f=new c["default"](b,e,a,null,1);b.bindTexture(b.TEXTURE_2D,n._glTextures[this.renderer.CONTEXT_UID].texture)}f.resolution=d;f.defaultFrame.width=f.size.width=e/d;f.defaultFrame.height=f.size.height=a/d;return f};a.prototype.emptyPool=function(){for(var b in this.pool){var e=this.pool[b];if(e)for(var a=0;a<e.length;a++)e[a].destroy(!0)}this.pool={}};a.prototype.freePotRenderTarget=function(b){this.pool[(b.size.width*b.resolution&65535)<<16|b.size.height*b.resolution&65535].push(b)};return a}(k["default"]);
g["default"]=a},{"../../../Shader":42,"../../../math":68,"../filters/filterTransforms":86,"../utils/Quad":93,"../utils/RenderTarget":94,"./WebGLManager":91,"bit-twiddle":1}],89:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=
d)}g.__esModule=!0;k=(k=a("./WebGLManager"))&&k.__esModule?k:{"default":k};var h=(a=a("../filters/spriteMask/SpriteMaskFilter"))&&a.__esModule?a:{"default":a};a=function(a){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.scissor=!1;c.scissorData=null;c.scissorRenderTarget=null;c.enableScissor=
!0;c.alphaMaskPool=[];c.alphaMaskIndex=0;return c}l(d,a);d.prototype.pushMask=function(a,b){if(b.texture)this.pushSpriteMask(a,b);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&b.isFastRect()){var e=b.worldTransform,e=Math.atan2(e.b,e.a),e=Math.round(180/Math.PI*e);e%90?this.pushStencilMask(b):this.pushScissorMask(a,b)}else this.pushStencilMask(b)};d.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,
b):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(a,b):this.popStencilMask(a,b)};d.prototype.pushSpriteMask=function(a,b){var e=this.alphaMaskPool[this.alphaMaskIndex];e||(e=this.alphaMaskPool[this.alphaMaskIndex]=[new h["default"](b)]);e[0].resolution=this.renderer.resolution;e[0].maskSprite=b;a.filterArea=b.getBounds(!0);this.renderer.filterManager.pushFilter(a,e);this.alphaMaskIndex++};d.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter();
this.alphaMaskIndex--};d.prototype.pushStencilMask=function(a){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(a)};d.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};d.prototype.pushScissorMask=function(a,b){b.renderable=!0;var e=this.renderer._activeRenderTarget,c=b.getBounds();c.fit(e.size);b.renderable=!1;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var d=this.renderer.resolution;this.renderer.gl.scissor(c.x*
d,(e.root?e.size.height-c.y-c.height:c.y)*d,c.width*d,c.height*d);this.scissorRenderTarget=e;this.scissorData=b;this.scissor=!0};d.prototype.popScissorMask=function(){this.scissorData=this.scissorRenderTarget=null;this.scissor=!1;var a=this.renderer.gl;a.disable(a.SCISSOR_TEST)};return d}(k["default"]);g["default"]=a},{"../filters/spriteMask/SpriteMaskFilter":87,"./WebGLManager":91}],90:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+
typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;var h=(a=a("./WebGLManager"))&&a.__esModule?a:{"default":a};a=function(a){function d(c){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&
"function"!==typeof c?this:c;c.stencilMaskStack=null;return c}l(d,a);d.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;0===a.length?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)};d.prototype.pushStencil=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var b=this.renderer.gl,e=this.stencilMaskStack;0===e.length&&(b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(b.ALWAYS,
1,1));e.push(a);b.colorMask(!1,!1,!1,!1);b.stencilOp(b.KEEP,b.KEEP,b.INCR);this.renderer.plugins.graphics.render(a);b.colorMask(!0,!0,!0,!0);b.stencilFunc(b.NOTEQUAL,0,e.length);b.stencilOp(b.KEEP,b.KEEP,b.KEEP)};d.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var a=this.renderer.gl,b=this.stencilMaskStack,e=b.pop();0===b.length?a.disable(a.STENCIL_TEST):(a.colorMask(!1,!1,!1,!1),a.stencilOp(a.KEEP,a.KEEP,a.DECR),this.renderer.plugins.graphics.render(e),
a.colorMask(!0,!0,!0,!0),a.stencilFunc(a.NOTEQUAL,0,b.length),a.stencilOp(a.KEEP,a.KEEP,a.KEEP))};d.prototype.destroy=function(){h["default"].prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null};return d}(h["default"]);g["default"]=a},{"./WebGLManager":91}],91:[function(a,k,g){g.__esModule=!0;a=function(){function a(h){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=h;this.renderer.on("context",this.onContextChange,this)}a.prototype.onContextChange=
function(){};a.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this);this.renderer=null};return a}();g["default"]=a},{}],92:[function(a,k,g){function l(a,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}g.__esModule=!0;
a=a("../managers/WebGLManager");a=function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var d=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}l(f,a);f.prototype.start=function(){};f.prototype.stop=function(){this.flush()};f.prototype.flush=function(){};f.prototype.render=function(a){};return f}((a&&a.__esModule?a:{"default":a})["default"]);
g["default"]=a},{"../managers/WebGLManager":91}],93:[function(a,k,g){g.__esModule=!0;var l=(k=a("pixi-gl-core"))&&k.__esModule?k:{"default":k},h=(a=a("../../../utils/createIndicesForQuads"))&&a.__esModule?a:{"default":a};a=function(){function a(d,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=d;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(16);for(var b=0;4>b;b++)this.interleaved[4*
b]=this.vertices[2*b],this.interleaved[4*b+1]=this.vertices[2*b+1],this.interleaved[4*b+2]=this.uvs[2*b],this.interleaved[4*b+3]=this.uvs[2*b+1];this.indices=(0,h["default"])(1);this.vertexBuffer=l["default"].GLBuffer.createVertexBuffer(d,this.interleaved,d.STATIC_DRAW);this.indexBuffer=l["default"].GLBuffer.createIndexBuffer(d,this.indices,d.STATIC_DRAW);this.vao=new l["default"].VertexArrayObject(d,c)}a.prototype.initVao=function(a){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,
a.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,a.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)};a.prototype.map=function(a,c){var b=0,e=0;this.uvs[0]=b;this.uvs[1]=e;this.uvs[2]=b+c.width/a.width;this.uvs[3]=e;this.uvs[4]=b+c.width/a.width;this.uvs[5]=e+c.height/a.height;this.uvs[6]=b;this.uvs[7]=e+c.height/a.height;b=c.x;e=c.y;this.vertices[0]=b;this.vertices[1]=e;this.vertices[2]=b+c.width;this.vertices[3]=e;this.vertices[4]=b+c.width;this.vertices[5]=e+c.height;
this.vertices[6]=b;this.vertices[7]=e+c.height;return this};a.prototype.upload=function(){for(var a=0;4>a;a++)this.interleaved[4*a]=this.vertices[2*a],this.interleaved[4*a+1]=this.vertices[2*a+1],this.interleaved[4*a+2]=this.uvs[2*a],this.interleaved[4*a+3]=this.uvs[2*a+1];this.vertexBuffer.upload(this.interleaved);return this};a.prototype.destroy=function(){var a=this.gl;a.deleteBuffer(this.vertexBuffer);a.deleteBuffer(this.indexBuffer)};return a}();g["default"]=a},{"../../../utils/createIndicesForQuads":117,
"pixi-gl-core":12}],94:[function(a,k,g){g.__esModule=!0;var l=a("../../../math"),h=a("../../../const"),f=(k=a("../../../settings"))&&k.__esModule?k:{"default":k},d=a("pixi-gl-core");a=function(){function a(b,e,c,g,m,q){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=b;this.texture=this.frameBuffer=null;this.clearColor=[0,0,0,0];this.size=new l.Rectangle(0,0,1,1);this.resolution=m||f["default"].RESOLUTION;this.projectionMatrix=new l.Matrix;this.frame=this.transform=
null;this.defaultFrame=new l.Rectangle;this.stencilBuffer=this.sourceFrame=this.destinationFrame=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=g||f["default"].SCALE_MODE;(this.root=q)?(this.frameBuffer=new d.GLFramebuffer(b,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=d.GLFramebuffer.createRGBA(b,100,100),this.scaleMode===h.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture);
this.setFrame();this.resize(e,c)}a.prototype.clear=function(b){b=b||this.clearColor;this.frameBuffer.clear(b[0],b[1],b[2],b[3])};a.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()};a.prototype.setFrame=function(b,a){this.destinationFrame=b||this.destinationFrame||this.defaultFrame;this.sourceFrame=a||this.sourceFrame||b};a.prototype.activate=function(){var b=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);this.transform&&
this.projectionMatrix.append(this.transform);this.destinationFrame!==this.sourceFrame?(b.enable(b.SCISSOR_TEST),b.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):b.disable(b.SCISSOR_TEST);b.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};a.prototype.calculateProjection=function(b,a){var e=
this.projectionMatrix;a=a||b;e.identity();this.root?(e.a=1/b.width*2,e.d=-1/b.height*2,e.tx=-1-a.x*e.a,e.ty=1-a.y*e.d):(e.a=1/b.width*2,e.d=1/b.height*2,e.tx=-1-a.x*e.a,e.ty=-1-a.y*e.d)};a.prototype.resize=function(b,a){b|=0;a|=0;if(this.size.width!==b||this.size.height!==a)this.size.width=b,this.size.height=a,this.defaultFrame.width=b,this.defaultFrame.height=a,this.frameBuffer.resize(b*this.resolution,a*this.resolution),this.calculateProjection(this.frame||this.size)};a.prototype.destroy=function(){this.frameBuffer.destroy();
this.texture=this.frameBuffer=null};return a}();g["default"]=a},{"../../../const":44,"../../../math":68,"../../../settings":99,"pixi-gl-core":12}],95:[function(a,k,g){function l(a){for(var c="",b=0;b<a;++b)0<b&&(c+="\nelse "),b<a-1&&(c+="if(test == "+b+".0){}");return c}g.__esModule=!0;g["default"]=function(a,c){var b=!c;if(0===a)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(b){var e=document.createElement("canvas");e.width=1;e.height=1;c=h["default"].createContext(e)}for(e=
c.createShader(c.FRAGMENT_SHADER);;){var d=f.replace(/%forloop%/gi,l(a));c.shaderSource(e,d);c.compileShader(e);if(c.getShaderParameter(e,c.COMPILE_STATUS))break;else a=a/2|0}b&&c.getExtension("WEBGL_lose_context")&&c.getExtension("WEBGL_lose_context").loseContext();return a};var h=(a=a("pixi-gl-core"))&&a.__esModule?a:{"default":a},f="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}"},{"pixi-gl-core":12}],96:[function(a,k,g){g.__esModule=!0;g["default"]=
function(a){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];f[l.BLEND_MODES.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.ADD]=[a.ONE,a.DST_ALPHA];f[l.BLEND_MODES.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.SCREEN]=[a.ONE,a.ONE_MINUS_SRC_COLOR];f[l.BLEND_MODES.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];
f[l.BLEND_MODES.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];f[l.BLEND_MODES.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA];
return f};var l=a("../../../const")},{"../../../const":44}],97:[function(a,k,g){g.__esModule=!0;g["default"]=function(a){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};f[l.DRAW_MODES.POINTS]=a.POINTS;f[l.DRAW_MODES.LINES]=a.LINES;f[l.DRAW_MODES.LINE_LOOP]=a.LINE_LOOP;f[l.DRAW_MODES.LINE_STRIP]=a.LINE_STRIP;f[l.DRAW_MODES.TRIANGLES]=a.TRIANGLES;f[l.DRAW_MODES.TRIANGLE_STRIP]=a.TRIANGLE_STRIP;f[l.DRAW_MODES.TRIANGLE_FAN]=a.TRIANGLE_FAN;return f};var l=a("../../../const")},{"../../../const":44}],
98:[function(a,k,g){g.__esModule=!0;g["default"]=function(a){a.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],99:[function(a,k,g){g.__esModule=!0;k=(k=a("./utils/maxRecommendedTextures"))&&k.__esModule?k:{"default":k};a=(a=a("./utils/canUploadSameBuffer"))&&a.__esModule?a:{"default":a};g["default"]={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,k["default"])(32),
SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@(.+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,a["default"])()}},{"./utils/canUploadSameBuffer":116,"./utils/maxRecommendedTextures":120}],100:[function(a,k,g){function l(b,a){if("function"!==typeof a&&null!==
a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var h=function(){function b(b,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(a,e,c){e&&b(a.prototype,
e);c&&b(a,c);return a}}(),f=a("../math"),d=a("../utils"),c=a("../const"),b=(k=a("../textures/Texture"))&&k.__esModule?k:{"default":k};a=(a=a("../display/Container"))&&a.__esModule?a:{"default":a};var e=new f.Point;a=function(a){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var d;d=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d._anchor=
new f.ObservablePoint(d._onAnchorUpdate,d);d._texture=null;d._width=0;d._height=0;d._tint=null;d._tintRGB=null;d.tint=16777215;d.blendMode=c.BLEND_MODES.NORMAL;d.shader=null;d.cachedTint=16777215;d.texture=e||b["default"].EMPTY;d.vertexData=new Float32Array(8);d.vertexTrimmedData=null;d._transformID=-1;d._textureID=-1;d._transformTrimmedID=-1;d._textureTrimmedID=-1;d.pluginName="sprite";return d}l(n,a);n.prototype._onTextureUpdate=function(){this._textureTrimmedID=this._textureID=-1;this._width&&
(this.scale.x=(0,d.sign)(this.scale.x)*this._width/this.texture.orig.width);this._height&&(this.scale.y=(0,d.sign)(this.scale.y)*this._height/this.texture.orig.height)};n.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=-1};n.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var b=this._texture,a=this.transform.worldTransform,
e=a.a,c=a.b,d=a.c,f=a.d,n=a.tx,a=a.ty,h=this.vertexData,g=b.trim,p=b.orig,l=this._anchor,k;g?(k=g.x-l._x*p.width,b=k+g.width,p=g.y-l._y*p.height,g=p+g.height):(b=p.width*(1-l._x),k=p.width*-l._x,g=p.height*(1-l._y),p=p.height*-l._y);h[0]=e*k+d*p+n;h[1]=f*p+c*k+a;h[2]=e*b+d*p+n;h[3]=f*p+c*b+a;h[4]=e*b+d*g+n;h[5]=f*g+c*b+a;h[6]=e*k+d*g+n;h[7]=f*g+c*k+a}};n.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===
this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var b=this.vertexTrimmedData,a=this._texture.orig,e=this._anchor,c=this.transform.worldTransform,d=c.a,f=c.b,n=c.c,h=c.d,g=c.tx,c=c.ty,p=a.width*(1-e._x),l=a.width*-e._x,k=a.height*(1-e._y),a=a.height*-e._y;b[0]=d*l+n*a+g;b[1]=h*a+f*l+c;b[2]=d*p+n*a+g;b[3]=h*a+f*p+c;b[4]=d*p+n*k+g;b[5]=h*k+f*p+c;b[6]=d*l+n*k+g;b[7]=h*k+f*l+
c};n.prototype._renderWebGL=function(b){this.calculateVertices();b.setObjectRenderer(b.plugins[this.pluginName]);b.plugins[this.pluginName].render(this)};n.prototype._renderCanvas=function(b){b.plugins[this.pluginName].render(this)};n.prototype._calculateBounds=function(){var b=this._texture.trim,a=this._texture.orig;!b||b.width===a.width&&b.height===a.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};
n.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),b||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)};n.prototype.containsPoint=
function(b){this.worldTransform.applyInverse(b,e);var a=this._texture.orig.width;b=this._texture.orig.height;var c=-a*this.anchor.x;return e.x>c&&e.x<c+a&&(a=-b*this.anchor.y,e.y>a&&e.y<a+b)?!0:!1};n.prototype.destroy=function(b){a.prototype.destroy.call(this,b);this._anchor=null;("boolean"===typeof b?b:b&&b.texture)&&this._texture.destroy(!!("boolean"===typeof b?b:b&&b.baseTexture));this.shader=this._texture=null};n.from=function(a){return new n(b["default"].from(a))};n.fromFrame=function(b){var a=
d.TextureCache[b];if(!a)throw Error('The frameId "'+b+'" does not exist in the texture cache');return new n(a)};n.fromImage=function(a,e,c){return new n(b["default"].fromImage(a,e,c))};h(n,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(b){var a=(0,d.sign)(this.scale.x)||1;this.scale.x=a*b/this._texture.orig.width;this._width=b}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(b){var a=(0,d.sign)(this.scale.y)||
1;this.scale.y=a*b/this._texture.orig.height;this._height=b}},{key:"anchor",get:function(){return this._anchor},set:function(b){this._anchor.copy(b)}},{key:"tint",get:function(){return this._tint},set:function(b){this._tint=b;this._tintRGB=(b>>16)+(b&65280)+((b&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(b){if(this._texture!==b&&(this._texture=b,this.cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,b))if(b.baseTexture.hasLoaded)this._onTextureUpdate();
else b.once("update",this._onTextureUpdate,this)}}]);return n}(a["default"]);g["default"]=a},{"../const":44,"../display/Container":46,"../math":68,"../textures/Texture":111,"../utils":119}],101:[function(a,k,g){g.__esModule=!0;k=(k=a("../../renderers/canvas/CanvasRenderer"))&&k.__esModule?k:{"default":k};var l=a("../../const"),h=a("../../math"),f=(a=a("./CanvasTinter"))&&a.__esModule?a:{"default":a},d=new h.Matrix;a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.renderer=b}a.prototype.render=function(b){var a=b._texture,c=this.renderer,g=a._frame.width,m=a._frame.height,q=b.transform.worldTransform,k,B;0>=a.orig.width||0>=a.orig.height||!a.baseTexture.source||(c.setBlendMode(b.blendMode),a.valid&&(c.context.globalAlpha=b.worldAlpha,k=a.baseTexture.scaleMode===l.SCALE_MODES.LINEAR,c.smoothProperty&&c.context[c.smoothProperty]!==k&&(c.context[c.smoothProperty]=k),a.trim?(k=a.trim.width/2+a.trim.x-b.anchor.x*a.orig.width,B=a.trim.height/2+a.trim.y-b.anchor.y*
a.orig.height):(k=(.5-b.anchor.x)*a.orig.width,B=(.5-b.anchor.y)*a.orig.height),a.rotate&&(q.copy(d),q=d,h.GroupD8.matrixAppendRotationInv(q,a.rotate,k,B),B=k=0),k-=g/2,B-=m/2,c.roundPixels?(c.context.setTransform(q.a,q.b,q.c,q.d,q.tx*c.resolution|0,q.ty*c.resolution|0),k|=0,B|=0):c.context.setTransform(q.a,q.b,q.c,q.d,q.tx*c.resolution,q.ty*c.resolution),q=a.baseTexture.resolution,16777215!==b.tint?(b.cachedTint!==b.tint&&(b.cachedTint=b.tint,b.tintedTexture=f["default"].getTintedTexture(b,b.tint)),
c.context.drawImage(b.tintedTexture,0,0,g*q,m*q,k*c.resolution,B*c.resolution,g*c.resolution,m*c.resolution)):c.context.drawImage(a.baseTexture.source,a._frame.x*q,a._frame.y*q,g*q,m*q,k*c.resolution,B*c.resolution,g*c.resolution,m*c.resolution)))};a.prototype.destroy=function(){this.renderer=null};return a}();g["default"]=a;k["default"].registerPlugin("sprite",a)},{"../../const":44,"../../math":68,"../../renderers/canvas/CanvasRenderer":75,"./CanvasTinter":102}],102:[function(a,k,g){g.__esModule=
!0;var l=a("../../utils");a=(a=a("../../renderers/canvas/utils/canUseNewCanvasBlendModes"))&&a.__esModule?a:{"default":a};var h={getTintedTexture:function(a,d){var c=a.texture;d=h.roundColor(d);var b="#"+("00000"+(d|0).toString(16)).substr(-6);c.tintCache=c.tintCache||{};if(c.tintCache[b])return c.tintCache[b];var e=h.canvas||document.createElement("canvas");h.tintMethod(c,d,e);if(h.convertTintToImage){var f=new Image;f.src=e.toDataURL();c.tintCache[b]=f}else c.tintCache[b]=e,h.canvas=null;return e},
tintWithMultiply:function(a,d,c){var b=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=e.width;c.height=e.height;b.fillStyle="#"+("00000"+(d|0).toString(16)).substr(-6);b.fillRect(0,0,e.width,e.height);b.globalCompositeOperation="multiply";b.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);b.globalCompositeOperation="destination-atop";b.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)},
tintWithOverlay:function(a,d,c){var b=c.getContext("2d"),e=a._frame.clone(),f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=e.width;c.height=e.height;b.globalCompositeOperation="copy";b.fillStyle="#"+("00000"+(d|0).toString(16)).substr(-6);b.fillRect(0,0,e.width,e.height);b.globalCompositeOperation="destination-atop";b.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)},tintWithPerPixel:function(a,d,c){var b=c.getContext("2d"),e=a._frame.clone(),
f=a.baseTexture.resolution;e.x*=f;e.y*=f;e.width*=f;e.height*=f;c.width=e.width;c.height=e.height;b.globalCompositeOperation="copy";b.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height);c=(0,l.hex2rgb)(d);a=c[0];d=c[1];c=c[2];for(var e=b.getImageData(0,0,e.width,e.height),f=e.data,h=0;h<f.length;h+=4)f[h+0]*=a,f[h+1]*=d,f[h+2]*=c;b.putImageData(e,0,0)},roundColor:function(a){var d=h.cacheStepsPerColorChannel;a=(0,l.hex2rgb)(a);a[0]=Math.min(255,a[0]/d*d);a[1]=Math.min(255,
a[1]/d*d);a[2]=Math.min(255,a[2]/d*d);return(0,l.rgb2hex)(a)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,a["default"])(),tintMethod:0};h.tintMethod=h.canUseMultiply?h.tintWithMultiply:h.tintWithPerPixel;g["default"]=h},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":78,"../../utils":119}],103:[function(a,k,g){g.__esModule=!0;a=function(){function a(h){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.vertices=new ArrayBuffer(h);
this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}a.prototype.destroy=function(){this.colors=this.uvs=this.positions=this.vertices=null};return a}();g["default"]=a},{}],104:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,
writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;k=a("../../renderers/webgl/utils/ObjectRenderer");k=l(k);var f=a("../../renderers/webgl/WebGLRenderer"),f=l(f),d=a("../../utils/createIndicesForQuads"),c=l(d),d=a("./generateMultiTextureShader"),b=l(d),d=a("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),e=l(d),d=a("./BatchBuffer"),n=l(d),d=a("../../settings"),p=l(d),d=a("pixi-gl-core"),m=l(d);a=a("bit-twiddle");var q=l(a),
A=0,B=0;a=function(a){function d(b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");b=a.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.vertSize=5;b.vertByteSize=4*b.vertSize;b.size=p["default"].SPRITE_BATCH_SIZE;b.buffers=[];for(var e=1;e<=q["default"].nextPow2(b.size);e*=2)b.buffers.push(new n["default"](4*e*b.vertByteSize));b.indices=(0,c["default"])(b.size);
b.shader=null;A=b.currentIndex=0;b.groups=[];for(e=0;e<b.size;e++)b.groups[e]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};b.sprites=[];b.vertexBuffers=[];b.vaos=[];b.vaoMax=2;b.vertexCount=0;b.renderer.on("prerender",b.onPrerender,b);return b}h(d,a);d.prototype.onContextChange=function(){var a=this.renderer.gl;this.MAX_TEXTURES=Math.min(a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),p["default"].SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=(0,e["default"])(this.MAX_TEXTURES,a);var c=this.shader=
(0,b["default"])(a,this.MAX_TEXTURES);this.indexBuffer=m["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);this.renderer.bindVao(null);for(var d=0;d<this.vaoMax;d++)this.vertexBuffers[d]=m["default"].GLBuffer.createVertexBuffer(a,null,a.STREAM_DRAW),this.vaos[d]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[d],c.attributes.aVertexPosition,a.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[d],c.attributes.aTextureCoord,a.UNSIGNED_SHORT,
!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[d],c.attributes.aColor,a.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[d],c.attributes.aTextureId,a.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=Array(this.MAX_TEXTURES)};d.prototype.onPrerender=function(){this.vertexCount=0};d.prototype.render=function(b){this.currentIndex>=this.size&&this.flush();b._texture._uvs&&(this.sprites[this.currentIndex++]=b)};d.prototype.flush=
function(){if(0!==this.currentIndex){var b=this.renderer.gl,a=this.MAX_TEXTURES,e=q["default"].nextPow2(this.currentIndex),e=q["default"].log2(e),c=this.buffers[e],d=this.sprites,e=this.groups,f=c.float32View,n=c.uint32View,h=this.boundTextures,g=this.renderer.boundTextures,l=this.renderer.textureGC.count,k=0,w,t=void 0,Q=1,R=0,L=e[0],I,N,S=d[0].blendMode;L.textureCount=0;L.start=0;L.blend=S;A++;var J;for(J=0;J<a;++J)h[J]=g[J],h[J]._virtalBoundId=J;for(J=0;J<this.currentIndex;++J){var P=d[J];w=P._texture.baseTexture;
S!==P.blendMode&&(S=P.blendMode,t=null,R=a,A++);if(t!==w&&(t=w,w._enabled!==A)){R===a&&(A++,L.size=J-L.start,R=0,L=e[Q++],L.blend=S,L.textureCount=0,L.start=J);w.touched=l;if(-1===w._virtalBoundId)for(I=0;I<a;++I){N=(I+B)%a;var K=h[N];if(K._enabled!==A){B++;K._virtalBoundId=-1;w._virtalBoundId=N;h[N]=w;break}}w._enabled=A;L.textureCount++;L.ids[R]=w._virtalBoundId;L.textures[R++]=w}I=P.vertexData;N=P._texture._uvs.uvsUint32;this.renderer.roundPixels?(K=this.renderer.resolution,f[k]=(I[0]*K|0)/K,f[k+
1]=(I[1]*K|0)/K,f[k+5]=(I[2]*K|0)/K,f[k+6]=(I[3]*K|0)/K,f[k+10]=(I[4]*K|0)/K,f[k+11]=(I[5]*K|0)/K,f[k+15]=(I[6]*K|0)/K,f[k+16]=(I[7]*K|0)/K):(f[k]=I[0],f[k+1]=I[1],f[k+5]=I[2],f[k+6]=I[3],f[k+10]=I[4],f[k+11]=I[5],f[k+15]=I[6],f[k+16]=I[7]);n[k+2]=N[0];n[k+7]=N[1];n[k+12]=N[2];n[k+17]=N[3];n[k+3]=n[k+8]=n[k+13]=n[k+18]=P._tintRGB+(255*Math.min(P.worldAlpha,1)<<24);f[k+4]=f[k+9]=f[k+14]=f[k+19]=w._virtalBoundId;k+=20}L.size=J-L.start;p["default"].CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(c.vertices,
0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=m["default"].GLBuffer.createVertexBuffer(b,null,b.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,b.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,b.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],
this.shader.attributes.aColor,b.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,b.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(c.vertices,0,!1),this.vertexCount++);for(J=0;J<a;++J)g[J]._virtalBoundId=-1;for(J=0;J<Q;++J){a=e[J];c=a.textureCount;for(d=0;d<c;d++)t=a.textures[d],g[a.ids[d]]!==t&&this.renderer.bindTexture(t,a.ids[d],!0),t._virtalBoundId=
-1;this.renderer.state.setBlendMode(a.blend);b.drawElements(b.TRIANGLES,6*a.size,b.UNSIGNED_SHORT,12*a.start)}this.currentIndex=0}};d.prototype.start=function(){this.renderer.bindShader(this.shader);p["default"].CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())};d.prototype.stop=function(){this.flush()};d.prototype.destroy=function(){for(var b=0;b<this.vaoMax;b++)this.vertexBuffers[b]&&this.vertexBuffers[b].destroy(),this.vaos[b]&&
this.vaos[b].destroy();this.indexBuffer&&this.indexBuffer.destroy();this.renderer.off("prerender",this.onPrerender,this);a.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.sprites=this.indices=this.indexBuffer=this.vaos=this.vertexBuffers=null;for(b=0;b<this.buffers.length;++b)this.buffers[b].destroy()};return d}(k["default"]);g["default"]=a;f["default"].registerPlugin("sprite",a)},{"../../renderers/webgl/WebGLRenderer":82,"../../renderers/webgl/utils/ObjectRenderer":92,
"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":95,"../../settings":99,"../../utils/createIndicesForQuads":117,"./BatchBuffer":103,"./generateMultiTextureShader":105,"bit-twiddle":1,"pixi-gl-core":12}],105:[function(a,k,g){function l(a){var c;c="\n\n";for(var b=0;b<a;b++)0<b&&(c+="\nelse "),b<a-1&&(c+="if(textureId == "+b+".0)"),c+="\n{",c+="\n\tcolor = texture2D(uSamplers["+b+"], vTextureCoord);",c+="\n}";return c+"\n\n"}g.__esModule=!0;g["default"]=function(a,c){for(var b=f,b=b.replace(/%count%/gi,
c),b=b.replace(/%forloop%/gi,l(c)),b=new h["default"](a,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
b),e=[],d=0;d<c;d++)e[d]=d;b.bind();b.uniforms.uSamplers=e;return b};var h=(k=a("../../Shader"))&&k.__esModule?k:{"default":k};a("path");var f="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\nvoid main(void){\nvec4 color;\nfloat textureId = floor(vTextureId+0.5);\n%forloop%\ngl_FragColor = color * vColor;\n}"},{"../../Shader":42,path:22}],106:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,a){if("function"!==
typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var f=function(){function b(b,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(a,
e,c){e&&b(a.prototype,e);c&&b(a,c);return a}}();k=a("../sprites/Sprite");k=l(k);var d=a("../textures/Texture"),c=l(d),b=a("../math"),e=a("../utils"),n=a("../const"),d=a("../settings"),p=l(d);a=a("./TextStyle");var m=l(a),q={texture:!0,children:!1,baseTexture:!0};a=function(a){function d(e,f,n){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");n=n||document.createElement("canvas");n.width=3;n.height=3;var m=c["default"].fromCanvas(n);m.orig=new b.Rectangle;m.trim=new b.Rectangle;
m=a.call(this,m);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.canvas=n;m.context=m.canvas.getContext("2d");m.resolution=p["default"].RESOLUTION;m._text=null;m._style=null;m._styleListener=null;m._font="";m.text=e;m.style=f;m.localStyleID=-1;return m}h(d,a);d.prototype.updateText=function(b){var a=this._style;this.localStyleID!==a.styleID&&(this.dirty=!0,this.localStyleID=a.styleID);if(this.dirty||
!b){this._font=d.getFontStyle(a);this.context.font=this._font;b=(a.wordWrap?this.wordWrap(this._text):this._text).split(/(?:\r\n|\r|\n)/);for(var e=Array(b.length),c=0,f=d.calculateFontProperties(this._font),m=0;m<b.length;m++){var n=this.context.measureText(b[m]).width+(b[m].length-1)*a.letterSpacing;e[m]=n;c=Math.max(c,n)}m=c+a.strokeThickness;a.dropShadow&&(m+=a.dropShadowDistance);this.canvas.width=Math.ceil((m+2*a.padding)*this.resolution);m=a.lineHeight||f.fontSize+a.strokeThickness;n=Math.max(m,
f.fontSize+a.strokeThickness)+(b.length-1)*m;a.dropShadow&&(n+=a.dropShadowDistance);this.canvas.height=Math.ceil((n+2*a.padding)*this.resolution);this.context.scale(this.resolution,this.resolution);this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=this._font;this.context.strokeStyle=a.stroke;this.context.lineWidth=a.strokeThickness;this.context.textBaseline=a.textBaseline;this.context.lineJoin=a.lineJoin;this.context.miterLimit=a.miterLimit;var h;if(a.dropShadow){0<
a.dropShadowBlur?(this.context.shadowColor=a.dropShadowColor,this.context.shadowBlur=a.dropShadowBlur):this.context.fillStyle=a.dropShadowColor;for(var g=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,k=Math.sin(a.dropShadowAngle)*a.dropShadowDistance,p=0;p<b.length;p++)n=a.strokeThickness/2,h=a.strokeThickness/2+p*m+f.ascent,"right"===a.align?n+=c-e[p]:"center"===a.align&&(n+=(c-e[p])/2),a.fill&&(this.drawLetterSpacing(b[p],n+g+a.padding,h+k+a.padding),a.stroke&&a.strokeThickness&&(this.context.strokeStyle=
a.dropShadowColor,this.drawLetterSpacing(b[p],n+g+a.padding,h+k+a.padding,!0),this.context.strokeStyle=a.stroke))}this.context.fillStyle=this._generateFillStyle(a,b);for(g=0;g<b.length;g++)n=a.strokeThickness/2,h=a.strokeThickness/2+g*m+f.ascent,"right"===a.align?n+=c-e[g]:"center"===a.align&&(n+=(c-e[g])/2),a.stroke&&a.strokeThickness&&this.drawLetterSpacing(b[g],n+a.padding,h+a.padding,!0),a.fill&&this.drawLetterSpacing(b[g],n+a.padding,h+a.padding);this.updateTexture()}};d.prototype.drawLetterSpacing=
function(b,a,e){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,d=this._style.letterSpacing;if(0===d)c?this.context.strokeText(b,a,e):this.context.fillText(b,a,e);else for(var f=String.prototype.split.call(b,""),m=a,n=0,h;n<b.length;)h=f[n++],c?this.context.strokeText(h,m,e):this.context.fillText(h,m,e),m+=this.context.measureText(h).width+d};d.prototype.updateTexture=function(){var b=this._texture,a=this._style;b.baseTexture.hasLoaded=!0;b.baseTexture.resolution=this.resolution;b.baseTexture.realWidth=
this.canvas.width;b.baseTexture.realHeight=this.canvas.height;b.baseTexture.width=this.canvas.width/this.resolution;b.baseTexture.height=this.canvas.height/this.resolution;b.trim.width=b._frame.width=this.canvas.width/this.resolution;b.trim.height=b._frame.height=this.canvas.height/this.resolution;b.trim.x=-a.padding;b.trim.y=-a.padding;b.orig.width=b._frame.width-2*a.padding;b.orig.height=b._frame.height-2*a.padding;this._onTextureUpdate();b.baseTexture.emit("update",b.baseTexture);this.dirty=!1};
d.prototype.renderWebGL=function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution,this.dirty=!0);this.updateText(!0);a.prototype.renderWebGL.call(this,b)};d.prototype._renderCanvas=function(b){this.resolution!==b.resolution&&(this.resolution=b.resolution,this.dirty=!0);this.updateText(!0);a.prototype._renderCanvas.call(this,b)};d.prototype.wordWrap=function(b){var a="",e=this._style;b=b.split("\n");for(var c=e.wordWrapWidth,d=0;d<b.length;d++){for(var f=c,m=b[d].split(" "),n=0;n<m.length;n++){var h=
this.context.measureText(m[n]).width;if(e.breakWords&&h>c)for(var h=m[n].split(""),g=0;g<h.length;g++){var p=this.context.measureText(h[g]).width;p>f?(a+="\n"+h[g],f=c-p):(0===g&&(a+=" "),a+=h[g],f-=p)}else g=h+this.context.measureText(" ").width,0===n||g>f?(0<n&&(a+="\n"),a+=m[n],f=c-h):(f-=g,a+=" "+m[n])}d<b.length-1&&(a+="\n")}return a};d.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};d.prototype._onStyleChange=function(){this.dirty=
!0};d.prototype._generateFillStyle=function(b,a){if(!Array.isArray(b.fill))return b.fill;if(navigator.isCocoonJS)return b.fill[0];var e,c,d,f;e=this.canvas.width/this.resolution;c=this.canvas.height/this.resolution;if(b.fillGradientType===n.TEXT_GRADIENT.LINEAR_VERTICAL){e=this.context.createLinearGradient(e/2,0,e/2,c);c=(b.fill.length+1)*a.length;for(var m=d=0;m<a.length;m++){d+=1;for(var h=0;h<b.fill.length;h++)f=d/c,e.addColorStop(f,b.fill[h]),d++}}else for(e=this.context.createLinearGradient(0,
c/2,e,c/2),c=b.fill.length+1,d=1,m=0;m<b.fill.length;m++)f=d/c,e.addColorStop(f,b.fill[m]),d++;return e};d.prototype.destroy=function(b){"boolean"===typeof b&&(b={children:b});b=Object.assign({},q,b);a.prototype.destroy.call(this,b);this._style=this.canvas=this.context=null};d.getFontStyle=function(b){b=b||{};b instanceof m["default"]||(b=new m["default"](b));var a="number"===typeof b.fontSize?b.fontSize+"px":b.fontSize,e=b.fontFamily;Array.isArray(b.fontFamily)||(e=b.fontFamily.split(","));for(var c=
e.length-1;0<=c;c--){var d=e[c].trim();/([\"\'])[^\'\"]+\1/.test(d)||(d='"'+d+'"');e[c]=d}return b.fontStyle+" "+b.fontVariant+" "+b.fontWeight+" "+a+" "+e.join(",")};d.calculateFontProperties=function(b){if(d.fontPropertiesCache[b])return d.fontPropertiesCache[b];var a={},e=d.fontPropertiesCanvas,c=d.fontPropertiesContext;c.font=b;var f=Math.ceil(c.measureText("|M\u00c9q").width),m=Math.ceil(c.measureText("M").width),n=2*m,m=1.4*m|0;e.width=f;e.height=n;c.fillStyle="#f00";c.fillRect(0,0,f,n);c.font=
b;c.textBaseline="alphabetic";c.fillStyle="#000";c.fillText("|M\u00c9q",0,m);var e=c.getImageData(0,0,f,n).data,c=e.length,f=4*f,h,g=0,p=!1;for(h=0;h<m;++h){for(var k=0;k<f;k+=4)if(255!==e[g+k]){p=!0;break}if(p)break;else g+=f}a.ascent=m-h;g=c-f;p=!1;for(h=n;h>m;--h){for(n=0;n<f;n+=4)if(255!==e[g+n]){p=!0;break}if(p)break;else g-=f}a.descent=h-m;a.fontSize=a.ascent+a.descent;return d.fontPropertiesCache[b]=a};f(d,[{key:"width",get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},
set:function(b){this.updateText(!0);var a=(0,e.sign)(this.scale.x)||1;this.scale.x=a*b/this._texture.orig.width;this._width=b}},{key:"height",get:function(){this.updateText(!0);return Math.abs(this.scale.y)*this._texture.orig.height},set:function(b){this.updateText(!0);var a=(0,e.sign)(this.scale.y)||1;this.scale.y=a*b/this._texture.orig.height;this._height=b}},{key:"style",get:function(){return this._style},set:function(b){b=b||{};this._style=b instanceof m["default"]?b:new m["default"](b);this.localStyleID=
-1;this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(b){b=String(b||" ");this._text!==b&&(this._text=b,this.dirty=!0)}}]);return d}(k["default"]);g["default"]=a;a.fontPropertiesCache={};a.fontPropertiesCanvas=document.createElement("canvas");a.fontPropertiesContext=a.fontPropertiesCanvas.getContext("2d")},{"../const":44,"../math":68,"../settings":99,"../sprites/Sprite":100,"../textures/Texture":111,"../utils":119,"./TextStyle":107}],107:[function(a,k,g){function l(b){if("number"===
typeof b)return(0,d.hex2string)(b);"string"===typeof b&&0===b.indexOf("0x")&&(b=b.replace("0x","#"));return b}function h(b){if(Array.isArray(b)){for(var a=0;a<b.length;++a)b[a]=l(b[a]);return b}return l(b)}g.__esModule=!0;var f=function(){function b(b,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}();k=a("../const");var d=a("../utils"),
c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",wordWrap:!1,wordWrapWidth:100};a=function(){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this.styleID=0;Object.assign(this,c,a)}b.prototype.clone=function(){var a={},d;for(d in c)a[d]=this[d];return new b(a)};b.prototype.reset=function(){Object.assign(this,c)};f(b,[{key:"align",get:function(){return this._align},set:function(b){this._align!==b&&(this._align=b,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(b){this._breakWords!==b&&(this._breakWords=b,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(b){this._dropShadow!==
b&&(this._dropShadow=b,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(b){this._dropShadowAngle!==b&&(this._dropShadowAngle=b,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(b){this._dropShadowBlur!==b&&(this._dropShadowBlur=b,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(b){b=h(b);this._dropShadowColor!==b&&(this._dropShadowColor=b,this.styleID++)}},
{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(b){this._dropShadowDistance!==b&&(this._dropShadowDistance=b,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(b){b=h(b);this._fill!==b&&(this._fill=b,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(b){this._fillGradientType!==b&&(this._fillGradientType=b,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(b){this.fontFamily!==
b&&(this._fontFamily=b,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(b){this._fontSize!==b&&(this._fontSize=b,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(b){this._fontStyle!==b&&(this._fontStyle=b,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(b){this._fontVariant!==b&&(this._fontVariant=b,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(b){this._fontWeight!==
b&&(this._fontWeight=b,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(b){this._letterSpacing!==b&&(this._letterSpacing=b,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(b){this._lineHeight!==b&&(this._lineHeight=b,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(b){this._lineJoin!==b&&(this._lineJoin=b,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},
set:function(b){this._miterLimit!==b&&(this._miterLimit=b,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(b){this._padding!==b&&(this._padding=b,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(b){b=h(b);this._stroke!==b&&(this._stroke=b,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(b){this._strokeThickness!==b&&(this._strokeThickness=b,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},
set:function(b){this._textBaseline!==b&&(this._textBaseline=b,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(b){this._wordWrap!==b&&(this._wordWrap=b,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(b){this._wordWrapWidth!==b&&(this._wordWrapWidth=b,this.styleID++)}}]);return b}();g["default"]=a},{"../const":44,"../utils":119}],108:[function(a,k,g){function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}g.__esModule=!0;k=(k=a("./BaseTexture"))&&k.__esModule?k:{"default":k};a=(a=a("../settings"))&&a.__esModule?a:{"default":a};var h=a["default"].RESOLUTION,f=a["default"].SCALE_MODE;a=function(a){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,e=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:100,d=arguments[2],g=arguments[3];if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var m;m=a.call(this,null,d);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.resolution=g||h;m.width=b;m.height=e;m.realWidth=m.width*m.resolution;m.realHeight=m.height*m.resolution;m.scaleMode=d||f;m.hasLoaded=!0;m._glRenderTargets={};m._canvasRenderTarget=null;m.valid=
!1;return m}l(c,a);c.prototype.resize=function(b,a){if(b!==this.width||a!==this.height)this.valid=0<b&&0<a,this.width=b,this.height=a,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this)};c.prototype.destroy=function(){a.prototype.destroy.call(this,!0);this.renderer=null};return c}(k["default"]);g["default"]=a},{"../settings":99,"./BaseTexture":109}],109:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,
a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?
"symbol":typeof b},d=a("../utils");k=a("../settings");var c=l(k);k=a("eventemitter3");k=l(k);var b=a("../utils/determineCrossOrigin"),e=l(b);a=a("bit-twiddle");var n=l(a);a=function(b){function a(e,f,n){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var m;m=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.uid=(0,d.uid)();m.touched=0;m.resolution=n||
c["default"].RESOLUTION;m.width=100;m.height=100;m.realWidth=100;m.realHeight=100;m.scaleMode=f||c["default"].SCALE_MODE;m.hasLoaded=!1;m.isLoading=!1;m.source=null;m.origSource=null;m.imageType=null;m.sourceScale=1;m.premultipliedAlpha=!0;m.imageUrl=null;m.isPowerOfTwo=!1;m.mipmap=c["default"].MIPMAP_TEXTURES;m.wrapMode=c["default"].WRAP_MODE;m._glTextures={};m._enabled=0;m._virtalBoundId=-1;e&&m.loadSource(e);return m}h(a,b);a.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=
this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=n["default"].isPow2(this.realWidth)&&n["default"].isPow2(this.realHeight));this.emit("update",this)};a.prototype.loadSource=function(b){var a=this,e=this.isLoading;this.isLoading=this.hasLoaded=!1;e&&this.source&&(this.source.onload=null,this.source.onerror=
null);var c=!this.source;this.source=b;if((b.src&&b.complete||b.getContext)&&b.width&&b.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),c&&this.emit("loaded",this);else if(!b.getContext&&(c=function(){a.isLoading=!0;b.onload=function(){a._updateImageType();b.onload=null;b.onerror=null;a.isLoading&&(a.isLoading=!1,a._sourceLoaded(),"svg"===a.imageType?a._loadSvgSource():a.emit("loaded",a))};b.onerror=function(){b.onload=null;b.onerror=null;a.isLoading&&
(a.isLoading=!1,a.emit("error",a))};if(b.complete&&b.src){b.onload=null;b.onerror=null;if("svg"===a.imageType)return a._loadSvgSource(),{v:void 0};a.isLoading=!1;b.width&&b.height?(a._sourceLoaded(),e&&a.emit("loaded",a)):e&&a.emit("error",a)}}(),"object"===("undefined"===typeof c?"undefined":f(c))))return c.v};a.prototype._updateImageType=function(){if(this.imageUrl){var b=(0,d.decomposeDataUri)(this.imageUrl);if(b&&"image"===b.mediaType){if(b=b.subType.split("+")[0],b=(0,d.getUrlFileExtension)("."+
b),!b)throw Error("Invalid image type in data URI.");}else(b=(0,d.getUrlFileExtension)(this.imageUrl))||(b="png");this.imageType=b}};a.prototype._loadSvgSource=function(){if("svg"===this.imageType){var b=(0,d.decomposeDataUri)(this.imageUrl);b?this._loadSvgSourceUsingDataUri(b):this._loadSvgSourceUsingXhr()}};a.prototype._loadSvgSourceUsingDataUri=function(b){if("base64"===b.encoding){if(!atob)throw Error("Your browser doesn't support base64 conversions.");b=atob(b.data)}else b=b.data;this._loadSvgSourceUsingString(b)};
a.prototype._loadSvgSourceUsingXhr=function(){var b=this,a=new XMLHttpRequest;a.onload=function(){if(a.readyState!==a.DONE||200!==a.status)throw Error("Failed to load SVG using XHR.");b._loadSvgSourceUsingString(a.response)};a.onerror=function(){return b.emit("error",b)};a.open("GET",this.imageUrl,!0);a.send()};a.prototype._loadSvgSourceUsingString=function(b){var a=(0,d.getSvgSize)(b);b=a.width;a=a.height;if(!b||!a)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
this.realWidth=Math.round(b*this.sourceScale);this.realHeight=Math.round(a*this.sourceScale);this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=n["default"].isPow2(this.realWidth)&&n["default"].isPow2(this.realHeight);var e=document.createElement("canvas");e.width=this.realWidth;e.height=this.realHeight;e._pixiId="canvas_"+(0,d.uid)();e.getContext("2d").drawImage(this.source,0,0,b,a,0,0,this.realWidth,this.realHeight);this.origSource=this.source;
this.source=e;d.BaseTextureCache[e._pixiId]=this;this.isLoading=!1;this._sourceLoaded();this.emit("loaded",this)};a.prototype._sourceLoaded=function(){this.hasLoaded=!0;this.update()};a.prototype.destroy=function(){this.imageUrl&&(delete d.BaseTextureCache[this.imageUrl],delete d.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src=""));this.source&&this.source._pixiId&&delete d.BaseTextureCache[this.source._pixiId];this.source=null;this.dispose()};a.prototype.dispose=
function(){this.emit("dispose",this)};a.prototype.updateSourceImage=function(b){this.source.src=b;this.loadSource(this.source)};a.fromImage=function(b,c,f,m){var n=d.BaseTextureCache[b];if(!n){var h=new Image;void 0===c&&0!==b.indexOf("data:")&&(h.crossOrigin=(0,e["default"])(b));n=new a(h,f);n.imageUrl=b;m&&(n.sourceScale=m);n.resolution=(0,d.getResolutionOfUrl)(b);h.src=b;d.BaseTextureCache[b]=n}return n};a.fromCanvas=function(b,e){b._pixiId||(b._pixiId="canvas_"+(0,d.uid)());var c=d.BaseTextureCache[b._pixiId];
c||(c=new a(b,e),d.BaseTextureCache[b._pixiId]=c);return c};return a}(k["default"]);g["default"]=a},{"../settings":99,"../utils":119,"../utils/determineCrossOrigin":118,"bit-twiddle":1,eventemitter3:3}],110:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
d):a.__proto__=d)}g.__esModule=!0;var h=(k=a("./BaseRenderTexture"))&&k.__esModule?k:{"default":k};a=a("./Texture");a=function(a){function d(c,b,e,f,g){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var m=null;if(!(c instanceof h["default"])){var n=b;f=f||0;g=g||1;console.warn("Please use RenderTexture.create("+n+", "+e+") instead of the ctor directly.");m=c;b=null;c=new h["default"](n,e,f,g)}c=a.call(this,c,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.legacyRenderer=m;c.valid=!0;c._updateUvs();return c}l(d,a);d.prototype.resize=function(a,b,e){this.valid=0<a&&0<b;this._frame.width=this.orig.width=a;this._frame.height=this.orig.height=b;e||this.baseTexture.resize(a,b);this._updateUvs()};d.create=function(a,b,e,f){return new d(new h["default"](a,b,e,f))};return d}((a&&a.__esModule?a:{"default":a})["default"]);g["default"]=a},{"./BaseRenderTexture":108,"./Texture":111}],111:[function(a,k,g){function l(b){return b&&
b.__esModule?b:{"default":b}}function h(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var f=function(){function b(b,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=
!0);Object.defineProperty(b,c.key,c)}}return function(a,e,c){e&&b(a.prototype,e);c&&b(a,c);return a}}();k=a("./BaseTexture");var d=l(k);k=a("./VideoBaseTexture");var c=l(k);k=a("./TextureUvs");var b=l(k);k=a("eventemitter3");k=l(k);var e=a("../math"),n=a("../utils");a=function(a){function m(b,c,d,f,n){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var h;h=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=
!h||"object"!==typeof h&&"function"!==typeof h?this:h;h.noFrame=!1;c||(h.noFrame=!0,c=new e.Rectangle(0,0,1,1));b instanceof m&&(b=b.baseTexture);h.baseTexture=b;h._frame=c;h.trim=f;h.valid=!1;h.requiresUpdate=!1;h._uvs=null;h.orig=d||c;h._rotate=Number(n||0);if(!0===n)h._rotate=2;else if(0!==h._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");if(b.hasLoaded)h.noFrame&&(c=new e.Rectangle(0,0,b.width,b.height),b.on("update",h.onBaseTextureUpdated,h)),
h.frame=c;else b.once("loaded",h.onBaseTextureLoaded,h);h._updateID=0;h.transform=null;return h}h(m,a);m.prototype.update=function(){this.baseTexture.update()};m.prototype.onBaseTextureLoaded=function(b){this._updateID++;this.frame=this.noFrame?new e.Rectangle(0,0,b.width,b.height):this._frame;this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};m.prototype.onBaseTextureUpdated=function(b){this._updateID++;this._frame.width=b.width;this._frame.height=b.height;this.emit("update",
this)};m.prototype.destroy=function(b){this.baseTexture&&(b&&(n.TextureCache[this.baseTexture.imageUrl]&&delete n.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;this.off("dispose",this.dispose,this);this.off("update",this.update,this)};m.prototype.clone=function(){return new m(this.baseTexture,
this.frame,this.orig,this.trim,this.rotate)};m.prototype._updateUvs=function(){this._uvs||(this._uvs=new b["default"]);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};m.fromImage=function(b,a,e,c){var f=n.TextureCache[b];f||(f=new m(d["default"].fromImage(b,a,e,c)),n.TextureCache[b]=f);return f};m.fromFrame=function(b){var a=n.TextureCache[b];if(!a)throw Error('The frameId "'+b+'" does not exist in the texture cache');return a};m.fromCanvas=function(b,a){return new m(d["default"].fromCanvas(b,
a))};m.fromVideo=function(b,a){return"string"===typeof b?m.fromVideoUrl(b,a):new m(c["default"].fromVideo(b,a))};m.fromVideoUrl=function(b,a){return new m(c["default"].fromUrl(b,a))};m.from=function(b){if("string"===typeof b){var a=n.TextureCache[b];return a?a:null!==b.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?m.fromVideoUrl(b):m.fromImage(b)}return b instanceof HTMLImageElement?new m(new d["default"](b)):b instanceof HTMLCanvasElement?m.fromCanvas(b):b instanceof HTMLVideoElement?m.fromVideo(b):b instanceof
d["default"]?new m(b):b};m.addTextureToCache=function(b,a){n.TextureCache[a]=b};m.removeTextureFromCache=function(b){var a=n.TextureCache[b];delete n.TextureCache[b];delete n.BaseTextureCache[b];return a};f(m,[{key:"frame",get:function(){return this._frame},set:function(b){this._frame=b;this.noFrame=!1;if(b.x+b.width>this.baseTexture.width||b.y+b.height>this.baseTexture.height)throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=b&&b.width&&b.height&&
this.baseTexture.hasLoaded;this.trim||this.rotate||(this.orig=b);this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(b){this._rotate=b;this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]);return m}(k["default"]);g["default"]=a;a.EMPTY=new a(new d["default"]);a.EMPTY.destroy=function(){};a.EMPTY.on=function(){};a.EMPTY.once=function(){};a.EMPTY.emit=function(){}},{"../math":68,
"../utils":119,"./BaseTexture":109,"./TextureUvs":112,"./VideoBaseTexture":113,eventemitter3:3}],112:[function(a,k,g){g.__esModule=!0;var l=(a=a("../math/GroupD8"))&&a.__esModule?a:{"default":a};a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}a.prototype.set=function(a,d,c){var b=d.width,e=d.height;if(c){d=a.width/2/b;var f=a.height/
2/e,b=a.x/b+d;a=a.y/e+f;c=l["default"].add(c,l["default"].NW);this.x0=b+d*l["default"].uX(c);this.y0=a+f*l["default"].uY(c);c=l["default"].add(c,2);this.x1=b+d*l["default"].uX(c);this.y1=a+f*l["default"].uY(c);c=l["default"].add(c,2);this.x2=b+d*l["default"].uX(c);this.y2=a+f*l["default"].uY(c);c=l["default"].add(c,2);this.x3=b+d*l["default"].uX(c);this.y3=a+f*l["default"].uY(c)}else this.x0=a.x/b,this.y0=a.y/e,this.x1=(a.x+a.width)/b,this.y1=a.y/e,this.x2=(a.x+a.width)/b,this.y2=(a.y+a.height)/e,
this.x3=a.x/b,this.y3=(a.y+a.height)/e;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535;this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535;this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535;this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535};return a}();g["default"]=a},{"../math/GroupD8":64}],113:[function(a,k,g){function l(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);
b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function h(b,a){a||(a="video/"+b.substr(b.lastIndexOf(".")+1));var e=document.createElement("source");e.src=b;e.type=a;return e}g.__esModule=!0;var f=function(){function b(b,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}
return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}();k=(k=a("./BaseTexture"))&&k.__esModule?k:{"default":k};var d=a("../utils"),c=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../ticker"));a=function(b){function a(c,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");if(!c)throw Error("No video source element specified.");(c.readyState===c.HAVE_ENOUGH_DATA||
c.readyState===c.HAVE_FUTURE_DATA)&&c.width&&c.height&&(c.complete=!0);var d;d=b.call(this,c,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.width=c.videoWidth;d.height=c.videoHeight;d._autoUpdate=!0;d._isAutoUpdating=!1;d.autoPlay=!0;d.update=d.update.bind(d);d._onCanPlay=d._onCanPlay.bind(d);c.addEventListener("play",d._onPlayStart.bind(d));c.addEventListener("pause",d._onPlayStop.bind(d));
d.hasLoaded=!1;d.__loaded=!1;d._isSourceReady()?d._onCanPlay():(c.addEventListener("canplay",d._onCanPlay),c.addEventListener("canplaythrough",d._onCanPlay));return d}l(a,b);a.prototype._isSourcePlaying=function(){var b=this.source;return 0<b.currentTime&&!1===b.paused&&!1===b.ended&&2<b.readyState};a.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState};a.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay();!this._isAutoUpdating&&this.autoUpdate&&
(c.shared.add(this.update,this),this._isAutoUpdating=!0)};a.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)};a.prototype._onCanPlay=function(){this.hasLoaded=!0;this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?
this._onPlayStart():this.autoPlay&&this.source.play())};a.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this);this.source&&this.source._pixiId&&(delete d.BaseTextureCache[this.source._pixiId],delete this.source._pixiId);b.prototype.destroy.call(this)};a.fromVideo=function(b,c){b._pixiId||(b._pixiId="video_"+(0,d.uid)());var e=d.BaseTextureCache[b._pixiId];e||(e=new a(b,c),d.BaseTextureCache[b._pixiId]=e);return e};a.fromUrl=function(b,c){var e=document.createElement("video");
e.setAttribute("webkit-playsinline","");e.setAttribute("playsinline","");if(Array.isArray(b))for(var d=0;d<b.length;++d)e.appendChild(h(b[d].src||b[d],b[d].mime));else e.appendChild(h(b.src||b,b.mime));e.load();return a.fromVideo(e,c)};f(a,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(b){b!==this._autoUpdate&&(this._autoUpdate=b,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,
this),this._isAutoUpdating=!0))}}]);return a}(k["default"]);g["default"]=a;a.fromUrls=a.fromUrl},{"../ticker":115,"../utils":119,"./BaseTexture":109}],114:[function(a,k,g){g.__esModule=!0;var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),h=(k=a("../settings"))&&k.__esModule?k:{"default":k},f=(a=a("eventemitter3"))&&
a.__esModule?a:{"default":a};a=function(){function a(){var c=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._emitter=new f["default"];this._requestId=null;this._maxElapsedMS=100;this.autoStart=!1;this.deltaTime=1;this.elapsedMS=1/h["default"].TARGET_FPMS;this.lastTime=0;this.speed=1;this.started=!1;this._tick=function(b){c._requestId=null;c.started&&(c.update(b),c.started&&null===c._requestId&&c._emitter.listeners("tick",!0)&&(c._requestId=requestAnimationFrame(c._tick)))}}
a.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners("tick",!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()};a.prototype.add=function(a,b){this._emitter.on("tick",a,b);this._startIfPossible();return this};
a.prototype.addOnce=function(a,b){this._emitter.once("tick",a,b);this._startIfPossible();return this};a.prototype.remove=function(a,b){this._emitter.off("tick",a,b);this._emitter.listeners("tick",!0)||this._cancelIfNeeded();return this};a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};a.prototype.update=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),
b;a>this.lastTime?(b=this.elapsedMS=a-this.lastTime,b>this._maxElapsedMS&&(b=this._maxElapsedMS),this.deltaTime=b*h["default"].TARGET_FPMS*this.speed,this._emitter.emit("tick",this.deltaTime)):this.deltaTime=this.elapsedMS=0;this.lastTime=a};l(a,[{key:"FPS",get:function(){return 1E3/this.elapsedMS}},{key:"minFPS",get:function(){return 1E3/this._maxElapsedMS},set:function(a){this._maxElapsedMS=1/Math.min(Math.max(0,a)/1E3,h["default"].TARGET_FPMS)}}]);return a}();g["default"]=a},{"../settings":99,
eventemitter3:3}],115:[function(a,k,g){g.__esModule=!0;g.Ticker=g.shared=void 0;a=(a=a("./Ticker"))&&a.__esModule?a:{"default":a};k=new a["default"];k.autoStart=!0;g.shared=k;g.Ticker=a["default"]},{"./Ticker":114}],116:[function(a,k,g){g.__esModule=!0;g["default"]=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],117:[function(a,k,g){g.__esModule=!0;g["default"]=function(a){a*=6;for(var h=new Uint16Array(a),f=0,d=0;f<a;f+=6,d+=4)h[f+0]=d+0,h[f+1]=d+1,h[f+2]=
d+2,h[f+3]=d+0,h[f+4]=d+2,h[f+5]=d+3;return h}},{}],118:[function(a,k,g){g.__esModule=!0;g["default"]=function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===a.indexOf("data:"))return"";d=d||window.location;h||(h=document.createElement("a"));h.href=a;a=l["default"].parse(h.href);var c=!a.port&&""===d.port||a.port===d.port;return a.hostname===d.hostname&&c&&a.protocol===d.protocol?"":"anonymous"};var l=(a=a("url"))&&a.__esModule?a:{"default":a},h=void 0},{url:28}],
119:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}g.__esModule=!0;g.BaseTextureCache=g.TextureCache=g.pluginTarget=g.EventEmitter=g.isMobile=void 0;g.uid=function(){return++c};g.hex2rgb=function(b,a){a=a||[];a[0]=(b>>16&255)/255;a[1]=(b>>8&255)/255;a[2]=(b&255)/255;return a};g.hex2string=function(b){b=b.toString(16);b="000000".substr(0,6-b.length)+b;return"#"+b};g.rgb2hex=function(b){return(255*b[0]<<16)+(255*b[1]<<8)+255*b[2]};g.getResolutionOfUrl=function(b,a){var c=f["default"].RETINA_PREFIX.exec(b);
return c?parseFloat(c[1]):void 0!==a?a:1};g.decomposeDataUri=function(b){if(b=h.DATA_URI.exec(b))return{mediaType:b[1]?b[1].toLowerCase():void 0,subType:b[2]?b[2].toLowerCase():void 0,encoding:b[3]?b[3].toLowerCase():void 0,data:b[4]}};g.getUrlFileExtension=function(b){if(b=h.URL_FILE_EXTENSION.exec(b))return b[1].toLowerCase()};g.getSvgSize=function(b){b=h.SVG_SIZE.exec(b);var a={};b&&(a[b[1]]=Math.round(parseFloat(b[3])),a[b[5]]=Math.round(parseFloat(b[7])));return a};g.skipHello=function(){b=!0};
g.sayHello=function(a){b||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c Pixi.js "+h.VERSION+" - \u2730 "+a+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;",
"color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("Pixi.js "+h.VERSION+" - "+a+" - http://www.pixijs.com/"),b=!0)};g.isWebGLSupported=function(){var b={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var a=document.createElement("canvas"),c=a.getContext("webgl",b)||a.getContext("experimental-webgl",b),d=!(!c||!c.getContextAttributes().stencil);if(c){var f=c.getExtension("WEBGL_lose_context");
f&&f.loseContext()}return d}catch(A){return!1}};g.sign=function(b){return 0===b?0:0>b?-1:1};g.removeItems=function(b,a,c){var e=b.length;if(!(a>=e||0===c)){c=a+c>e?e-a:c;for(e-=c;a<e;++a)b[a]=b[a+c];b.length=e}};var h=a("../const");k=a("../settings");var f=l(k);k=a("eventemitter3");k=l(k);var d=a("./pluginTarget"),d=l(d);a=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("ismobilejs"));var c=
0,b=!1;g.isMobile=a;g.EventEmitter=k["default"];g.pluginTarget=d["default"];g.TextureCache={};g.BaseTextureCache={}},{"../const":44,"../settings":99,"./pluginTarget":121,eventemitter3:3,ismobilejs:4}],120:[function(a,k,g){g.__esModule=!0;g["default"]=function(a){return l["default"].tablet||l["default"].phone?4:a};var l=(a=a("ismobilejs"))&&a.__esModule?a:{"default":a}},{ismobilejs:4}],121:[function(a,k,g){function l(a){a.__plugins={};a.registerPlugin=function(f,d){a.__plugins[f]=d};a.prototype.initPlugins=
function(){this.plugins=this.plugins||{};for(var f in a.__plugins)this.plugins[f]=new a.__plugins[f](this)};a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}g.__esModule=!0;g["default"]={mixin:function(a){l(a)}}},{}],122:[function(a,k,g){function l(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}function h(b){var a=Error().stack;
"undefined"===typeof a?console.warn("Deprecation Warning: ",b):(a=a.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",b),console.warn(a),console.groupEnd()):(console.warn("Deprecation Warning: ",b),console.warn(a)))}k=a("./core");var f=l(k);k=a("./mesh");var d=l(k);k=a("./particles");var c=l(k);k=a("./extras");var b=l(k);k=a("./filters");k=l(k);g=a("./prepare");
g=l(g);a=a("./loaders");var e=l(a);f.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");};f.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");};Object.defineProperties(f,{Stage:{enumerable:!0,get:function(){h("You do not need to use a PIXI Stage any more, you can simply render any container.");return f.Container}},DisplayObjectContainer:{enumerable:!0,
get:function(){h("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return f.Container}},Strip:{enumerable:!0,get:function(){h("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return d.Mesh}},Rope:{enumerable:!0,get:function(){h("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return d.Rope}},ParticleContainer:{enumerable:!0,get:function(){h("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.");
return c.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){h("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return b.AnimatedSprite}},TilingSprite:{enumerable:!0,get:function(){h("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.");return b.TilingSprite}},BitmapText:{enumerable:!0,get:function(){h("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.");
return b.BitmapText}},blendModes:{enumerable:!0,get:function(){h("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return f.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){h("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return f.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){h("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.");return f.utils.BaseTextureCache}},
TextureCache:{enumerable:!0,get:function(){h("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.");return f.utils.TextureCache}},math:{enumerable:!0,get:function(){h("The math namespace is deprecated, please access members already accessible on PIXI.");return f}},AbstractFilter:{enumerable:!0,get:function(){h("AstractFilter has been renamed to Filter, please use PIXI.Filter");return f.Filter}},TransformManual:{enumerable:!0,get:function(){h("TransformManual has been renamed to TransformBase, please update your pixi-spine");
return f.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){h("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return f.settings.TARGET_FPMS},set:function(b){h("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");f.settings.TARGET_FPMS=b}},FILTER_RESOLUTION:{enumerable:!0,get:function(){h("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return f.settings.FILTER_RESOLUTION},set:function(b){h("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");
f.settings.FILTER_RESOLUTION=b}},RESOLUTION:{enumerable:!0,get:function(){h("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return f.settings.RESOLUTION},set:function(b){h("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");f.settings.RESOLUTION=b}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){h("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return f.settings.MIPMAP_TEXTURES},set:function(b){h("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");
f.settings.MIPMAP_TEXTURES=b}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){h("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return f.settings.SPRITE_BATCH_SIZE},set:function(b){h("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");f.settings.SPRITE_BATCH_SIZE=b}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){h("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return f.settings.SPRITE_MAX_TEXTURES},
set:function(b){h("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");f.settings.SPRITE_MAX_TEXTURES=b}},RETINA_PREFIX:{enumerable:!0,get:function(){h("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return f.settings.RETINA_PREFIX},set:function(b){h("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");f.settings.RETINA_PREFIX=b}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){h("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");
return f.settings.RENDER_OPTIONS}}});var n=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION"}];a=function(b){var a=n[b];Object.defineProperty(f[a.parent],"DEFAULT",{enumerable:!0,get:function(){h("PIXI."+a.parent+".DEFAULT has been deprecated, please use PIXI.settings."+a.target);return f.settings[a.target]},set:function(b){h("PIXI."+a.parent+
".DEFAULT has been deprecated, please use PIXI.settings."+a.target);f.settings[a.target]=b}})};for(var p=0;p<n.length;p++)a(p);Object.defineProperties(b,{MovieClip:{enumerable:!0,get:function(){h("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return b.AnimatedSprite}}});f.DisplayObject.prototype.generateTexture=function(b,a,c){h("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return b.generateTexture(this,
a,c)};f.Graphics.prototype.generateTexture=function(b,a){h("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(b,a)};f.RenderTexture.prototype.render=function(b,a,c,e){this.legacyRenderer.render(b,this,c,a,!e);h("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};f.RenderTexture.prototype.getImage=function(b){h("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");
return this.legacyRenderer.extract.image(b)};f.RenderTexture.prototype.getBase64=function(b){h("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(b)};f.RenderTexture.prototype.getCanvas=function(b){h("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(b)};f.RenderTexture.prototype.getPixels=function(b){h("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");
return this.legacyRenderer.pixels(b)};f.Sprite.prototype.setTexture=function(b){this.texture=b;h("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};b.BitmapText.prototype.setText=function(b){this.text=b;h("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")};f.Text.prototype.setText=function(b){this.text=b;h("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};f.Text.prototype.setStyle=
function(b){this.style=b;h("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};f.Text.prototype.determineFontProperties=function(b){h("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);");return Text.calculateFontProperties(b)};Object.defineProperties(f.TextStyle.prototype,{font:{get:function(){h("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");
return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+("number"===typeof this._fontSize?this._fontSize+"px":this._fontSize)+" "+this._fontFamily},set:function(b){h("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");1<b.indexOf("italic")?this._fontStyle="italic":-1<b.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal";-1<b.indexOf("small-caps")?this._fontVariant="small-caps":
this._fontVariant="normal";b=b.split(" ");var a=-1;this._fontSize=26;for(var c=0;c<b.length;++c)if(b[c].match(/(px|pt|em|%)/)){a=c;this._fontSize=b[c];break}this._fontWeight="normal";for(c=0;c<a;++c)if(b[c].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=b[c];break}if(-1<a&&a<b.length-1){this._fontFamily="";for(a+=1;a<b.length;++a)this._fontFamily+=b[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}});f.Texture.prototype.setFrame=
function(b){this.frame=b;h("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};Object.defineProperties(k,{AbstractFilter:{get:function(){h("AstractFilter has been renamed to Filter, please use PIXI.Filter");return f.AbstractFilter}},SpriteMaskFilter:{get:function(){h("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return f.SpriteMaskFilter}}});f.utils.uuid=function(){h("utils.uuid() is deprecated, please use utils.uid() from now on.");
return f.utils.uid()};f.utils.canUseNewCanvasBlendModes=function(){h("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return f.CanvasTinter.canUseMultiply};var m=!0;Object.defineProperty(f.utils,"_saidHello",{set:function(b){b&&(h("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello());m=b},get:function(){return m}});Object.defineProperty(g.canvas,"UPLOADS_PER_FRAME",{set:function(){h("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},
get:function(){h("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});Object.defineProperty(g.webgl,"UPLOADS_PER_FRAME",{set:function(){h("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){h("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter");return NaN}});Object.defineProperties(e.Resource.prototype,
{isJson:{get:function(){h("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===e.Loader.Resource.TYPE.JSON}},isXml:{get:function(){h("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===e.Loader.Resource.TYPE.XML}},isImage:{get:function(){h("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");return this.type===e.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){h("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");
return this.type===e.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){h("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===e.Loader.Resource.TYPE.VIDEO}}});Object.defineProperties(e.Loader.prototype,{before:{get:function(){h("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function(){h("The after() method is deprecated, please use use().");return this.use}}})},{"./core":63,"./extras":133,"./filters":144,
"./loaders":153,"./mesh":162,"./particles":165,"./prepare":175}],123:[function(a,k,g){g.__esModule=!0;var l=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(a("../../core")),h=new l.Rectangle;a=function(){function a(d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=d;d.extract=this}a.prototype.image=function(a){var c=new Image;c.src=this.base64(a);
return c};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,b=void 0,e=void 0;a&&(e=a instanceof l.RenderTexture?a:c.generateTexture(a));e?(a=e.baseTexture._canvasRenderTarget.context,b=e.baseTexture._canvasRenderTarget.resolution,c=e.frame):(a=c.rootContext,c=h,c.width=this.renderer.width,c.height=this.renderer.height);var d=c.width*b,f=c.height*b,e=new l.CanvasRenderTarget(d,f),b=a.getImageData(c.x*b,c.y*b,d,f);e.context.putImageData(b,
0,0);return e.canvas};a.prototype.pixels=function(a){var c=this.renderer,b=void 0,e;e=void 0;a&&(e=a instanceof l.RenderTexture?a:c.generateTexture(a));e?(a=e.baseTexture._canvasRenderTarget.context,b=e.baseTexture._canvasRenderTarget.resolution,e=e.frame):(a=c.rootContext,e=h,e.width=c.width,e.height=c.height);return a.getImageData(0,0,e.width*b,e.height*b).data};a.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return a}();g["default"]=a;l.CanvasRenderer.registerPlugin("extract",
a)},{"../../core":63}],124:[function(a,k,g){g.__esModule=!0;var l=a("./webgl/WebGLExtract");Object.defineProperty(g,"webgl",{enumerable:!0,get:function(){return(l&&l.__esModule?l:{"default":l})["default"]}});var h=a("./canvas/CanvasExtract");Object.defineProperty(g,"canvas",{enumerable:!0,get:function(){return(h&&h.__esModule?h:{"default":h})["default"]}})},{"./canvas/CanvasExtract":123,"./webgl/WebGLExtract":125}],125:[function(a,k,g){g.__esModule=!0;var l=function(a){if(a&&a.__esModule)return a;
var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(a("../../core")),h=new l.Rectangle;a=function(){function a(d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.renderer=d;d.extract=this}a.prototype.image=function(a){var c=new Image;c.src=this.base64(a);return c};a.prototype.base64=function(a){return this.canvas(a).toDataURL()};a.prototype.canvas=function(a){var c=this.renderer,b,e,d;d=void 0;a&&
(d=a instanceof l.RenderTexture?a:this.renderer.generateTexture(a));d?(b=d.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=b.resolution,e=d.frame,d=!1):(b=this.renderer.rootRenderTarget,a=b.resolution,d=!0,e=h,e.width=b.size.width,e.height=b.size.height);var f=e.width*a,m=e.height*a,g=new l.CanvasRenderTarget(f,m);b&&(c.bindRenderTarget(b),b=new Uint8Array(4*f*m),c=c.gl,c.readPixels(e.x*a,e.y*a,f,m,c.RGBA,c.UNSIGNED_BYTE,b),c=g.context.getImageData(0,0,f,m),c.data.set(b),g.context.putImageData(c,
0,0),d&&(g.context.scale(1,-1),g.context.drawImage(g.canvas,0,-m)));return g.canvas};a.prototype.pixels=function(a){var c=this.renderer,b,e;e=void 0;a&&(e=a instanceof l.RenderTexture?a:this.renderer.generateTexture(a));e?(b=e.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=b.resolution,e=e.frame):(b=this.renderer.rootRenderTarget,a=b.resolution,e=h,e.width=b.size.width,e.height=b.size.height);var d=e.width*a,f=e.height*a,m=new Uint8Array(4*d*f);b&&(c.bindRenderTarget(b),c=c.gl,c.readPixels(e.x*
a,e.y*a,d,f,c.RGBA,c.UNSIGNED_BYTE,m));return m};a.prototype.destroy=function(){this.renderer=this.renderer.extract=null};return a}();g["default"]=a;l.WebGLRenderer.registerPlugin("extract",a)},{"../../core":63}],126:[function(a,k,g){function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,c):a.__proto__=c)}g.__esModule=!0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),f=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(a("../core"));a=function(a){function c(b,
e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var d;d=a.call(this,b[0]instanceof f.Texture?b[0]:b[0].texture);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d._textures=null;d._durations=null;d.textures=b;d._autoUpdate=!1!==e;d.animationSpeed=1;d.loop=!0;d.onComplete=null;d.onFrameChange=null;d._currentTime=0;d.playing=!1;return d}l(c,a);c.prototype.stop=function(){this.playing&&
(this.playing=!1,this._autoUpdate&&f.ticker.shared.remove(this.update,this))};c.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&f.ticker.shared.add(this.update,this))};c.prototype.gotoAndStop=function(b){this.stop();var a=this.currentFrame;this._currentTime=b;a!==this.currentFrame&&this.updateTexture()};c.prototype.gotoAndPlay=function(b){var a=this.currentFrame;this._currentTime=b;a!==this.currentFrame&&this.updateTexture();this.play()};c.prototype.update=function(b){var a=
this.animationSpeed*b,c=this.currentFrame;if(null!==this._durations){for(var d=this._currentTime%1*this._durations[this.currentFrame],d=d+a/60*1E3;0>d;)this._currentTime--,d+=this._durations[this.currentFrame];b=Math.sign(this.animationSpeed*b);for(this._currentTime=Math.floor(this._currentTime);d>=this._durations[this.currentFrame];)d-=this._durations[this.currentFrame]*b,this._currentTime+=b;this._currentTime+=d/this._durations[this.currentFrame]}else this._currentTime+=a;if(0>this._currentTime&&
!this.loop){if(this.gotoAndStop(0),this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else c!==this.currentFrame&&this.updateTexture()};c.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame];this._textureID=-1;if(this.onFrameChange)this.onFrameChange(this.currentFrame)};c.prototype.destroy=function(){this.stop();a.prototype.destroy.call(this)};c.fromFrames=
function(b){for(var a=[],d=0;d<b.length;++d)a.push(f.Texture.fromFrame(b[d]));return new c(a)};c.fromImages=function(b){for(var a=[],d=0;d<b.length;++d)a.push(f.Texture.fromImage(b[d]));return new c(a)};h(c,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(b){if(b[0]instanceof f.Texture)this._textures=b,this._durations=null;else{this._textures=[];this._durations=[];for(var a=0;a<b.length;a++)this._textures.push(b[a].texture),
this._durations.push(b[a].time)}}},{key:"currentFrame",get:function(){var b=Math.floor(this._currentTime)%this._textures.length;0>b&&(b+=this._textures.length);return b}}]);return c}(f.Sprite);g["default"]=a},{"../core":63}],127:[function(a,k,g){function l(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?b:a}function h(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+
typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var f=function(){function b(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),d=function(b){if(b&&b.__esModule)return b;var a={};
if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../core")),c=(a=a("../core/math/ObservablePoint"))&&a.__esModule?a:{"default":a};a=function(b){function a(e){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var f=l(this,b.call(this));f._textWidth=0;f._textHeight=0;f._glyphs=[];f._font={tint:void 0!==d.tint?d.tint:16777215,align:d.align||"left",
name:null,size:0};f.font=d.font;f._text=e;f.maxWidth=0;f.maxLineHeight=0;f._anchor=new c["default"](function(){f.dirty=!0},f,0,0);f.dirty=!1;f.updateText();return f}h(a,b);a.prototype.updateText=function(){for(var b=a.fonts[this._font.name],c=this._font.size/b.size,e=new d.Point,f=[],h=[],g=null,k=0,l=0,v=0,r=-1,x=0,y=0,C=0;C<this.text.length;C++){var z=this.text.charCodeAt(C);/(\s)/.test(this.text.charAt(C))&&(r=C,x=k);if(/(?:\r\n|\r|\n)/.test(this.text.charAt(C)))h.push(k),l=Math.max(l,k),v++,e.x=
0,e.y+=b.lineHeight,g=null;else if(-1!==r&&0<this.maxWidth&&e.x*c>this.maxWidth)d.utils.removeItems(f,r,C-r),C=r,r=-1,h.push(x),l=Math.max(l,x),v++,e.x=0,e.y+=b.lineHeight,g=null;else{var E=b.chars[z];E&&(g&&E.kerning[g]&&(e.x+=E.kerning[g]),f.push({texture:E.texture,line:v,charCode:z,position:new d.Point(e.x+E.xOffset,e.y+E.yOffset)}),k=e.x+(E.texture.width+E.xOffset),e.x+=E.xAdvance,y=Math.max(y,E.yOffset+E.texture.height),g=z)}}h.push(k);l=Math.max(l,k);g=[];for(k=0;k<=v;k++)r=0,"right"===this._font.align?
r=l-h[k]:"center"===this._font.align&&(r=(l-h[k])/2),g.push(r);h=f.length;v=this.tint;for(k=0;k<h;k++)(r=this._glyphs[k])?r.texture=f[k].texture:(r=new d.Sprite(f[k].texture),this._glyphs.push(r)),r.position.x=(f[k].position.x+g[f[k].line])*c,r.position.y=f[k].position.y*c,r.scale.x=r.scale.y=c,r.tint=v,r.parent||this.addChild(r);for(f=h;f<this._glyphs.length;++f)this.removeChild(this._glyphs[f]);this._textWidth=l*c;this._textHeight=(e.y+b.lineHeight)*c;if(0!==this.anchor.x||0!==this.anchor.y)for(b=
0;b<h;b++)this._glyphs[b].x-=this._textWidth*this.anchor.x,this._glyphs[b].y-=this._textHeight*this.anchor.y;this.maxLineHeight=y*c};a.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};a.prototype.getLocalBounds=function(){this.validate();return b.prototype.getLocalBounds.call(this)};a.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};f(a,[{key:"tint",get:function(){return this._font.tint},set:function(b){this._font.tint="number"===typeof b&&
0<=b?b:16777215;this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(b){this._font.align=b||"left";this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(b){"number"===typeof b?this._anchor.set(b):this._anchor.copy(b)}},{key:"font",get:function(){return this._font},set:function(b){b&&("string"===typeof b?(b=b.split(" "),this._font.name=1===b.length?b[0]:b.slice(1).join(" "),this._font.size=2<=b.length?parseInt(b[0],10):a.fonts[this._font.name].size):
(this._font.name=b.name,this._font.size="number"===typeof b.size?b.size:parseInt(b.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(b){b=b.toString()||" ";this._text!==b&&(this._text=b,this.dirty=!0)}},{key:"textWidth",get:function(){this.validate();return this._textWidth}},{key:"textHeight",get:function(){this.validate();return this._textHeight}}]);return a}(d.Container);g["default"]=a;a.fonts={}},{"../core":63,"../core/math/ObservablePoint":66}],128:[function(a,
k,g){g.__esModule=!0;var l=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),h=(a=a("../core/math/Matrix"))&&a.__esModule?a:{"default":a},f=new h["default"];a=function(){function a(c,b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._texture=c;this.mapCoord=new h["default"];
this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin="undefined"===typeof b?.5:b}a.prototype.update=function(a){var b=this._texture;if(b&&b.valid&&(a||this._lastTextureID!==b._updateID)){this._lastTextureID=b._updateID;a=b._uvs;this.mapCoord.set(a.x1-a.x0,a.y1-a.y0,a.x3-a.x0,a.y3-a.y0,a.x0,a.y0);a=b.orig;var c=b.trim;c&&(f.set(a.width/c.width,0,0,a.height/c.height,-c.x/c.width,-c.y/c.height),this.mapCoord.append(f));
a=b.baseTexture;var c=this.uClampFrame,d=this.clampMargin/a.resolution,h=this.clampOffset;c[0]=(b._frame.x+d+h)/a.width;c[1]=(b._frame.y+d+h)/a.height;c[2]=(b._frame.x+b._frame.width-d+h)/a.width;c[3]=(b._frame.y+b._frame.height-d+h)/a.height;this.uClampOffset[0]=h/a.realWidth;this.uClampOffset[1]=h/a.realHeight}};l(a,[{key:"texture",get:function(){return this._texture},set:function(a){this._texture=a;this._lastTextureID=-1}}]);return a}();g["default"]=a},{"../core/math/Matrix":65}],129:[function(a,
k,g){function l(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var h=function(){function b(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,
e.key,e)}}return function(a,c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}(),f=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../core")),d=(k=a("../core/sprites/canvas/CanvasTinter"))&&k.__esModule?k:{"default":k},c=(a=a("./TextureTransform"))&&a.__esModule?a:{"default":a},b=new f.Point;a=function(a){function e(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,h=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:100;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var g;g=a.call(this,b);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.tileTransform=new f.TransformStatic;g._width=d;g._height=h;g._canvasPattern=null;g.uvTransform=b.transform||new c["default"](b);g.pluginName="tilingSprite";g.uvRespectAnchor=!1;return g}l(e,a);e.prototype._onTextureUpdate=
function(){this.uvTransform&&(this.uvTransform.texture=this._texture)};e.prototype._renderWebGL=function(b){var a=this._texture;a&&a.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),b.setObjectRenderer(b.plugins[this.pluginName]),b.plugins[this.pluginName].render(this))};e.prototype._renderCanvas=function(b){var a=this._texture;if(a.baseTexture.hasLoaded){var c=b.context,e=this.worldTransform,h=b.resolution,g=a.baseTexture,n=a.baseTexture.resolution,k=this.tilePosition.x/
this.tileScale.x%a._frame.width,l=this.tilePosition.y/this.tileScale.y%a._frame.height;if(!this._canvasPattern){var p=new f.CanvasRenderTarget(a._frame.width,a._frame.height,n);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=d["default"].getTintedTexture(this,this.tint)),p.context.drawImage(this.tintedTexture,0,0)):p.context.drawImage(g.source,-a._frame.x,-a._frame.y);this._canvasPattern=p.context.createPattern(p.canvas,"repeat")}c.globalAlpha=this.worldAlpha;
c.setTransform(e.a*h,e.b*h,e.c*h,e.d*h,e.tx*h,e.ty*h);c.scale(this.tileScale.x/n,this.tileScale.y/n);c.translate(k+this.anchor.x*-this._width,l+this.anchor.y*-this._height);b.setBlendMode(this.blendMode);c.fillStyle=this._canvasPattern;c.fillRect(-k,-l,this._width/this.tileScale.x*n,this._height/this.tileScale.y*n)}};e.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-
this._anchor._y))};e.prototype.getLocalBounds=function(b){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),b||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),b=this._localBoundsRect),this._bounds.getRectangle(b)):a.prototype.getLocalBounds.call(this,b)};e.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,
b);var c=this._width;a=this._height;var e=-c*this.anchor._x;return b.x>e&&b.x<e+c&&(c=-a*this.anchor._y,b.y>c&&b.y<c+a)?!0:!1};e.prototype.destroy=function(){a.prototype.destroy.call(this);this.uvTransform=this.tileTransform=null};e.from=function(b,a,c){return new e(f.Texture.from(b),a,c)};e.fromFrame=function(b,a,c){var d=f.utils.TextureCache[b];if(!d)throw Error('The frameId "'+b+'" does not exist in the texture cache '+this);return new e(d,a,c)};e.fromImage=function(b,a,c,d,h){return new e(f.Texture.fromImage(b,
d,h),a,c)};h(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(b){this.uvTransform.clampMargin=b;this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(b){this.tileTransform.scale.copy(b)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(b){this.tileTransform.position.copy(b)}},{key:"width",get:function(){return this._width},set:function(b){this._width=b}},{key:"height",get:function(){return this._height},
set:function(b){this._height=b}}]);return e}(f.Sprite);g["default"]=a},{"../core":63,"../core/sprites/canvas/CanvasTinter":102,"./TextureTransform":128}],130:[function(a,k,g){var l=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(a("../core"));a=l.DisplayObject;var h=new l.Matrix;a.prototype._cacheAsBitmap=!1;a.prototype._cacheData=!1;var f=function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
this.sprite=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalHitTest=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=this.originalRenderWebGL=null};Object.defineProperties(a.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){this._cacheAsBitmap!==a&&((this._cacheAsBitmap=a)?(this._cacheData||(this._cacheData=new f),a=this._cacheData,a.originalRenderWebGL=this.renderWebGL,a.originalRenderCanvas=
this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this._calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,a.originalDestroy=this.destroy,a.originalContainsPoint=this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(a=this._cacheData,a.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=
a.originalRenderWebGL,this.renderCanvas=a.originalRenderCanvas,this._calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=a.originalDestroy,this.updateTransform=a.originalUpdateTransform,this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea))}}});a.prototype._renderCachedWebGL=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(a),this._cacheData.sprite._transformID=
-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(a))};a.prototype._initCachedDisplayObject=function(a){if(!this._cacheData||!this._cacheData.sprite){var b=this.alpha;this.alpha=1;a.currentRenderer.flush();var c=this.getLocalBounds().clone();this._filters&&c.pad(this._filters[0].padding);var f=a._activeRenderTarget,g=a.filterManager.filterStack,m=l.RenderTexture.create(c.width|0,c.height|0);h.tx=-c.x;h.ty=-c.y;this.transform.worldTransform.identity();this.renderWebGL=
this._cacheData.originalRenderWebGL;a.render(this,m,!0,h,!0);a.bindRenderTarget(f);a.filterManager.filterStack=g;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this.filterArea=this._mask=null;a=new l.Sprite(m);a.transform.worldTransform=this.transform.worldTransform;a.anchor.x=-(c.x/c.width);a.anchor.y=-(c.y/c.height);a.alpha=b;a._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=
a;this.transform._parentID=-1;this.updateTransform();this.containsPoint=a.containsPoint.bind(a)}};a.prototype._renderCachedCanvas=function(a){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(a))};a.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cacheData||!this._cacheData.sprite){var b=this.getLocalBounds(),c=this.alpha;this.alpha=1;var f=a.context,g=l.RenderTexture.create(b.width|
0,b.height|0);this.transform.localTransform.copy(h);h.invert();h.tx-=b.x;h.ty-=b.y;this.renderCanvas=this._cacheData.originalRenderCanvas;a.render(this,g,!0,h,!1);a.context=f;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this.filterArea=this._mask=null;a=new l.Sprite(g);a.transform.worldTransform=this.transform.worldTransform;a.anchor.x=-(b.x/b.width);a.anchor.y=-(b.y/b.height);a._bounds=this._bounds;a.alpha=c;this.updateTransform();this.updateTransform=
this.displayObjectUpdateTransform;this._cacheData.sprite=a;this.containsPoint=a.containsPoint.bind(a)}};a.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()};a.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()};a.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null};a.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1;this.destroy()}},{"../core":63}],
131:[function(a,k,g){a=function(a){if(a&&a.__esModule)return a;var h={};if(null!=a)for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(h[f]=a[f]);h["default"]=a;return h}(a("../core"));a.DisplayObject.prototype.name=null;a.Container.prototype.getChildByName=function(a){for(var h=0;h<this.children.length;h++)if(this.children[h].name===a)return this.children[h];return null}},{"../core":63}],132:[function(a,k,g){var l=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,
d)&&(f[d]=a[d]);f["default"]=a;return f}(a("../core"));l.DisplayObject.prototype.getGlobalPosition=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new l.Point,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.parent?this.parent.toGlobal(this.position,a,f):(a.x=this.position.x,a.y=this.position.y);return a}},{"../core":63}],133:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}g.__esModule=!0;g.BitmapText=g.TilingSpriteRenderer=g.TilingSprite=
g.AnimatedSprite=g.TextureTransform=void 0;var h=a("./TextureTransform");Object.defineProperty(g,"TextureTransform",{enumerable:!0,get:function(){return l(h)["default"]}});var f=a("./AnimatedSprite");Object.defineProperty(g,"AnimatedSprite",{enumerable:!0,get:function(){return l(f)["default"]}});var d=a("./TilingSprite");Object.defineProperty(g,"TilingSprite",{enumerable:!0,get:function(){return l(d)["default"]}});var c=a("./webgl/TilingSpriteRenderer");Object.defineProperty(g,"TilingSpriteRenderer",
{enumerable:!0,get:function(){return l(c)["default"]}});var b=a("./BitmapText");Object.defineProperty(g,"BitmapText",{enumerable:!0,get:function(){return l(b)["default"]}});a("./cacheAsBitmap");a("./getChildByName");a("./getGlobalPosition")},{"./AnimatedSprite":126,"./BitmapText":127,"./TextureTransform":128,"./TilingSprite":129,"./cacheAsBitmap":130,"./getChildByName":131,"./getGlobalPosition":132,"./webgl/TilingSpriteRenderer":134}],134:[function(a,k,g){function l(b,a){if("function"!==typeof a&&
null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var h=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../../core")),f=a("../../core/const");a("path");
var d=new h.Matrix,c=new Float32Array(4);a=function(b){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");c=b.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.simpleShader=null;c.quad=null;return c}l(a,b);a.prototype.onContextChange=function(){var b=this.renderer.gl;this.shader=new h.Shader(b,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n");
this.simpleShader=new h.Shader(b,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n");
this.renderer.bindVao(null);this.quad=new h.Quad(b,this.renderer.state.attribState);this.quad.initVao(this.shader)};a.prototype.render=function(b){var a=this.renderer,e=this.quad;a.bindVao(e.vao);var g=e.vertices;g[0]=g[6]=b._width*-b.anchor.x;g[1]=g[3]=b._height*-b.anchor.y;g[2]=g[4]=b._width*(1-b.anchor.x);g[5]=g[7]=b._height*(1-b.anchor.y);b.uvRespectAnchor&&(g=e.uvs,g[0]=g[6]=-b.anchor.x,g[1]=g[3]=-b.anchor.y,g[2]=g[4]=1-b.anchor.x,g[5]=g[7]=1-b.anchor.y);e.upload();var g=b._texture,n=g.baseTexture,
k=b.tileTransform.localTransform,l=b.uvTransform,t=n.isPowerOfTwo&&g.frame.width===n.width&&g.frame.height===n.height;t&&(n._glTextures[a.CONTEXT_UID]?t=n.wrapMode!==f.WRAP_MODES.CLAMP:n.wrapMode===f.WRAP_MODES.CLAMP&&(n.wrapMode=f.WRAP_MODES.REPEAT));n=t?this.simpleShader:this.shader;a.bindShader(n);var v=g.width,r=g.height,x=b._width,y=b._height;d.set(k.a*v/x,k.b*v/y,k.c*r/x,k.d*r/y,k.tx/x,k.ty/y);d.invert();t?d.append(l.mapCoord):(n.uniforms.uMapCoord=l.mapCoord.toArray(!0),n.uniforms.uClampFrame=
l.uClampFrame,n.uniforms.uClampOffset=l.uClampOffset);n.uniforms.uTransform=d.toArray(!0);h.utils.hex2rgb(b.tint,c);c[3]=b.worldAlpha;n.uniforms.uColor=c;n.uniforms.translationMatrix=b.transform.worldTransform.toArray(!0);n.uniforms.uSampler=a.bindTexture(g);a.setBlendMode(b.blendMode);e.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return a}(h.ObjectRenderer);g["default"]=a;h.WebGLRenderer.registerPlugin("tilingSprite",a)},{"../../core":63,"../../core/const":44,path:22}],135:[function(a,k,g){function l(b,
a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var h=function(){function b(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}
return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}();k=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../../core"));var f=a("./BlurXFilter"),d=f&&f.__esModule?f:{"default":f},c=(a=a("./BlurYFilter"))&&a.__esModule?a:{"default":a};a=function(b){function a(e,f,g,h){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var m;m=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.blurXFilter=new d["default"](e,f,g,h);m.blurYFilter=new c["default"](e,f,g,h);m.resolution=1;m.padding=0;m.resolution=g||1;m.quality=f||4;m.blur=e||8;return m}l(a,b);a.prototype.apply=function(b,a,c){var e=b.getRenderTarget(!0);this.blurXFilter.apply(b,a,e,!0);this.blurYFilter.apply(b,e,c,!1);b.returnRenderTarget(e)};h(a,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(b){this.blurXFilter.blur=this.blurYFilter.blur=b;
this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(b){this.blurXFilter.quality=this.blurYFilter.quality=b}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(b){this.blurXFilter.blur=b;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(b){this.blurYFilter.blur=
b;this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]);return a}(k.Filter);g["default"]=a},{"../../core":63,"./BlurXFilter":136,"./BlurYFilter":137}],136:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,
configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var f=function(){function b(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(a,c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}();k=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../../core"));
var d=a("./generateBlurVertSource"),c=l(d),d=a("./generateBlurFragSource"),b=l(d);a=a("./getMaxBlurKernelSize");var e=l(a);a=function(a){function d(e,f,g,h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");h=h||5;var m=(0,c["default"])(h,!0);h=(0,b["default"])(h);m=a.call(this,m,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.resolution=g||1;m._quality=0;m.quality=
f||4;m.strength=e||8;m.firstRun=!0;return m}h(d,a);d.prototype.apply=function(a,d,f,g){if(this.firstRun){var h=a.renderer.gl,h=(0,e["default"])(h);this.vertexSrc=(0,c["default"])(h,!0);this.fragmentSrc=(0,b["default"])(h);this.firstRun=!1}this.uniforms.strength=1/f.size.width*(f.size.width/d.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,d,f,g);else{for(var m=h=a.getRenderTarget(!0),k=0;k<this.passes-1;k++){a.applyFilter(this,
d,m,!0);var n=m,m=d;d=n}a.applyFilter(this,d,f,g);a.returnRenderTarget(h)}};f(d,[{key:"blur",get:function(){return this.strength},set:function(b){this.padding=2*Math.abs(b);this.strength=b}},{key:"quality",get:function(){return this._quality},set:function(b){this.passes=this._quality=b}}]);return d}(k.Filter);g["default"]=a},{"../../core":63,"./generateBlurFragSource":138,"./generateBlurVertSource":139,"./getMaxBlurKernelSize":140}],137:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}
function h(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var f=function(){function b(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,
e.key,e)}}return function(a,c,e){c&&b(a.prototype,c);e&&b(a,e);return a}}();k=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../../core"));var d=a("./generateBlurVertSource"),c=l(d),d=a("./generateBlurFragSource"),b=l(d);a=a("./getMaxBlurKernelSize");var e=l(a);a=function(a){function d(e,f,g,h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");h=h||5;var m=
(0,c["default"])(h,!1);h=(0,b["default"])(h);m=a.call(this,m,h);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;m.resolution=g||1;m._quality=0;m.quality=f||4;m.strength=e||8;m.firstRun=!0;return m}h(d,a);d.prototype.apply=function(a,d,f,g){if(this.firstRun){var h=a.renderer.gl,h=(0,e["default"])(h);this.vertexSrc=(0,c["default"])(h,!1);this.fragmentSrc=(0,b["default"])(h);this.firstRun=!1}this.uniforms.strength=
1/f.size.height*(f.size.height/d.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)a.applyFilter(this,d,f,g);else{for(var m=h=a.getRenderTarget(!0),k=0;k<this.passes-1;k++){a.applyFilter(this,d,m,!0);var l=m,m=d;d=l}a.applyFilter(this,d,f,g);a.returnRenderTarget(h)}};f(d,[{key:"blur",get:function(){return this.strength},set:function(b){this.padding=2*Math.abs(b);this.strength=b}},{key:"quality",get:function(){return this._quality},set:function(b){this.passes=
this._quality=b}}]);return d}(k.Filter);g["default"]=a},{"../../core":63,"./generateBlurFragSource":138,"./generateBlurVertSource":139,"./getMaxBlurKernelSize":140}],138:[function(a,k,g){g.__esModule=!0;g["default"]=function(a){for(var d=l[a],c=d.length,b=h,e="",f,g=0;g<a;g++){var m="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",g);f=g;g>=c&&(f=a-g-1);m=m.replace("%value%",d[f]);e+=m;e+="\n"}b=b.replace("%blur%",e);return b=b.replace("%size%",a)};var l=
{5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},h="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}"},{}],139:[function(a,k,g){g.__esModule=!0;g["default"]=function(a,f){var d=Math.ceil(a/
2),c=l,b="",e;e=f?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var g=0;g<a;g++)var h=e.replace("%index%",g),h=h.replace("%sampleIndex%",g-(d-1)+".0"),b=b+h,b=b+"\n";c=c.replace("%blur%",b);return c=c.replace("%size%",a)};var l="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform float strength;\nuniform mat3 projectionMatrix;\nvarying vec2 vBlurTexCoords[%size%];\nvoid main(void)\n{\ngl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n%blur%\n}"},
{}],140:[function(a,k,g){g.__esModule=!0;g["default"]=function(a){a=a.getParameter(a.MAX_VARYING_VECTORS);for(var g=15;g>a;)g-=2;return g}},{}],141:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;var h=
function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();k=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(a("../../core"));a("path");a=function(a){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var c;c=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4] * c.a;\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9] * c.a;\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14] * c.a;\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19] * c.a;\n\n//    gl_FragColor = vec4(m[0]);\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];return c}l(d,a);d.prototype._loadMatrix=function(a){var b=a;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(b,this.uniforms.m,a),b=this._colorMatrix(b));this.uniforms.m=b};d.prototype._multiply=function(a,b,e){a[0]=b[0]*e[0]+b[1]*e[5]+b[2]*e[10]+b[3]*e[15];a[1]=b[0]*e[1]+
b[1]*e[6]+b[2]*e[11]+b[3]*e[16];a[2]=b[0]*e[2]+b[1]*e[7]+b[2]*e[12]+b[3]*e[17];a[3]=b[0]*e[3]+b[1]*e[8]+b[2]*e[13]+b[3]*e[18];a[4]=b[0]*e[4]+b[1]*e[9]+b[2]*e[14]+b[3]*e[19];a[5]=b[5]*e[0]+b[6]*e[5]+b[7]*e[10]+b[8]*e[15];a[6]=b[5]*e[1]+b[6]*e[6]+b[7]*e[11]+b[8]*e[16];a[7]=b[5]*e[2]+b[6]*e[7]+b[7]*e[12]+b[8]*e[17];a[8]=b[5]*e[3]+b[6]*e[8]+b[7]*e[13]+b[8]*e[18];a[9]=b[5]*e[4]+b[6]*e[9]+b[7]*e[14]+b[8]*e[19];a[10]=b[10]*e[0]+b[11]*e[5]+b[12]*e[10]+b[13]*e[15];a[11]=b[10]*e[1]+b[11]*e[6]+b[12]*e[11]+b[13]*
e[16];a[12]=b[10]*e[2]+b[11]*e[7]+b[12]*e[12]+b[13]*e[17];a[13]=b[10]*e[3]+b[11]*e[8]+b[12]*e[13]+b[13]*e[18];a[14]=b[10]*e[4]+b[11]*e[9]+b[12]*e[14]+b[13]*e[19];a[15]=b[15]*e[0]+b[16]*e[5]+b[17]*e[10]+b[18]*e[15];a[16]=b[15]*e[1]+b[16]*e[6]+b[17]*e[11]+b[18]*e[16];a[17]=b[15]*e[2]+b[16]*e[7]+b[17]*e[12]+b[18]*e[17];a[18]=b[15]*e[3]+b[16]*e[8]+b[17]*e[13]+b[18]*e[18];a[19]=b[15]*e[4]+b[16]*e[9]+b[17]*e[14]+b[18]*e[19];return a};d.prototype._colorMatrix=function(a){a=new Float32Array(a);a[4]/=255;
a[9]/=255;a[14]/=255;a[19]/=255;return a};d.prototype.brightness=function(a,b){this._loadMatrix([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],b)};d.prototype.greyscale=function(a,b){this._loadMatrix([a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0],b)};d.prototype.blackAndWhite=function(a){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],a)};d.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a),d=Math.sin(a),f=Math.sqrt,g=1/3,f=f(g);this._loadMatrix([c+(1-c)*g,g*(1-c)-f*d,g*
(1-c)+f*d,0,0,g*(1-c)+f*d,c+g*(1-c),g*(1-c)-f*d,0,0,g*(1-c)-f*d,g*(1-c)+f*d,c+g*(1-c),0,0,0,0,0,1,0],b)};d.prototype.contrast=function(a,b){var c=(a||0)+1,d=-128*(c-1);this._loadMatrix([c,0,0,0,d,0,c,0,0,d,0,0,c,0,d,0,0,0,1,0],b)};d.prototype.saturate=function(){var a=2*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)/3+1,b=-.5*(a-1);this._loadMatrix([a,b,b,0,0,b,a,b,0,0,b,b,a,0,0,0,0,0,1,0],arguments[1])};d.prototype.desaturate=function(){this.saturate(-1)};d.prototype.negative=function(a){this._loadMatrix([0,
1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],a)};d.prototype.sepia=function(a){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],a)};d.prototype.technicolor=function(a){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],a)};d.prototype.polaroid=
function(a){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],a)};d.prototype.toBGR=function(a){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],a)};d.prototype.kodachrome=function(a){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,
0],a)};d.prototype.browni=function(a){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],a)};d.prototype.vintage=function(a){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,
.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],a)};d.prototype.colorTone=function(a,b,e,d,f){e=e||16770432;d=d||3375104;var c=(e>>16&255)/255,g=(e>>8&255)/255;e=(e&255)/255;var h=(d>>16&255)/255,k=(d>>8&255)/255;d=(d&255)/255;this._loadMatrix([.3,.59,.11,0,0,c,g,e,a||.2,0,h,k,d,b||.15,0,c-h,g-k,e-d,0,0],f)};d.prototype.night=function(a,b){a=a||.1;this._loadMatrix([-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0],b)};d.prototype.predator=function(a,b){this._loadMatrix([11.224130630493164*
a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0],b)};d.prototype.lsd=function(a){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],a)};d.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};h(d,[{key:"matrix",get:function(){return this.uniforms.m},
set:function(a){this.uniforms.m=a}}]);return d}(k.Filter);g["default"]=a;a.prototype.grayscale=a.prototype.greyscale},{"../../core":63,path:22}],142:[function(a,k,g){function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}g.__esModule=!0;var h=
function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}(),f=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c["default"]=a;return c}(a("../../core"));a("path");a=function(a){function c(b,e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var d=new f.Matrix;b.renderable=!1;var g;g=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n");
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.maskSprite=b;g.maskMatrix=d;g.uniforms.mapSampler=b.texture;g.uniforms.filterMatrix=d.toArray(!0);g.uniforms.scale={x:1,y:1};if(null===e||void 0===e)e=20;g.scale=new f.Point(e,e);return g}l(c,a);c.prototype.apply=function(b,a,c){var e=1/c.destinationFrame.width*(c.size.width/a.size.width);this.uniforms.filterMatrix=b.calculateSpriteMatrix(this.maskMatrix,
this.maskSprite);this.uniforms.scale.x=this.scale.x*e;this.uniforms.scale.y=this.scale.y*e;b.applyFilter(this,a,c)};h(c,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(b){this.uniforms.mapSampler=b}}]);return c}(f.Filter);g["default"]=a},{"../../core":63,path:22}],143:[function(a,k,g){function l(a,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}g.__esModule=!0;k=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(f[d]=a[d]);f["default"]=a;return f}(a("../../core"));a("path");a=function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var d=a.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n');
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}l(f,a);return f}(k.Filter);g["default"]=a},{"../../core":63,path:22}],144:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}g.__esModule=!0;var h=a("./fxaa/FXAAFilter");Object.defineProperty(g,"FXAAFilter",{enumerable:!0,get:function(){return l(h)["default"]}});var f=a("./noise/NoiseFilter");Object.defineProperty(g,"NoiseFilter",
{enumerable:!0,get:function(){return l(f)["default"]}});var d=a("./displacement/DisplacementFilter");Object.defineProperty(g,"DisplacementFilter",{enumerable:!0,get:function(){return l(d)["default"]}});var c=a("./blur/BlurFilter");Object.defineProperty(g,"BlurFilter",{enumerable:!0,get:function(){return l(c)["default"]}});var b=a("./blur/BlurXFilter");Object.defineProperty(g,"BlurXFilter",{enumerable:!0,get:function(){return l(b)["default"]}});var e=a("./blur/BlurYFilter");Object.defineProperty(g,
"BlurYFilter",{enumerable:!0,get:function(){return l(e)["default"]}});var n=a("./colormatrix/ColorMatrixFilter");Object.defineProperty(g,"ColorMatrixFilter",{enumerable:!0,get:function(){return l(n)["default"]}});var p=a("./void/VoidFilter");Object.defineProperty(g,"VoidFilter",{enumerable:!0,get:function(){return l(p)["default"]}})},{"./blur/BlurFilter":135,"./blur/BlurXFilter":136,"./blur/BlurYFilter":137,"./colormatrix/ColorMatrixFilter":141,"./displacement/DisplacementFilter":142,"./fxaa/FXAAFilter":143,
"./noise/NoiseFilter":145,"./void/VoidFilter":146}],145:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;var h=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||
!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();k=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(a("../../core"));a("path");a=function(a){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var c;c=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.noise=.5;return c}l(d,a);h(d,[{key:"noise",get:function(){return this.uniforms.noise},set:function(a){this.uniforms.noise=a}}]);return d}(k.Filter);g["default"]=a},{"../../core":63,path:22}],146:[function(a,k,g){function l(a,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}g.__esModule=!0;k=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(f[d]=a[d]);f["default"]=a;return f}(a("../../core"));a("path");a=function(a){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var d;d=a.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");d=!d||"object"!==typeof d&&"function"!==typeof d?this:d;d.glShaderKey="void";return d}l(f,a);return f}(k.Filter);g["default"]=a},{"../../core":63,path:22}],147:[function(a,k,g){g.__esModule=!0;var l=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,
d)&&(f[d]=a[d]);f["default"]=a;return f}(a("../core"));a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.global=new l.Point;this.originalEvent=this.target=null}a.prototype.getLocalPosition=function(a,d,c){return a.worldTransform.applyInverse(c||this.global,d)};return a}();g["default"]=a},{"../core":63}],148:[function(a,k,g){g.__esModule=!0;a=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.stopped=!1;this.data=this.type=this.currentTarget=this.target=null}a.prototype.stopPropagation=function(){this.stopped=!0};a.prototype._reset=function(){this.stopped=!1;this.target=this.currentTarget=null};return a}();g["default"]=a},{}],149:[function(a,k,g){function l(a){return a&&a.__esModule?a:{"default":a}}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;var f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(a("../core"));k=a("./InteractionData");var d=l(k);k=a("./InteractionEvent");var c=l(k);k=a("eventemitter3");k=l(k);var b=a("./interactiveTarget"),b=l(b);a=a("ismobilejs");var e=l(a);Object.assign(f.DisplayObject.prototype,
b["default"]);a=function(a){function b(g,h){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var m;m=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");m=!m||"object"!==typeof m&&"function"!==typeof m?this:m;h=h||{};m.renderer=g;m.autoPreventDefault=void 0!==h.autoPreventDefault?h.autoPreventDefault:!0;m.interactionFrequency=h.interactionFrequency||10;m.mouse=new d["default"];m.mouse.global.set(-999999);m.pointer=
new d["default"];m.pointer.global.set(-999999);m.eventData=new c["default"];m.interactiveDataPool=[];m.interactionDOMElement=null;m.moveWhenInside=!1;m.eventsAdded=!1;m.mouseOverRenderer=!1;m.supportsTouchEvents="ontouchstart"in window;m.supportsPointerEvents=!!window.PointerEvent;m.normalizeTouchEvents=!m.supportsPointerEvents&&m.supportsTouchEvents;m.normalizeMouseEvents=!m.supportsPointerEvents&&!e["default"].any;m.onMouseUp=m.onMouseUp.bind(m);m.processMouseUp=m.processMouseUp.bind(m);m.onMouseDown=
m.onMouseDown.bind(m);m.processMouseDown=m.processMouseDown.bind(m);m.onMouseMove=m.onMouseMove.bind(m);m.processMouseMove=m.processMouseMove.bind(m);m.onMouseOut=m.onMouseOut.bind(m);m.processMouseOverOut=m.processMouseOverOut.bind(m);m.onMouseOver=m.onMouseOver.bind(m);m.onPointerUp=m.onPointerUp.bind(m);m.processPointerUp=m.processPointerUp.bind(m);m.onPointerDown=m.onPointerDown.bind(m);m.processPointerDown=m.processPointerDown.bind(m);m.onPointerMove=m.onPointerMove.bind(m);m.processPointerMove=
m.processPointerMove.bind(m);m.onPointerOut=m.onPointerOut.bind(m);m.processPointerOverOut=m.processPointerOverOut.bind(m);m.onPointerOver=m.onPointerOver.bind(m);m.onTouchStart=m.onTouchStart.bind(m);m.processTouchStart=m.processTouchStart.bind(m);m.onTouchEnd=m.onTouchEnd.bind(m);m.processTouchEnd=m.processTouchEnd.bind(m);m.onTouchMove=m.onTouchMove.bind(m);m.processTouchMove=m.processTouchMove.bind(m);m.defaultCursorStyle="inherit";m.currentCursorStyle="inherit";m._tempPoint=new f.Point;m.resolution=
1;m.setTargetElement(m.renderer.view,m.renderer.resolution);return m}h(b,a);b.prototype.setTargetElement=function(b){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents();this.interactionDOMElement=b;this.resolution=a;this.addEvents()};b.prototype.addEvents=function(){this.interactionDOMElement&&(f.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]=
"none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&
(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",
this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0))),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onMouseOver,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",
this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0)),this.eventsAdded=!0)};b.prototype.removeEvents=function(){this.interactionDOMElement&&(f.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=
""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",
this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",
this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0))),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onMouseOver,!0),window.removeEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",
this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)};b.prototype.update=function(b){this._deltaTime+=b;this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.interactionDOMElement&&(this.didMove?this.didMove=!1:(this.cursor=this.defaultCursorStyle,this.eventData._reset(),this.processInteractive(this.mouse.global,
this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor))))};b.prototype.dispatchEvent=function(b,a,c){if(!c.stopped&&(c.currentTarget=b,c.type=a,b.emit(a,c),b[a]))b[a](c)};b.prototype.mapPositionToPoint=function(b,a,c){var e;e=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var d=navigator.isCocoonJS?
this.resolution:1/this.resolution;b.x=this.interactionDOMElement.width/e.width*(a-e.left)*d;b.y=this.interactionDOMElement.height/e.height*(c-e.top)*d};b.prototype.processInteractive=function(b,a,c,e,d){if(!a||!a.visible)return!1;d=a.interactive||d;var f=!1,g=d;a.hitArea&&(g=!1);e&&a._mask&&(a._mask.containsPoint(b)||(e=!1));e&&a.filterArea&&(a.filterArea.contains(b.x,b.y)||(e=!1));if(a.interactiveChildren&&a.children)for(var h=a.children,m=h.length-1;0<=m;m--){var k=h[m];this.processInteractive(b,
k,c,e,g)&&k.parent&&(f=!0,e=g=!1)}d&&(e&&!f&&(a.hitArea?(a.worldTransform.applyInverse(b,this._tempPoint),f=a.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):a.containsPoint&&(f=a.containsPoint(b))),a.interactive&&(f&&!this.eventData.target&&(this.eventData.target=a,this.mouse.target=a,this.pointer.target=a),c(a,f)));return f};b.prototype.onMouseDown=function(b){this.mouse.originalEvent=b;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,b.clientX,
b.clientY);this.autoPreventDefault&&this.mouse.originalEvent.preventDefault();this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0);this.emit(2===b.button||3===b.which?"rightdown":"mousedown",this.eventData)};b.prototype.processMouseDown=function(b,a){var c=this.mouse.originalEvent,c=2===c.button||3===c.which;a&&(b[c?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(b,c?"rightdown":"mousedown",this.eventData))};b.prototype.onMouseUp=function(b){this.mouse.originalEvent=
b;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,b.clientX,b.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0);this.emit(2===b.button||3===b.which?"rightup":"mouseup",this.eventData)};b.prototype.processMouseUp=function(b,a){var c=this.mouse.originalEvent,e=(c=2===c.button||3===c.which)?"_isRightDown":"_isLeftDown";a?(this.dispatchEvent(b,c?"rightup":"mouseup",this.eventData),b[e]&&(b[e]=!1,
this.dispatchEvent(b,c?"rightclick":"click",this.eventData))):b[e]&&(b[e]=!1,this.dispatchEvent(b,c?"rightupoutside":"mouseupoutside",this.eventData))};b.prototype.onMouseMove=function(b){this.mouse.originalEvent=b;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,b.clientX,b.clientY);this.didMove=!0;this.cursor=this.defaultCursorStyle;this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0);this.emit("mousemove",
this.eventData);this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)};b.prototype.processMouseMove=function(b,a){this.processMouseOverOut(b,a);this.moveWhenInside&&!a||this.dispatchEvent(b,"mousemove",this.eventData)};b.prototype.onMouseOut=function(b){this.mouseOverRenderer=!1;this.mouse.originalEvent=b;this.eventData.data=this.mouse;this.eventData._reset();this.mapPositionToPoint(this.mouse.global,b.clientX,b.clientY);this.interactionDOMElement.style.cursor=
this.defaultCursorStyle;this.mapPositionToPoint(this.mouse.global,b.clientX,b.clientY);this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1);this.emit("mouseout",this.eventData)};b.prototype.processMouseOverOut=function(b,a){a&&this.mouseOverRenderer?(b._mouseOver||(b._mouseOver=!0,this.dispatchEvent(b,"mouseover",this.eventData)),b.buttonMode&&(this.cursor=b.defaultCursor)):b._mouseOver&&(b._mouseOver=!1,this.dispatchEvent(b,"mouseout",this.eventData))};
b.prototype.onMouseOver=function(b){this.mouseOverRenderer=!0;this.mouse.originalEvent=b;this.eventData.data=this.mouse;this.eventData._reset();this.emit("mouseover",this.eventData)};b.prototype.onPointerDown=function(b){this.normalizeToPointerData(b);this.pointer.originalEvent=b;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,b.clientX,b.clientY);this.autoPreventDefault&&(this.normalizeMouseEvents||this.normalizeTouchEvents)&&this.pointer.originalEvent.preventDefault();
this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",this.eventData)};b.prototype.processPointerDown=function(b,a){a&&(b._pointerDown=!0,this.dispatchEvent(b,"pointerdown",this.eventData))};b.prototype.onPointerUp=function(b){this.normalizeToPointerData(b);this.pointer.originalEvent=b;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,b.clientX,b.clientY);this.processInteractive(this.pointer.global,
this.renderer._lastObjectRendered,this.processPointerUp,!0);this.emit("pointerup",this.eventData)};b.prototype.processPointerUp=function(b,a){a?(this.dispatchEvent(b,"pointerup",this.eventData),b._pointerDown&&(b._pointerDown=!1,this.dispatchEvent(b,"pointertap",this.eventData))):b._pointerDown&&(b._pointerDown=!1,this.dispatchEvent(b,"pointerupoutside",this.eventData))};b.prototype.onPointerMove=function(b){this.normalizeToPointerData(b);this.pointer.originalEvent=b;this.eventData.data=this.pointer;
this.eventData._reset();this.mapPositionToPoint(this.pointer.global,b.clientX,b.clientY);this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerMove,!0);this.emit("pointermove",this.eventData)};b.prototype.processPointerMove=function(b,a){this.pointer.originalEvent.changedTouches||this.processPointerOverOut(b,a);this.moveWhenInside&&!a||this.dispatchEvent(b,"pointermove",this.eventData)};b.prototype.onPointerOut=function(b){this.normalizeToPointerData(b);
this.pointer.originalEvent=b;this.eventData.data=this.pointer;this.eventData._reset();this.mapPositionToPoint(this.pointer.global,b.clientX,b.clientY);this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",this.eventData)};b.prototype.processPointerOverOut=function(b,a){a&&this.mouseOverRenderer?b._pointerOver||(b._pointerOver=!0,this.dispatchEvent(b,"pointerover",this.eventData)):b._pointerOver&&(b._pointerOver=!1,this.dispatchEvent(b,
"pointerout",this.eventData))};b.prototype.onPointerOver=function(b){this.pointer.originalEvent=b;this.eventData.data=this.pointer;this.eventData._reset();this.emit("pointerover",this.eventData)};b.prototype.onTouchStart=function(b){this.autoPreventDefault&&b.preventDefault();for(var a=b.changedTouches,c=a.length,e=0;e<c;e++){var d=this.getTouchData(a[e]);d.originalEvent=b;this.eventData.data=d;this.eventData._reset();this.processInteractive(d.global,this.renderer._lastObjectRendered,this.processTouchStart,
!0);this.emit("touchstart",this.eventData);this.returnTouchData(d)}};b.prototype.processTouchStart=function(b,a){a&&(b._touchDown=!0,this.dispatchEvent(b,"touchstart",this.eventData))};b.prototype.onTouchEnd=function(b){this.autoPreventDefault&&b.preventDefault();for(var a=b.changedTouches,c=a.length,e=0;e<c;e++){var d=this.getTouchData(a[e]);d.originalEvent=b;this.eventData.data=d;this.eventData._reset();this.processInteractive(d.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0);
this.emit("touchend",this.eventData);this.returnTouchData(d)}};b.prototype.processTouchEnd=function(b,a){a?(this.dispatchEvent(b,"touchend",this.eventData),b._touchDown&&(b._touchDown=!1,this.dispatchEvent(b,"tap",this.eventData))):b._touchDown&&(b._touchDown=!1,this.dispatchEvent(b,"touchendoutside",this.eventData))};b.prototype.onTouchMove=function(b){this.autoPreventDefault&&b.preventDefault();for(var a=b.changedTouches,c=a.length,e=0;e<c;e++){var d=this.getTouchData(a[e]);d.originalEvent=b;this.eventData.data=
d;this.eventData._reset();this.processInteractive(d.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside);this.emit("touchmove",this.eventData);this.returnTouchData(d)}};b.prototype.processTouchMove=function(b,a){this.moveWhenInside&&!a||this.dispatchEvent(b,"touchmove",this.eventData)};b.prototype.getTouchData=function(b){var a=this.interactiveDataPool.pop()||new d["default"];a.identifier=b.identifier;this.mapPositionToPoint(a.global,b.clientX,b.clientY);navigator.isCocoonJS&&
(a.global.x/=this.resolution,a.global.y/=this.resolution);b.globalX=a.global.x;b.globalY=a.global.y;return a};b.prototype.returnTouchData=function(b){this.interactiveDataPool.push(b)};b.prototype.normalizeToPointerData=function(b){this.normalizeTouchEvents&&b.changedTouches?("undefined"===typeof b.button&&(b.button=b.touches.length?1:0),"undefined"===typeof b.buttons&&(b.buttons=b.touches.length?1:0),"undefined"===typeof b.isPrimary&&(b.isPrimary=1===b.touches.length),"undefined"===typeof b.width&&
(b.width=b.changedTouches[0].radiusX||1),"undefined"===typeof b.height&&(b.height=b.changedTouches[0].radiusY||1),"undefined"===typeof b.tiltX&&(b.tiltX=0),"undefined"===typeof b.tiltY&&(b.tiltY=0),"undefined"===typeof b.pointerType&&(b.pointerType="touch"),"undefined"===typeof b.pointerId&&(b.pointerId=b.changedTouches[0].identifier||0),"undefined"===typeof b.pressure&&(b.pressure=b.changedTouches[0].force||.5),"undefined"===typeof b.rotation&&(b.rotation=b.changedTouches[0].rotationAngle||0),"undefined"===
typeof b.clientX&&(b.clientX=b.changedTouches[0].clientX),"undefined"===typeof b.clientY&&(b.clientY=b.changedTouches[0].clientY),"undefined"===typeof b.pageX&&(b.pageX=b.changedTouches[0].pageX),"undefined"===typeof b.pageY&&(b.pageY=b.changedTouches[0].pageY),"undefined"===typeof b.screenX&&(b.screenX=b.changedTouches[0].screenX),"undefined"===typeof b.screenY&&(b.screenY=b.changedTouches[0].screenY),"undefined"===typeof b.layerX&&(b.layerX=b.offsetX=b.clientX),"undefined"===typeof b.layerY&&(b.layerY=
b.offsetY=b.clientY)):this.normalizeMouseEvents&&("undefined"===typeof b.isPrimary&&(b.isPrimary=!0),"undefined"===typeof b.width&&(b.width=1),"undefined"===typeof b.height&&(b.height=1),"undefined"===typeof b.tiltX&&(b.tiltX=0),"undefined"===typeof b.tiltY&&(b.tiltY=0),"undefined"===typeof b.pointerType&&(b.pointerType="mouse"),"undefined"===typeof b.pointerId&&(b.pointerId=1),"undefined"===typeof b.pressure&&(b.pressure=.5),"undefined"===typeof b.rotation&&(b.rotation=0))};b.prototype.destroy=function(){this.removeEvents();
this.removeAllListeners();this._tempPoint=this.processTouchMove=this.onTouchMove=this.processTouchEnd=this.onTouchEnd=this.processTouchStart=this.onTouchStart=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerUp=this.onPointerUp=this.processPointerDown=this.onPointerDown=this.onMouseOver=this.processMouseOverOut=this.onMouseOut=this.processMouseMove=this.onMouseMove=this.processMouseUp=this.onMouseUp=this.processMouseDown=
this.onMouseDown=this.interactionDOMElement=this.interactiveDataPool=this.eventData=this.mouse=this.renderer=null};return b}(k["default"]);g["default"]=a;f.WebGLRenderer.registerPlugin("interaction",a);f.CanvasRenderer.registerPlugin("interaction",a)},{"../core":63,"./InteractionData":147,"./InteractionEvent":148,"./interactiveTarget":151,eventemitter3:3,ismobilejs:4}],150:[function(a,k,g){function l(a){return a&&a.__esModule?a:{"default":a}}g.__esModule=!0;var h=a("./InteractionData");Object.defineProperty(g,
"InteractionData",{enumerable:!0,get:function(){return l(h)["default"]}});var f=a("./InteractionManager");Object.defineProperty(g,"InteractionManager",{enumerable:!0,get:function(){return l(f)["default"]}});var d=a("./interactiveTarget");Object.defineProperty(g,"interactiveTarget",{enumerable:!0,get:function(){return l(d)["default"]}})},{"./InteractionData":147,"./InteractionManager":149,"./interactiveTarget":151}],151:[function(a,k,g){g.__esModule=!0;g["default"]={interactive:!1,interactiveChildren:!0,
hitArea:null,buttonMode:!1,defaultCursor:"pointer",_over:!1,_isLeftDown:!1,_isRightDown:!1,_pointerOver:!1,_pointerDown:!1,_touchDown:!1}},{}],152:[function(a,k,g){function l(b,a){var e={},d=b.data.getElementsByTagName("info")[0],g=b.data.getElementsByTagName("common")[0];e.font=d.getAttribute("face");e.size=parseInt(d.getAttribute("size"),10);e.lineHeight=parseInt(g.getAttribute("lineHeight"),10);e.chars={};d=b.data.getElementsByTagName("char");for(g=0;g<d.length;g++){var h=parseInt(d[g].getAttribute("id"),
10),k=new f.Rectangle(parseInt(d[g].getAttribute("x"),10)+a.frame.x,parseInt(d[g].getAttribute("y"),10)+a.frame.y,parseInt(d[g].getAttribute("width"),10),parseInt(d[g].getAttribute("height"),10));e.chars[h]={xOffset:parseInt(d[g].getAttribute("xoffset"),10),yOffset:parseInt(d[g].getAttribute("yoffset"),10),xAdvance:parseInt(d[g].getAttribute("xadvance"),10),kerning:{},texture:new f.Texture(a.baseTexture,k)}}d=b.data.getElementsByTagName("kerning");for(g=0;g<d.length;g++){var h=parseInt(d[g].getAttribute("first"),
10),k=parseInt(d[g].getAttribute("second"),10),l=parseInt(d[g].getAttribute("amount"),10);e.chars[k]&&(e.chars[k].kerning[h]=l)}b.bitmapFont=e;c.BitmapText.fonts[e.font]=e}g.__esModule=!0;g.parse=l;g["default"]=function(){return function(b,a){if(b.data&&b.type===d.Resource.TYPE.XML)if(0===b.data.getElementsByTagName("page").length||0===b.data.getElementsByTagName("info").length||null===b.data.getElementsByTagName("info")[0].getAttribute("face"))a();else{var c=b.isDataUrl?"":h.dirname(b.url);b.isDataUrl&&
("."===c&&(c=""),this.baseUrl&&c&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(c+="/"),c=c.replace(this.baseUrl,"")));c&&"/"!==c.charAt(c.length-1)&&(c+="/");c+=b.data.getElementsByTagName("page")[0].getAttribute("file");f.utils.TextureCache[c]?(l(b,f.utils.TextureCache[c]),a()):this.add(b.name+"_image",c,{crossOrigin:b.crossOrigin,loadType:d.Resource.LOAD_TYPE.IMAGE,metadata:b.metadata.imageMetadata,parentResource:b},function(c){l(b,c.texture);a()})}else a()}};var h=function(b){if(b&&b.__esModule)return b;
var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("path")),f=a("../core"),d=a("resource-loader"),c=a("../extras")},{"../core":63,"../extras":133,path:22,"resource-loader":34}],153:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}g.__esModule=!0;var h=a("./loader");Object.defineProperty(g,"Loader",{enumerable:!0,get:function(){return l(h)["default"]}});var f=a("./bitmapFontParser");Object.defineProperty(g,"bitmapFontParser",
{enumerable:!0,get:function(){return l(f)["default"]}});Object.defineProperty(g,"parseBitmapFontData",{enumerable:!0,get:function(){return f.parse}});var d=a("./spritesheetParser");Object.defineProperty(g,"spritesheetParser",{enumerable:!0,get:function(){return l(d)["default"]}});var c=a("./textureParser");Object.defineProperty(g,"textureParser",{enumerable:!0,get:function(){return l(c)["default"]}});var b=a("resource-loader");Object.defineProperty(g,"Resource",{enumerable:!0,get:function(){return b.Resource}})},
{"./bitmapFontParser":152,"./loader":154,"./spritesheetParser":155,"./textureParser":156,"resource-loader":34}],154:[function(a,k,g){function l(b){return b&&b.__esModule?b:{"default":b}}function h(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?b:a}function f(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=
Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;k=a("resource-loader");k=l(k);var d=a("resource-loader/lib/middlewares/parsing/blob"),c=a("eventemitter3"),b=l(c),c=a("./textureParser"),c=l(c),e=a("./spritesheetParser"),e=l(e);a=a("./bitmapFontParser");a=l(a);var n=function(a){function c(e,d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
var f=h(this,a.call(this,e,d));b["default"].call(f);for(var g=0;g<c._pixiMiddleware.length;++g)f.use(c._pixiMiddleware[g]());f.onStart.add(function(b){return f.emit("start",b)});f.onProgress.add(function(b,a){return f.emit("progress",b,a)});f.onError.add(function(b,a,c){return f.emit("error",b,a,c)});f.onLoad.add(function(b,a){return f.emit("load",b,a)});f.onComplete.add(function(b,a){return f.emit("complete",b,a)});return f}f(c,a);c.addPixiMiddleware=function(b){c._pixiMiddleware.push(b)};return c}(k["default"]);
g["default"]=n;for(var p in b["default"].prototype)n.prototype[p]=b["default"].prototype[p];n._pixiMiddleware=[d.blobMiddlewareFactory,c["default"],e["default"],a["default"]];g=k["default"].Resource;g.setExtensionXhrType("fnt",g.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":152,"./spritesheetParser":155,"./textureParser":156,eventemitter3:3,"resource-loader":34,"resource-loader/lib/middlewares/parsing/blob":35}],155:[function(a,k,g){g.__esModule=!0;g["default"]=function(){return function(a,b){var c=
void 0,g=a.name+"_image";if(a.data&&a.type===l.Resource.TYPE.JSON&&a.data.frames&&!this.resources[g]){var k={crossOrigin:a.crossOrigin,loadType:l.Resource.LOAD_TYPE.IMAGE,metadata:a.metadata.imageMetadata,parentResource:a},c=a.isDataUrl?a.data.meta.image:h["default"].dirname(a.url.replace(this.baseUrl,""))+"/"+a.data.meta.image;this.add(g,c,k,function(c){function e(b,c){for(var e=b;e-b<c&&e<m.length;){var d=m[e],g=k[d].frame;if(g){var h,p=null,q=new f.Rectangle(0,0,k[d].sourceSize.w/n,k[d].sourceSize.h/
n);h=k[d].rotated?new f.Rectangle(g.x/n,g.y/n,g.h/n,g.w/n):new f.Rectangle(g.x/n,g.y/n,g.w/n,g.h/n);k[d].trimmed&&(p=new f.Rectangle(k[d].spriteSourceSize.x/n,k[d].spriteSourceSize.y/n,g.w/n,g.h/n));a.textures[d]=new f.Texture(l,h,q,p,k[d].rotated?2:0);f.utils.TextureCache[d]=a.textures[d]}e++}}function g(b){e(p*d,d);p++;setTimeout(b,0)}function h(){g(function(){p*d<m.length?h():b()})}a.textures={};var k=a.data.frames,m=Object.keys(k),l=c.texture.baseTexture;c=a.data.meta.scale;var n=f.utils.getResolutionOfUrl(a.url,
null);null===n&&(n=void 0!==c?c:1);1!==n&&(l.resolution=n,l.update());var p=0;m.length<=d?(e(0,d),b()):h()})}else b()}};var l=a("resource-loader"),h=(k=a("path"))&&k.__esModule?k:{"default":k},f=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(a("../core")),d=1E3},{"../core":63,path:22,"resource-loader":34}],156:[function(a,k,g){g.__esModule=!0;g["default"]=function(){return function(a,d){if(a.data&&
a.type===h.Resource.TYPE.IMAGE){var c=new l.BaseTexture(a.data,null,l.utils.getResolutionOfUrl(a.url));c.imageUrl=a.url;a.texture=new l.Texture(c);l.utils.BaseTextureCache[a.name]=c;l.utils.TextureCache[a.name]=a.texture;a.name!==a.url&&(l.utils.BaseTextureCache[a.url]=c,l.utils.TextureCache[a.url]=a.texture)}d()}};var l=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(a("../core")),h=a("resource-loader")},
{"../core":63,"resource-loader":34}],157:[function(a,k,g){function l(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}g.__esModule=!0;var h=function(){function b(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=
!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}(),f=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);a["default"]=b;return a}(a("../core")),d=new f.Point,c=new f.Polygon;a=function(b){function a(c,e,d,g,h){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var k;k=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;k._texture=null;k.uvs=d||new Float32Array([0,0,1,0,1,1,0,1]);k.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]);k.indices=g||new Uint16Array([0,1,3,2]);k.dirty=0;k.indexDirty=0;k.blendMode=f.BLEND_MODES.NORMAL;k.canvasPadding=0;k.drawMode=h||a.DRAW_MODES.TRIANGLE_MESH;k.texture=c;k.shader=null;k.tintRgb=new Float32Array([1,1,1]);k._glDatas={};k.pluginName="mesh";return k}l(a,b);a.prototype._renderWebGL=function(b){b.setObjectRenderer(b.plugins[this.pluginName]);
b.plugins[this.pluginName].render(this)};a.prototype._renderCanvas=function(b){b.plugins[this.pluginName].render(this)};a.prototype._onTextureUpdate=function(){};a.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};a.prototype.containsPoint=function(b){if(!this.getBounds().contains(b.x,b.y))return!1;this.worldTransform.applyInverse(b,d);b=this.vertices;for(var e=c.points,f=this.indices,g=this.indices.length,h=this.drawMode===a.DRAW_MODES.TRIANGLES?
3:1,k=0;k+2<g;k+=h){var l=2*f[k],n=2*f[k+1],v=2*f[k+2];e[0]=b[l];e[1]=b[l+1];e[2]=b[n];e[3]=b[n+1];e[4]=b[v];e[5]=b[v+1];if(c.contains(d.x,d.y))return!0}return!1};h(a,[{key:"texture",get:function(){return this._texture},set:function(b){if(this._texture!==b&&(this._texture=b))if(b.baseTexture.hasLoaded)this._onTextureUpdate();else b.once("update",this._onTextureUpdate,this)}},{key:"tint",get:function(){return f.utils.rgb2hex(this.tintRgb)},set:function(b){this.tintRgb=f.utils.hex2rgb(b,this.tintRgb)}}]);
return a}(f.Container);g["default"]=a;a.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":63}],158:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;var h=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=
c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(d,c,b){c&&a(d.prototype,c);b&&a(d,b);return d}}();a=a("./Plane");a=function(a){function d(c,b,e,f,g){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h;h=a.call(this,c,4,4);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");h=!h||"object"!==typeof h&&"function"!==typeof h?this:h;var k=h.uvs;
k[6]=k[14]=k[22]=k[30]=1;k[25]=k[27]=k[29]=k[31]=1;h._origWidth=c.width;h._origHeight=c.height;h._uvw=1/h._origWidth;h._uvh=1/h._origHeight;h.width=c.width;h.height=c.height;k[2]=k[10]=k[18]=k[26]=h._uvw*b;k[4]=k[12]=k[20]=k[28]=1-h._uvw*f;k[9]=k[11]=k[13]=k[15]=h._uvh*e;k[17]=k[19]=k[21]=k[23]=1-h._uvh*g;h.leftWidth="undefined"!==typeof b?b:10;h.rightWidth="undefined"!==typeof f?f:10;h.topHeight="undefined"!==typeof e?e:10;h.bottomHeight="undefined"!==typeof g?g:10;return h}l(d,a);d.prototype.updateHorizontalVertices=
function(){var a=this.vertices;a[9]=a[11]=a[13]=a[15]=this._topHeight;a[17]=a[19]=a[21]=a[23]=this._height-this._bottomHeight;a[25]=a[27]=a[29]=a[31]=this._height};d.prototype.updateVerticalVertices=function(){var a=this.vertices;a[2]=a[10]=a[18]=a[26]=this._leftWidth;a[4]=a[12]=a[20]=a[28]=this._width-this._rightWidth;a[6]=a[14]=a[22]=a[30]=this._width};d.prototype._renderCanvas=function(a){var b=a.context;b.globalAlpha=this.worldAlpha;var c=this.worldTransform,d=a.resolution;a.roundPixels?b.setTransform(c.a*
d,c.b*d,c.c*d,c.d*d,c.tx*d|0,c.ty*d|0):b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d,c.ty*d);d=this._texture.baseTexture;a=d.source;c=d.width;d=d.height;this.drawSegment(b,a,c,d,0,1,10,11);this.drawSegment(b,a,c,d,2,3,12,13);this.drawSegment(b,a,c,d,4,5,14,15);this.drawSegment(b,a,c,d,8,9,18,19);this.drawSegment(b,a,c,d,10,11,20,21);this.drawSegment(b,a,c,d,12,13,22,23);this.drawSegment(b,a,c,d,16,17,26,27);this.drawSegment(b,a,c,d,18,19,28,29);this.drawSegment(b,a,c,d,20,21,30,31)};d.prototype.drawSegment=
function(a,b,e,d,f,g,h,k){var c=this.uvs,l=this.vertices,m=(c[h]-c[f])*e,n=(c[k]-c[g])*d;h=l[h]-l[f];k=l[k]-l[g];1>m&&(m=1);1>n&&(n=1);1>h&&(h=1);1>k&&(k=1);a.drawImage(b,c[f]*e,c[g]*d,m,n,l[f],l[g],h,k)};h(d,[{key:"width",get:function(){return this._width},set:function(a){this._width=a;this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(a){this._height=a;this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(a){this._leftWidth=
a;var b=this.uvs,c=this.vertices;b[2]=b[10]=b[18]=b[26]=this._uvw*a;c[2]=c[10]=c[18]=c[26]=a;this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(a){this._rightWidth=a;var b=this.uvs,c=this.vertices;b[4]=b[12]=b[20]=b[28]=1-this._uvw*a;c[4]=c[12]=c[20]=c[28]=this._width-a;this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(a){this._topHeight=a;var b=this.uvs,c=this.vertices;b[9]=b[11]=b[13]=b[15]=this._uvh*a;c[9]=c[11]=c[13]=c[15]=
a;this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(a){this._bottomHeight=a;var b=this.uvs,c=this.vertices;b[17]=b[19]=b[21]=b[23]=1-this._uvh*a;c[17]=c[19]=c[21]=c[23]=this._height-a;this.dirty=!0}}]);return d}((a&&a.__esModule?a:{"default":a})["default"]);g["default"]=a},{"./Plane":159}],159:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=
Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;var h=(a=a("./Mesh"))&&a.__esModule?a:{"default":a};a=function(a){function d(c,b,e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?
this:c;c._ready=!0;c.verticesX=b||10;c.verticesY=e||10;c.drawMode=h["default"].DRAW_MODES.TRIANGLES;c.refresh();return c}l(d,a);d.prototype.refresh=function(){for(var a=this.verticesX*this.verticesY,b=[],e=[],d=[],f=this.texture,g=this.verticesX-1,h=this.verticesY-1,k=f.width/g,l=f.height/h,w=0;w<a;w++)if(f._uvs){var t=w%this.verticesX,v=w/this.verticesX|0;b.push(t*k,v*l);e.push(f._uvs.x0+t/(this.verticesX-1)*(f._uvs.x1-f._uvs.x0),f._uvs.y0+v/(this.verticesY-1)*(f._uvs.y3-f._uvs.y0))}else e.push(0);
a=g*h;for(f=0;f<a;f++)h=f%g,k=f/g|0,l=k*this.verticesX+h+1,w=(k+1)*this.verticesX+h,t=(k+1)*this.verticesX+h+1,d.push(k*this.verticesX+h,l,w),d.push(l,t,w);this.vertices=new Float32Array(b);this.uvs=new Float32Array(e);this.colors=new Float32Array([]);this.indices=new Uint16Array(d);this.indexDirty=!0};d.prototype._onTextureUpdate=function(){h["default"].prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};return d}(h["default"]);g["default"]=a},{"./Mesh":157}],160:[function(a,k,g){function l(a,
d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;k=(k=a("./Mesh"))&&k.__esModule?k:{"default":k};var h=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);
d["default"]=a;return d}(a("../core"));a=function(a){function d(c,b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var e;e=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.points=b;e.vertices=new Float32Array(4*b.length);e.uvs=new Float32Array(4*b.length);e.colors=new Float32Array(2*b.length);e.indices=new Uint16Array(2*b.length);e._ready=!0;e.refresh();
return e}l(d,a);d.prototype.refresh=function(){var a=this.points;if(!(1>a.length)&&this._texture._uvs){this.vertices.length/4!==a.length&&(this.vertices=new Float32Array(4*a.length),this.uvs=new Float32Array(4*a.length),this.colors=new Float32Array(2*a.length),this.indices=new Uint16Array(2*a.length));var b=this.uvs,e=this.indices,d=this.colors,f=this._texture._uvs,g=new h.Point(f.x0,f.y0),f=new h.Point(f.x2-f.x0,Number(f.y2-f.y0));b[0]=0+g.x;b[1]=0+g.y;b[2]=0+g.x;b[3]=f.y+g.y;d[0]=1;d[1]=1;e[0]=
0;e[1]=1;for(var a=a.length,k=1;k<a;k++){var l=4*k,B=k/(a-1);b[l]=B*f.x+g.x;b[l+1]=0+g.y;b[l+2]=B*f.x+g.x;b[l+3]=f.y+g.y;l=2*k;d[l]=1;d[l+1]=1;l=2*k;e[l]=l;e[l+1]=l+1}this.dirty++;this.indexDirty++}};d.prototype._onTextureUpdate=function(){a.prototype._onTextureUpdate.call(this);this._ready&&this.refresh()};d.prototype.updateTransform=function(){var a=this.points;if(!(1>a.length)){for(var b=a[0],e,d,f=this.vertices,g=a.length,h=0;h<g;h++){var k=a[h],l=4*h;e=h<a.length-1?a[h+1]:k;d=-(e.x-b.x);b=e.y-
b.y;e=Math.sqrt(b*b+d*d);var w=this._texture.height/2,b=b/e;d/=e;b*=w;d*=w;f[l]=k.x+b;f[l+1]=k.y+d;f[l+2]=k.x-b;f[l+3]=k.y-d;b=k}this.containerUpdateTransform()}};return d}(k["default"]);g["default"]=a},{"../core":63,"./Mesh":157}],161:[function(a,k,g){g.__esModule=!0;k=function(a){if(a&&a.__esModule)return a;var f={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(f[d]=a[d]);f["default"]=a;return f}(a("../../core"));var l=(a=a("../Mesh"))&&a.__esModule?a:{"default":a};a=function(){function a(f){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.renderer=f}a.prototype.render=function(a){var d=this.renderer,c=d.context,b=a.worldTransform,e=d.resolution;d.roundPixels?c.setTransform(b.a*e,b.b*e,b.c*e,b.d*e,b.tx*e|0,b.ty*e|0):c.setTransform(b.a*e,b.b*e,b.c*e,b.d*e,b.tx*e,b.ty*e);d.setBlendMode(a.blendMode);a.drawMode===l["default"].DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(a):this._renderTriangles(a)};a.prototype._renderTriangleMesh=function(a){for(var d=a.vertices.length/
2,c=0;c<d-2;c++){var b=2*c;this._renderDrawTriangle(a,b,b+2,b+4)}};a.prototype._renderTriangles=function(a){for(var d=a.indices,c=d.length,b=0;b<c;b+=3)this._renderDrawTriangle(a,2*d[b],2*d[b+1],2*d[b+2])};a.prototype._renderDrawTriangle=function(a,d,c,b){var e=this.renderer.context,f=a.uvs,g=a.vertices,h=a._texture;if(h.valid){var h=h.baseTexture,k=h.source,l=h.width,B=h.height,w=f[d]*h.width,t=f[c]*h.width,v=f[b]*h.width,r=f[d+1]*h.height,x=f[c+1]*h.height,f=f[b+1]*h.height,y=g[d],C=g[c],z=g[b];
d=g[d+1];c=g[c+1];b=g[b+1];if(0<a.canvasPadding){g=a.canvasPadding/a.worldTransform.a;a=a.canvasPadding/a.worldTransform.d;var E=(y+C+z)/3,D=(d+c+b)/3,F=y-E,H=d-D,G=Math.sqrt(F*F+H*H),y=E+F/G*(G+g);d=D+H/G*(G+a);F=C-E;H=c-D;G=Math.sqrt(F*F+H*H);C=E+F/G*(G+g);c=D+H/G*(G+a);F=z-E;H=b-D;G=Math.sqrt(F*F+H*H);z=E+F/G*(G+g);b=D+H/G*(G+a)}e.save();e.beginPath();e.moveTo(y,d);e.lineTo(C,c);e.lineTo(z,b);e.closePath();e.clip();a=w*x+r*v+t*f-x*v-r*t-w*f;e.transform((y*x+r*z+C*f-x*z-r*C-y*f)/a,(d*x+r*b+c*f-
x*b-r*c-d*f)/a,(w*C+y*v+t*z-C*v-y*t-w*z)/a,(w*c+d*v+t*b-c*v-d*t-w*b)/a,(w*x*z+r*C*v+y*t*f-y*x*v-r*t*z-w*C*f)/a,(w*x*b+r*c*v+d*t*f-d*x*v-r*t*b-w*c*f)/a);e.drawImage(k,0,0,l*h.resolution,B*h.resolution,0,0,l,B);e.restore()}};a.prototype.renderMeshFlat=function(a){var d=this.renderer.context;a=a.vertices;var c=a.length/2;d.beginPath();for(var b=1;b<c-2;++b){var e=2*b,f=a[e+2],g=a[e+3],h=a[e+4],k=a[e+5];d.moveTo(a[e],a[e+1]);d.lineTo(f,g);d.lineTo(h,k)}d.fillStyle="#FF0000";d.fill();d.closePath()};a.prototype.destroy=
function(){this.renderer=null};return a}();g["default"]=a;k.CanvasRenderer.registerPlugin("mesh",a)},{"../../core":63,"../Mesh":157}],162:[function(a,k,g){function l(a){return a&&a.__esModule?a:{"default":a}}g.__esModule=!0;var h=a("./Mesh");Object.defineProperty(g,"Mesh",{enumerable:!0,get:function(){return l(h)["default"]}});var f=a("./webgl/MeshRenderer");Object.defineProperty(g,"MeshRenderer",{enumerable:!0,get:function(){return l(f)["default"]}});var d=a("./canvas/CanvasMeshRenderer");Object.defineProperty(g,
"CanvasMeshRenderer",{enumerable:!0,get:function(){return l(d)["default"]}});var c=a("./Plane");Object.defineProperty(g,"Plane",{enumerable:!0,get:function(){return l(c)["default"]}});var b=a("./NineSlicePlane");Object.defineProperty(g,"NineSlicePlane",{enumerable:!0,get:function(){return l(b)["default"]}});var e=a("./Rope");Object.defineProperty(g,"Rope",{enumerable:!0,get:function(){return l(e)["default"]}})},{"./Mesh":157,"./NineSlicePlane":158,"./Plane":159,"./Rope":160,"./canvas/CanvasMeshRenderer":161,
"./webgl/MeshRenderer":163}],163:[function(a,k,g){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;var h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,
c)&&(b[c]=a[c]);b["default"]=a;return b}(a("../../core")),f=(k=a("pixi-gl-core"))&&k.__esModule?k:{"default":k},d=(k=a("../Mesh"))&&k.__esModule?k:{"default":k};a("path");a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;return c}l(b,a);b.prototype.onContextChange=
function(){this.shader=new h.Shader(this.renderer.gl,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")};
b.prototype.render=function(a){var b=this.renderer,c=b.gl,e=a._texture;if(e.valid){var g=a._glDatas[b.CONTEXT_UID];g||(b.bindVao(null),g={shader:this.shader,vertexBuffer:f["default"].GLBuffer.createVertexBuffer(c,a.vertices,c.STREAM_DRAW),uvBuffer:f["default"].GLBuffer.createVertexBuffer(c,a.uvs,c.STREAM_DRAW),indexBuffer:f["default"].GLBuffer.createIndexBuffer(c,a.indices,c.STATIC_DRAW),vao:null,dirty:a.dirty,indexDirty:a.indexDirty},g.vao=(new f["default"].VertexArrayObject(c)).addIndex(g.indexBuffer).addAttribute(g.vertexBuffer,
g.shader.attributes.aVertexPosition,c.FLOAT,!1,8,0).addAttribute(g.uvBuffer,g.shader.attributes.aTextureCoord,c.FLOAT,!1,8,0),a._glDatas[b.CONTEXT_UID]=g);b.bindVao(g.vao);a.dirty!==g.dirty&&(g.dirty=a.dirty,g.uvBuffer.upload(a.uvs));a.indexDirty!==g.indexDirty&&(g.indexDirty=a.indexDirty,g.indexBuffer.upload(a.indices));g.vertexBuffer.upload(a.vertices);b.bindShader(g.shader);g.shader.uniforms.uSampler=b.bindTexture(e);b.state.setBlendMode(a.blendMode);g.shader.uniforms.translationMatrix=a.worldTransform.toArray(!0);
g.shader.uniforms.alpha=a.worldAlpha;g.shader.uniforms.tint=a.tintRgb;g.vao.draw(a.drawMode===d["default"].DRAW_MODES.TRIANGLE_MESH?c.TRIANGLE_STRIP:c.TRIANGLES,a.indices.length,0)}};return b}(h.ObjectRenderer);g["default"]=a;h.WebGLRenderer.registerPlugin("mesh",a)},{"../../core":63,"../Mesh":157,path:22,"pixi-gl-core":12}],164:[function(a,k,g){function l(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&
d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}g.__esModule=!0;var h=function(a){if(a&&a.__esModule)return a;var d={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);d["default"]=a;return d}(a("../core"));a=function(a){function d(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,b=arguments[1],e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
16384;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var f;f=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");f=!f||"object"!==typeof f&&"function"!==typeof f?this:f;16384<e&&(e=16384);e>c&&(e=c);f._properties=[!1,!0,!1,!1,!1];f._maxSize=c;f._batchSize=e;f._glBuffers={};f._bufferToUpdate=0;f.interactiveChildren=!1;f.blendMode=h.BLEND_MODES.NORMAL;f.roundPixels=!0;f.baseTexture=null;f.setProperties(b);return f}
l(d,a);d.prototype.setProperties=function(a){a&&(this._properties[0]="scale"in a?!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="alpha"in a?!!a.alpha:this._properties[4])};d.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};d.prototype.renderWebGL=function(a){var b=this;if(this.visible&&
!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded))this.baseTexture.once("update",function(){return b.onChildrenChange(0)});a.setObjectRenderer(a.plugins.particle);a.plugins.particle.render(this)}};d.prototype.onChildrenChange=function(a){a=Math.floor(a/this._batchSize);a<this._bufferToUpdate&&(this._bufferToUpdate=a)};d.prototype.renderCanvas=function(a){if(this.visible&&!(0>=this.worldAlpha)&&
this.children.length&&this.renderable){var b=a.context,c=this.worldTransform,d=!0,f,g,h,k,l=a.blendModes[this.blendMode];l!==b.globalCompositeOperation&&(b.globalCompositeOperation=l);b.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(l=0;l<this.children.length;++l){var w=this.children[l];if(w.visible){var t=w._texture.frame;b.globalAlpha=this.worldAlpha*w.alpha;0===w.rotation%(2*Math.PI)?(d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx*a.resolution,c.ty*a.resolution),d=!1),f=w.anchor.x*
-t.width*w.scale.x+w.position.x+.5,g=w.anchor.y*-t.height*w.scale.y+w.position.y+.5,h=t.width*w.scale.x,k=t.height*w.scale.y):(d||(d=!0),w.displayObjectUpdateTransform(),f=w.worldTransform,a.roundPixels?b.setTransform(f.a,f.b,f.c,f.d,f.tx*a.resolution|0,f.ty*a.resolution|0):b.setTransform(f.a,f.b,f.c,f.d,f.tx*a.resolution,f.ty*a.resolution),f=w.anchor.x*-t.width+.5,g=w.anchor.y*-t.height+.5,h=t.width,k=t.height);var v=w._texture.baseTexture.resolution;b.drawImage(w._texture.baseTexture.source,t.x*
v,t.y*v,t.width*v,t.height*v,f*v,g*v,h*v,k*v)}}}};d.prototype.destroy=function(c){a.prototype.destroy.call(this,c);if(this._buffers)for(c=0;c<this._buffers.length;++c)this._buffers[c].destroy();this._buffers=this._properties=null};return d}(h.Container);g["default"]=a},{"../core":63}],165:[function(a,k,g){g.__esModule=!0;var l=a("./ParticleContainer");Object.defineProperty(g,"ParticleContainer",{enumerable:!0,get:function(){return(l&&l.__esModule?l:{"default":l})["default"]}});var h=a("./webgl/ParticleRenderer");
Object.defineProperty(g,"ParticleRenderer",{enumerable:!0,get:function(){return(h&&h.__esModule?h:{"default":h})["default"]}})},{"./ParticleContainer":164,"./webgl/ParticleRenderer":167}],166:[function(a,k,g){g.__esModule=!0;var l=(k=a("pixi-gl-core"))&&k.__esModule?k:{"default":k},h=(a=a("../../core/utils/createIndicesForQuads"))&&a.__esModule?a:{"default":a};a=function(){function a(d,c,b,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gl=d;this.vertSize=
2;this.vertByteSize=4*this.vertSize;this.size=e;this.dynamicProperties=[];this.staticProperties=[];for(d=0;d<c.length;++d)e=c[d],e={attribute:e.attribute,size:e.size,uploadFunction:e.uploadFunction,offset:e.offset},b[d]?this.dynamicProperties.push(e):this.staticProperties.push(e);this.staticStride=0;this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicData=this.dynamicBuffer=null;this.initBuffers()}a.prototype.initBuffers=function(){var a=this.gl,c=0;this.indices=(0,h["default"])(this.size);
this.indexBuffer=l["default"].GLBuffer.createIndexBuffer(a,this.indices,a.STATIC_DRAW);for(var b=this.dynamicStride=0;b<this.dynamicProperties.length;++b){var e=this.dynamicProperties[b];e.offset=c;c+=e.size;this.dynamicStride+=e.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4);this.dynamicBuffer=l["default"].GLBuffer.createVertexBuffer(a,this.dynamicData,a.STREAM_DRAW);for(b=this.staticStride=c=0;b<this.staticProperties.length;++b)e=this.staticProperties[b],e.offset=c,c+=e.size,
this.staticStride+=e.size;this.staticData=new Float32Array(this.size*this.staticStride*4);this.staticBuffer=l["default"].GLBuffer.createVertexBuffer(a,this.staticData,a.STATIC_DRAW);this.vao=(new l["default"].VertexArrayObject(a)).addIndex(this.indexBuffer);for(c=0;c<this.dynamicProperties.length;++c)b=this.dynamicProperties[c],this.vao.addAttribute(this.dynamicBuffer,b.attribute,a.FLOAT,!1,4*this.dynamicStride,4*b.offset);for(c=0;c<this.staticProperties.length;++c)b=this.staticProperties[c],this.vao.addAttribute(this.staticBuffer,
b.attribute,a.FLOAT,!1,4*this.staticStride,4*b.offset)};a.prototype.uploadDynamic=function(a,c,b){for(var e=0;e<this.dynamicProperties.length;e++){var d=this.dynamicProperties[e];d.uploadFunction(a,c,b,this.dynamicData,this.dynamicStride,d.offset)}this.dynamicBuffer.upload()};a.prototype.uploadStatic=function(a,c,b){for(var e=0;e<this.staticProperties.length;e++){var d=this.staticProperties[e];d.uploadFunction(a,c,b,this.staticData,this.staticStride,d.offset)}this.staticBuffer.upload()};a.prototype.destroy=
function(){this.dynamicData=this.dynamicProperties=null;this.dynamicBuffer.destroy();this.staticData=this.staticProperties=null;this.staticBuffer.destroy()};return a}();g["default"]=a},{"../../core/utils/createIndicesForQuads":117,"pixi-gl-core":12}],167:[function(a,k,g){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;var h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(a("../../core")),f=(k=a("./ParticleShader"))&&k.__esModule?k:{"default":k},d=(a=a("./ParticleBuffer"))&&a.__esModule?a:{"default":a};a=function(a){function b(c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.shader=null;c.indexBuffer=null;c.properties=null;c.tempMatrix=new h.Matrix;c.CONTEXT_UID=0;return c}l(b,a);b.prototype.onContextChange=function(){var a=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new f["default"](a);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,
offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]};b.prototype.start=function(){this.renderer.bindShader(this.shader)};b.prototype.render=function(a){var b=a.children,
c=a._maxSize,d=a._batchSize,e=this.renderer,f=b.length;if(0!==f){f>c&&(f=c);(c=a._glBuffers[e.CONTEXT_UID])||(c=a._glBuffers[e.CONTEXT_UID]=this.generateBuffers(a));this.renderer.setBlendMode(a.blendMode);var g=e.gl,h=a.worldTransform.copy(this.tempMatrix);h.prepend(e._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=h.toArray(!0);this.shader.uniforms.uAlpha=a.worldAlpha;this.shader.uniforms.uSampler=e.bindTexture(b[0]._texture.baseTexture);for(var k=h=0;h<f;h+=d,k+=1){var l=
f-h;l>d&&(l=d);var r=c[k];r.uploadDynamic(b,h,l);a._bufferToUpdate===k&&(r.uploadStatic(b,h,l),a._bufferToUpdate=k+1);e.bindVao(r.vao);r.vao.draw(g.TRIANGLES,6*l)}}};b.prototype.generateBuffers=function(a){var b=this.renderer.gl,c=[],e=a._maxSize,f=a._batchSize;a=a._properties;for(var g=0;g<e;g+=f)c.push(new d["default"](b,this.properties,a,f));return c};b.prototype.uploadVertices=function(a,b,c,d,f,g){for(var e,h,k,l,m=0;m<c;++m){l=a[b+m];e=l._texture;var n=l.scale.x,p=l.scale.y;k=e.trim;var q=e.orig;
k?(h=k.x-l.anchor.x*q.width,e=h+k.width,l=k.y-l.anchor.y*q.height,k=l+k.height):(e=q.width*(1-l.anchor.x),h=q.width*-l.anchor.x,k=q.height*(1-l.anchor.y),l=q.height*-l.anchor.y);d[g]=h*n;d[g+1]=l*p;d[g+f]=e*n;d[g+f+1]=l*p;d[g+2*f]=e*n;d[g+2*f+1]=k*p;d[g+3*f]=h*n;d[g+3*f+1]=k*p;g+=4*f}};b.prototype.uploadPosition=function(a,b,c,d,f,g){for(var e=0;e<c;e++){var h=a[b+e].position;d[g]=h.x;d[g+1]=h.y;d[g+f]=h.x;d[g+f+1]=h.y;d[g+2*f]=h.x;d[g+2*f+1]=h.y;d[g+3*f]=h.x;d[g+3*f+1]=h.y;g+=4*f}};b.prototype.uploadRotation=
function(a,b,c,d,f,g){for(var e=0;e<c;e++){var h=a[b+e].rotation;d[g]=h;d[g+f]=h;d[g+2*f]=h;d[g+3*f]=h;g+=4*f}};b.prototype.uploadUvs=function(a,b,c,d,f,g){for(var e=0;e<c;++e){var h=a[b+e]._texture._uvs;h?(d[g]=h.x0,d[g+1]=h.y0,d[g+f]=h.x1,d[g+f+1]=h.y1,d[g+2*f]=h.x2,d[g+2*f+1]=h.y2,d[g+3*f]=h.x3,d[g+3*f+1]=h.y3):(d[g]=0,d[g+1]=0,d[g+f]=0,d[g+f+1]=0,d[g+2*f]=0,d[g+2*f+1]=0,d[g+3*f]=0,d[g+3*f+1]=0);g+=4*f}};b.prototype.uploadAlpha=function(a,b,c,d,f,g){for(var e=0;e<c;e++){var h=a[b+e].alpha;d[g]=
h;d[g+f]=h;d[g+2*f]=h;d[g+3*f]=h;g+=4*f}};b.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer);a.prototype.destroy.call(this);this.shader.destroy();this.tempMatrix=this.indices=null};return b}(h.ObjectRenderer);g["default"]=a;h.WebGLRenderer.registerPlugin("particle",a)},{"../../core":63,"./ParticleBuffer":166,"./ParticleShader":168}],168:[function(a,k,g){function l(a,f){if("function"!==typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+
typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}g.__esModule=!0;a=a("../../core/Shader");a=function(a){function f(d){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");d=a.call(this,d,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
"varying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}");if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}l(f,a);return f}((a&&a.__esModule?a:{"default":a})["default"]);g["default"]=a},{"../../core/Shader":42}],
169:[function(a,k,g){Math.sign||(Math.sign=function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1})},{}],170:[function(a,k,g){a=(a=a("object-assign"))&&a.__esModule?a:{"default":a};Object.assign||(Object.assign=a["default"])},{"object-assign":5}],171:[function(a,k,g){a("./Object.assign");a("./requestAnimationFrame");a("./Math.sign");window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||
(window.Uint16Array=Array)},{"./Math.sign":169,"./Object.assign":170,"./requestAnimationFrame":172}],172:[function(a,k,g){(function(a){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});a.performance&&a.performance.now||function(){var b=Date.now();a.performance||(a.performance={});a.performance.now=function(){return Date.now()-b}}();for(var g=Date.now(),f=["ms","moz","webkit","o"],d=0;d<f.length&&!a.requestAnimationFrame;++d){var c=f[d];a.requestAnimationFrame=a[c+
"RequestAnimationFrame"];a.cancelAnimationFrame=a[c+"CancelAnimationFrame"]||a[c+"CancelRequestAnimationFrame"]}a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if("function"!==typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),c=16+g-b;0>c&&(c=0);g=b;return setTimeout(function(){g=Date.now();a(performance.now())},c)});a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){return clearTimeout(a)})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{}],173:[function(a,k,g){function l(a,b){return b instanceof c.Text?(b.updateText(!0),!0):!1}function h(a,b){if(b instanceof c.TextStyle){var d=c.Text.getFontStyle(b);c.Text.fontPropertiesCache[d]||c.Text.calculateFontProperties(d);return!0}return!1}function f(a,b){if(a instanceof c.Text){-1===b.indexOf(a.style)&&b.push(a.style);-1===b.indexOf(a)&&b.push(a);var d=a._texture.baseTexture;-1===b.indexOf(d)&&b.push(d);return!0}return!1}function d(a,b){return a instanceof
c.TextStyle?(-1===b.indexOf(a)&&b.push(a),!0):!1}g.__esModule=!0;var c=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(a("../core")),b=(a=a("./limiters/CountLimiter"))&&a.__esModule?a:{"default":a},e=c.ticker.shared;c.settings.UPLOADS_PER_FRAME=4;a=function(){function a(e){var g=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.limiter=new b["default"](c.settings.UPLOADS_PER_FRAME);
this.renderer=e;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){g.queue&&g.prepareItems()};this.register(f,l);this.register(d,h)}a.prototype.upload=function(a,b){"function"===typeof a&&(b=a,a=null);a&&this.add(a);this.queue.length?(b&&this.completes.push(b),this.ticking||(this.ticking=!0,e.addOnce(this.tick,this))):b&&b()};a.prototype.tick=function(){setTimeout(this.delayedTick,0)};a.prototype.prepareItems=
function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){for(var a=this.queue[0],b=!1,c=0,d=this.uploadHooks.length;c<d;c++)if(this.uploadHooks[c](this.uploadHookHelper,a)){this.queue.shift();b=!0;break}b||this.queue.shift()}if(this.queue.length)e.addOnce(this.tick,this);else for(this.ticking=!1,a=this.completes.slice(0),b=this.completes.length=0,c=a.length;b<c;b++)a[b]()};a.prototype.register=function(a,b){a&&this.addHooks.push(a);b&&this.uploadHooks.push(b);return this};
a.prototype.add=function(a){for(var b=0,d=this.addHooks.length;b<d&&!this.addHooks[b](a,this.queue);b++);if(a instanceof c.Container)for(b=a.children.length-1;0<=b;b--)this.add(a.children[b]);return this};a.prototype.destroy=function(){this.ticking&&e.remove(this.tick,this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return a}();g["default"]=a},{"../core":63,"./limiters/CountLimiter":176}],174:[function(a,k,g){function l(a,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){if(b instanceof d.BaseTexture){var c=b.source;a.ctx.drawImage(c,0,0,0===c.width?a.canvas.width:Math.min(a.canvas.width,c.width),0===c.height?a.canvas.height:Math.min(a.canvas.height,
c.height),0,0,a.canvas.width,a.canvas.height);return!0}return!1}function f(a,b){if(a instanceof d.BaseTexture)return-1===b.indexOf(a)&&b.push(a),!0;if(a._texture&&a._texture instanceof d.Texture){var c=a._texture.baseTexture;-1===b.indexOf(c)&&b.push(c);return!0}return!1}g.__esModule=!0;var d=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(a("../../core"));a=a("../BasePrepare");a=function(a){function b(c){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");c=a.call(this,c);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.uploadHookHelper=c;c.canvas=document.createElement("canvas");c.canvas.width=16;c.canvas.height=16;c.ctx=c.canvas.getContext("2d");c.register(f,h);return c}l(b,a);b.prototype.destroy=function(){a.prototype.destroy.call(this);this.canvas=this.ctx=null};return b}((a&&a.__esModule?
a:{"default":a})["default"]);g["default"]=a;d.CanvasRenderer.registerPlugin("prepare",a)},{"../../core":63,"../BasePrepare":173}],175:[function(a,k,g){function l(a){return a&&a.__esModule?a:{"default":a}}g.__esModule=!0;var h=a("./webgl/WebGLPrepare");Object.defineProperty(g,"webgl",{enumerable:!0,get:function(){return l(h)["default"]}});var f=a("./canvas/CanvasPrepare");Object.defineProperty(g,"canvas",{enumerable:!0,get:function(){return l(f)["default"]}});var d=a("./BasePrepare");Object.defineProperty(g,
"BasePrepare",{enumerable:!0,get:function(){return l(d)["default"]}});var c=a("./limiters/CountLimiter");Object.defineProperty(g,"CountLimiter",{enumerable:!0,get:function(){return l(c)["default"]}});var b=a("./limiters/TimeLimiter");Object.defineProperty(g,"TimeLimiter",{enumerable:!0,get:function(){return l(b)["default"]}})},{"./BasePrepare":173,"./canvas/CanvasPrepare":174,"./limiters/CountLimiter":176,"./limiters/TimeLimiter":177,"./webgl/WebGLPrepare":178}],176:[function(a,k,g){g.__esModule=
!0;a=function(){function a(g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.maxItemsPerFrame=g;this.itemsLeft=0}a.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};a.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return a}();g["default"]=a},{}],177:[function(a,k,g){g.__esModule=!0;a=function(){function a(g){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.maxMilliseconds=g;this.frameStart=
0}a.prototype.beginFrame=function(){this.frameStart=Date.now()};a.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return a}();g["default"]=a},{}],178:[function(a,k,g){function l(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function h(a,c){return c instanceof b.BaseTexture?(c._glTextures[a.CONTEXT_UID]||a.textureManager.updateTexture(c),!0):!1}function f(a,c){return c instanceof b.Graphics?((c.dirty||c.clearDirty||!c._webGL[a.plugins.graphics.CONTEXT_UID])&&a.plugins.graphics.updateGraphics(c),!0):!1}function d(a,c){if(a instanceof b.BaseTexture)return-1===c.indexOf(a)&&c.push(a),!0;if(a._texture&&a._texture instanceof b.Texture){var d=a._texture.baseTexture;-1===c.indexOf(d)&&c.push(d);return!0}return!1}
function c(a,c){return a instanceof b.Graphics?(c.push(a),!0):!1}g.__esModule=!0;var b=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}(a("../../core"));a=a("../BasePrepare");a=function(a){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");e=a.call(this,e);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
e=!e||"object"!==typeof e&&"function"!==typeof e?this:e;e.uploadHookHelper=e.renderer;e.register(d,h).register(c,f);return e}l(b,a);return b}((a&&a.__esModule?a:{"default":a})["default"]);g["default"]=a;b.WebGLRenderer.registerPlugin("prepare",a)},{"../../core":63,"../BasePrepare":173}],179:[function(a,k,g){(function(k){function h(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);b["default"]=a;return b}g.__esModule=!0;g.loader=
g.prepare=g.particles=g.mesh=g.loaders=g.interaction=g.filters=g.extras=g.extract=g.accessibility=void 0;var f=a("./polyfill");Object.keys(f).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(g,a,{enumerable:!0,get:function(){return f[a]}})});var d=a("./deprecation");Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(g,a,{enumerable:!0,get:function(){return d[a]}})});var c=a("./core");Object.keys(c).forEach(function(a){"default"!==a&&
"__esModule"!==a&&Object.defineProperty(g,a,{enumerable:!0,get:function(){return c[a]}})});var b=a("./accessibility"),b=h(b),e=a("./extract"),e=h(e),l=a("./extras"),l=h(l),p=a("./filters"),p=h(p),m=a("./interaction"),m=h(m),q=a("./loaders"),q=h(q),A=a("./mesh"),A=h(A),B=a("./particles"),B=h(B),w=a("./prepare"),w=h(w);g.accessibility=b;g.extract=e;g.extras=l;g.filters=p;g.interaction=m;g.loaders=q;g.mesh=A;g.particles=B;g.prepare=w;b=q&&q.Loader?new q.Loader:null;g.loader=b;k.PIXI=g}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./accessibility":40,"./core":63,"./deprecation":122,"./extract":124,"./extras":133,"./filters":144,"./interaction":150,"./loaders":153,"./mesh":162,"./particles":165,"./polyfill":171,"./prepare":175}]},{},[179])(179)});PIXI.TransparencyHitArea=function(u){this.sprite=u};PIXI.TransparencyHitArea.create=function(u,a){var k;k=a?new PIXI.WebGLTransparencyHitArea(u):new PIXI.CanvasTransparencyHitArea(u);k.init();return k};PIXI.TransparencyHitArea.prototype.init=function(){};
PIXI.TransparencyHitArea.prototype.contains=function(u,a){if(0===Math.abs(this.sprite.width)||0===Math.abs(this.sprite.height))return!1;var k=this.sprite.texture.frame.width,g=this.sprite.texture.frame.height;u+=this.sprite.anchor.x*k;a+=this.sprite.anchor.y*g;return 0<=u&&u<=k&&0<=a&&a<=g?!this.isTextureTransparentAt(Math.round(u+this.sprite.texture.frame.x),Math.round(a+this.sprite.texture.frame.y)):!1};PIXI.TransparencyHitArea.prototype.getTexture=function(){return this.sprite.texture};
PIXI.TransparencyHitArea.prototype.isTextureTransparentAt=function(u,a){void(u,a);throw Error("Has to be implemented in subclasses");};PIXI.CanvasTransparencyHitArea=function(u){PIXI.TransparencyHitArea.call(this,u);this.textureWidth=this.textureData=null};PIXI.CanvasTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);PIXI.CanvasTransparencyHitArea.constructor=PIXI.CanvasTransparencyHitArea;PIXI.CanvasTransparencyHitArea.prototype.clone=function(){return new PIXI.CanvasTransparencyHitArea(this.sprite)};
PIXI.CanvasTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.CanvasTransparencyHitArea.cachedRenderer&&(PIXI.CanvasTransparencyHitArea.cachedRenderer=new PIXI.CanvasRenderer(1,1));this.initTextureData()};
PIXI.CanvasTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var u=this.getTexture(),a=u.baseTexture.source;this.textureWidth=a.width;a=a.src;void 0===PIXI.CanvasTransparencyHitArea.TextureData[a]&&(u=this.createTextureData(u),PIXI.CanvasTransparencyHitArea.TextureData[a]=u);this.textureData=PIXI.CanvasTransparencyHitArea.TextureData[a]}};
PIXI.CanvasTransparencyHitArea.prototype.createTextureData=function(u){u=u.baseTexture.source;var a=PIXI.CanvasTransparencyHitArea.cachedRenderer,k=a.view;k.width=u.width;k.height=u.height;a=a.view.getContext("2d");a.clearRect(0,0,u.width,u.height);a.drawImage(u,0,0);return a.getImageData(0,0,u.width,u.height).data};
PIXI.CanvasTransparencyHitArea.prototype.isTextureTransparentAt=function(u,a){if(!this.textureData)throw Error("CanvasTransparencyHitArea#init() not called.");return 1>this.textureData[4*(u+a*this.textureWidth)+3]};PIXI.CanvasTransparencyHitArea.TextureData=[];PIXI.CanvasTransparencyHitArea.cachedRenderer=null;PIXI.WebGLTransparencyHitArea=function(u){PIXI.TransparencyHitArea.call(this,u);this.textureWidth=this.textureData=null};PIXI.WebGLTransparencyHitArea.prototype=Object.create(PIXI.TransparencyHitArea.prototype);
PIXI.WebGLTransparencyHitArea.constructor=PIXI.WebGLTransparencyHitArea;PIXI.WebGLTransparencyHitArea.prototype.clone=function(){return new PIXI.WebGLTransparencyHitArea(this.sprite)};PIXI.WebGLTransparencyHitArea.prototype.init=function(){PIXI.TransparencyHitArea.prototype.init.call(this);null===PIXI.WebGLTransparencyHitArea.cachedRenderer&&(PIXI.WebGLTransparencyHitArea.cachedRenderer=new PIXI.WebGLRenderer(1,1));this.initTextureData()};
PIXI.WebGLTransparencyHitArea.prototype.initTextureData=function(){if(!this.textureData){var u=this.getTexture(),a=u.baseTexture.source;this.textureWidth=a.width;a=a.src;void 0===PIXI.WebGLTransparencyHitArea.TextureData[a]&&(u=this.createTextureData(u),PIXI.WebGLTransparencyHitArea.TextureData[a]=u);this.textureData=PIXI.WebGLTransparencyHitArea.TextureData[a]}};
PIXI.WebGLTransparencyHitArea.prototype.createTextureData=function(u){var a=u.baseTexture.source,k=PIXI.WebGLTransparencyHitArea.cachedRenderer.view;k.width=a.width;k.height=a.height;var k=PIXI.WebGLTransparencyHitArea.cachedRenderer.gl,g=k.createFramebuffer();k.bindFramebuffer(k.FRAMEBUFFER,g);void 0===u.baseTexture._glTextures[k.id]&&PIXI.WebGLTransparencyHitArea.cachedRenderer.updateTexture(u.baseTexture);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,u.baseTexture._glTextures[k.id],
0);u=new Uint8Array(a.width*a.height*4);try{k.readPixels(0,0,a.width,a.height,k.RGBA,k.UNSIGNED_BYTE,u)}catch(l){console.log(error)}k.bindFramebuffer(k.FRAMEBUFFER,null);return u};PIXI.WebGLTransparencyHitArea.prototype.isTextureTransparentAt=function(u,a){if(!this.textureData)throw Error("WebGLTransparencyHitArea#init() not called.");return 255>this.textureData[4*(u+a*this.textureWidth)+3]};PIXI.WebGLTransparencyHitArea.TextureData=[];PIXI.WebGLTransparencyHitArea.cachedRenderer=null;function getCurvePoints(u,a,k,g){function l(a,d,e,f){for(var g=2,h;g<e;g+=2){var l=a[g],m=a[g+1],n=a[g+2],p=a[g+3],q=(n-a[g-2])*f,r=(p-a[g-1])*f,t=(a[g+4]-l)*f,u=(a[g+5]-m)*f,v=0,w,A,B,I;for(h=0;h<k;h++)w=d[v++],A=d[v++],B=d[v++],I=d[v++],b[c++]=w*l+A*n+B*q+I*t,b[c++]=w*m+A*p+B*r+I*u}}a="number"===typeof a?a:.5;k="number"===typeof k?k:25;var h,f=1,d=u.length,c=0,b=new Float32Array((d-2)*k+2+(g?2*k:0)),e=new Float32Array(4*(k+2)),n=4;h=u.slice(0);g?(h.unshift(u[d-1]),h.unshift(u[d-2]),h.push(u[0],
u[1])):(h.unshift(u[1]),h.unshift(u[0]),h.push(u[d-2],u[d-1]));for(e[0]=1;f<k;f++){var p=f/k,m=p*p,q=m*p,A=2*q,B=3*m;e[n++]=A-B+1;e[n++]=B-A;e[n++]=q-2*m+p;e[n++]=q-m}e[++n]=1;l(h,e,d,a);g&&(h=[],h.push(u[d-4],u[d-3],u[d-2],u[d-1],u[0],u[1],u[2],u[3]),l(h,e,4,a));d=g?0:u.length-2;b[c++]=u[d++];b[c]=u[d];return b}"undefined"!==typeof exports&&(exports.getCurvePoints=getCurvePoints);

//# sourceMappingURL=combined_mini.js.map